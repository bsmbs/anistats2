(function(e){function t(t){for(var i,s,r=t[0],o=t[1],d=t[2],u=0,p=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,d||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],i=!0,r=1;r<a.length;r++){var o=a[r];0!==n[o]&&(i=!1)}i&&(c.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},n={app:0},c=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/anistats2/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var l=o;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"017e":function(e,t,a){},"02a9":function(e,t,a){},"0b8a":function(e,t,a){"use strict";a("1251")},"0fe3":function(e,t,a){},1251:function(e,t,a){},"14f7":function(e,t,a){"use strict";a("7285")},"1c20":function(e,t,a){"use strict";a("dc3a")},"1d1c":function(e,t,a){},"24e9":function(e,t,a){},2573:function(e,t,a){"use strict";a("9e9b")},"358c":function(e,t,a){"use strict";a("5d2b")},3776:function(e,t,a){"use strict";a("aa1a")},"37b0":function(e,t,a){"use strict";a("6926")},"3bfc":function(e,t,a){},"414b":function(e,t,a){},4234:function(e,t,a){"use strict";a("5152")},"46bc":function(e,t,a){},"4be5":function(e,t,a){"use strict";a("decb")},5152:function(e,t,a){},5283:function(e,t,a){"use strict";a("6493")},"578a":function(e,t,a){},"59ec":function(e,t,a){"use strict";a("8bbd")},"5d2b":function(e,t,a){},"63c7":function(e,t,a){},6493:function(e,t,a){},6532:function(e,t,a){},"65cd":function(e,t,a){},"65ef":function(e,t,a){},6658:function(e,t,a){"use strict";a("24e9")},6926:function(e,t,a){},7285:function(e,t,a){},7746:function(e,t,a){"use strict";a("017e")},"7d4d":function(e,t,a){"use strict";a("9df3")},"7ef0":function(e,t,a){"use strict";a("414b")},"7f3e":function(e,t,a){e.exports=a.p+"img/merge.ca5fa3bb.png"},"7f97":function(e,t,a){"use strict";a("65cd")},8252:function(e,t,a){"use strict";a("d8f8")},8808:function(e,t,a){"use strict";a("3bfc")},"8bbd":function(e,t,a){},"99cf":function(e,t,a){},"9d7c":function(e,t,a){},"9df3":function(e,t,a){},"9e9b":function(e,t,a){},a83d:function(e,t,a){"use strict";a("1d1c")},a94c:function(e,t,a){"use strict";a("e42c")},aa1a:function(e,t,a){},b385:function(e,t,a){"use strict";a("0fe3")},bc5b:function(e,t,a){"use strict";a("6532")},bca0:function(e,t,a){"use strict";a("02a9")},c468:function(e,t,a){"use strict";a("46bc")},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("7a23");function n(e,t,a,n,c,s){var r=Object(i["A"])("router-view");return Object(i["s"])(),Object(i["e"])(r)}a("a9e3"),a("b0c0"),a("99af"),a("159b"),a("ac1f"),a("1276"),a("7db0");var c=a("1da1"),s=(a("96cf"),a("d3b7"),"query ($userId: Int, $page: Int, $perPage: Int, $type: ActivityType, $from: Int, $to: Int) {\n    Page(page: $page, perPage: $perPage) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      activities(userId: $userId, sort: ID_DESC, type: $type, createdAt_greater: $from, createdAt_lesser: $to) {\n        __typename\n        ... on ListActivity {\n          id\n          media {\n            id\n            type\n            title {\n              romaji\n            }\n            coverImage {\n              medium\n            }\n          }\n          type\n          createdAt\n          status\n          progress\n        }\n      }\n    }\n  }"),r="query ($userId: Int, $type: MediaType, $chunk: Int) {\n    MediaListCollection (userId: $userId, type: $type, chunk: $chunk) {\n        lists {\n            name\n            isCustomList\n            entries {\n              id\n              status\n              progress\n              createdAt\n              startedAt {\n                year\n                month\n                day\n              }\n              completedAt {\n                year\n                month\n                day\n              }\n              media {\n                id\n                type\n                bannerImage\n                coverImage {\n                  medium\n                }\n                averageScore\n                seasonYear\n                title {\n                  romaji\n                }\n                format\n                episodes\n                chapters\n              }\n            }\n          }\n        }\n      }",o="query ($userId: Int, $mediaId: Int, $page: Int, $perPage: Int) {\n    Media(id: $mediaId) {\n      id\n      title {\n        romaji\n      }\n      coverImage {\n        large\n      }\n      bannerImage\n      episodes\n    }\n    Page(page: $page, perPage: $perPage) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      activities(sort: ID_DESC, mediaId: $mediaId, userId: $userId) {\n        __typename\n        ... on ListActivity {\n          id\n          media {\n            id\n            type\n            title {\n              romaji\n            }\n            coverImage {\n              medium\n            }\n          }\n          type\n          createdAt\n          status\n          progress\n        }\n      }\n    }\n  }\n  ",d="query ($username: String) {\n    User (name: $username) {\n      id\n      name\n      avatar {\n        medium\n      }\n    }\n  }",l=a("5d6c"),u={revalidateOnFocus:!1,dedupingInterval:36e5};function p(e,t){return b.apply(this,arguments)}function b(){return b=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({query:t,variables:a})});case 2:return i=e.sent,e.next=5,i.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function h(e){return O.apply(this,arguments)}function O(){return O=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",p(d,{username:t}));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function j(e,t){return v.apply(this,arguments)}function v(){return v=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){var i,n,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i={page:1,perPage:50,mediaId:a,userId:t},n=Object(l["a"])("/user/"+t+"/media/"+a,(function(){return p(o,i)}),u),c=n.data,s=n.mutate,"undefined"!==typeof c.value){e.next=5;break}return e.next=5,s();case 5:return e.abrupt("return",c.value);case 6:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return m=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={userId:t,type:a},e.abrupt("return",p(r,i));case 2:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function g(e,t,a,i,n){return y.apply(this,arguments)}function y(){return y=Object(c["a"])(regeneratorRuntime.mark((function e(t,a,i,n,c){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=void 0,"anime"==i?r="ANIME_LIST":"manga"==i&&(r="MANGA_LIST"),o={page:a,perPage:50,userId:t,type:r,from:n,to:c},e.abrupt("return",p(s,o));case 4:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function k(e,t){return e.d==t.d&&e.m==t.m&&e.y==t.y}var w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],S=["January","February","March","April","May","June","July","August","September","October","November","December"],A={debug:!0,state:Object(i["w"])({userData:{id:0,username:"",avatar:""},activities:[],preloadedActivities:[],currentPage:1,updateHour:3,mediaType:"both",saveSettings:!1,animeList:[],mangaList:[]}),setUserdata:function(e){this.state.userData.id=e.data.User.id,this.state.userData.username=e.data.User.name,this.state.userData.avatar=e.data.User.avatar.medium},incrementCurrentPage:function(){this.state.currentPage++},appendActivities:function(e){return this.state.activities=this.state.activities.concat(e),this.state.activities},destroy:function(){this.state.currentPage=1,this.state.activities=[],this.state.preloadedActivities=[],this.state.animeList=[],this.state.mangaList=[]},saveSettings:function(e){this.state.saveSettings=e},setSettings:function(e){this.destroy(),"updateHour"in e&&(this.state.updateHour=e.updateHour),"mediaType"in e&&e.mediaType&&(this.state.mediaType=e.mediaType)},setPreloadedActivities:function(e){this.state.preloadedActivities=e},setAnimeList:function(e){this.state.animeList=e},setMangaList:function(e){this.state.mangaList=e},parseActivities:function(e){var t=this,a=[];return e.forEach((function(e){var i=new Date(1e3*e.createdAt);i.getHours()<t.state.updateHour&&i.setDate(i.getDate()-1);var n,c={d:i.getDate(),m:i.getMonth()+1,y:i.getFullYear(),weekday:w[i.getDay()],time:i.getTime()},s=0,r=0;switch(e.status){case"watched episode":case"rewatched episode":n=e.progress.split(" - "),s=2==n.length?parseInt(n[1])-parseInt(n[0])+1:1;break;case"read chapter":case"reread chapter":n=e.progress.split(" - "),r=2==n.length?parseInt(n[1])-parseInt(n[0])+1:1;break;case"completed":"ANIME"==e.media.type?s=1:r=1;break;default:return}var o={id:e.media.id,type:e.media.type,title:e.media.title.romaji,cover:e.media.coverImage.medium,episodes:s||r},d=a.find((function(e){return k(e.day,c)}));if(d){d.episodes+=s,d.chapters+=r;var l=d.media.find((function(e){return e.id==o.id&&e.type==o.type}));l?"ANIME"==l.type?l.episodes+=s:l.episodes+=r:d.media.push(o)}else a.push({day:c,episodes:s,chapters:r,media:o?[o]:[]})})),a}},L=(a("a15b"),a("d81d"),a("5319"),a("2ca0"),(new Intl.DateTimeFormat).formatToParts(new Date)),C=L.map((function(e){switch(e.type){case"day":return"DD";case"month":return"MM";case"year":return"YYYY";default:return e.value}})).join("");function I(e){return 0==e.time?"Unknown":C.replace("DD",String(e.d)).replace("MM",e.m>=10?String(e.m):"0"+String(e.m)).replace("YYYY",String(e.y))}function P(e){var t=new Date(e);return{d:t.getDate(),m:t.getMonth()+1,y:t.getFullYear(),weekday:w[t.getDay()],time:t.getTime()}}function D(e){var t=e.find((function(e){return e.status.startsWith("plans")}));if(t){var a=new Date(1e3*t.createdAt),i={d:a.getDate(),m:a.getMonth()+1,y:a.getFullYear(),weekday:w[a.getDay()],time:a.getTime()};return t?I(i):"Unknown"}return"Unknown"}function T(){document.body.classList.contains("site-theme-light")?(document.body.classList.remove("site-theme-light"),window.localStorage.setItem("theme","dark")):(document.body.classList.add("site-theme-light"),window.localStorage.setItem("theme","light"))}var E=Object(i["j"])({data:function(){return{state:A.state}},created:function(){var e=localStorage.getItem("updateHour"),t=localStorage.getItem("mediaType");e&&t&&(A.saveSettings(!0),A.setSettings({updateHour:Number(e),mediaType:t}));var a=localStorage.getItem("theme");"light"==a&&T()},mounted:function(){this.$nextTick().then((function(){}))}});a("a83d");E.render=n;var M=E,_=a("6c02"),$=Object(i["L"])("data-v-6685224c");Object(i["v"])("data-v-6685224c");var H={class:"container"},x=Object(i["i"])("span",{class:"warning"},[Object(i["h"])("anistats 2 is still in "),Object(i["i"])("span",{style:{color:"var(--color-text-blue)"}},"beta"),Object(i["h"])(" and may lack some features. For the previous version look "),Object(i["i"])("a",{href:"https://pizza61.github.io/anistats"},"here"),Object(i["h"])(".")],-1),N={key:0,class:"error"},R={class:"input"},Y={class:"button-wrapper desktop"},z=Object(i["h"])("Settings"),U={class:"button-wrapper desktop"},V=Object(i["h"])("Continue"),q={class:"buttons mobile"},F={class:"button-wrapper"},J=Object(i["h"])("Settings"),W={class:"button-wrapper"},G=Object(i["h"])("Continue"),B={class:"settings"};Object(i["t"])();var X=$((function(e,t,a,n,c,s){var r=Object(i["A"])("Logo"),o=Object(i["A"])("Button"),d=Object(i["A"])("Settings"),l=Object(i["A"])("Panel"),u=Object(i["A"])("Special");return Object(i["s"])(),Object(i["e"])("div",H,[Object(i["i"])(r,{size:"2em"}),x,Object(i["i"])(i["b"],{name:"errorfade"},{default:$((function(){return[e.error.length>0?(Object(i["s"])(),Object(i["e"])("span",N,Object(i["E"])(e.error),1)):Object(i["f"])("",!0)]})),_:1}),Object(i["i"])("div",R,[Object(i["i"])("div",Y,[Object(i["i"])(o,{icon:"cog",onClick:e.toggleSettings},{default:$((function(){return[z]})),_:1},8,["onClick"])]),Object(i["J"])(Object(i["i"])("input",{class:["username",{usernameError:e.error.length>0,pulse:e.loading}],placeholder:"Enter username",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.username=t}),onKeyup:t[2]||(t[2]=Object(i["K"])((function(){return e.send&&e.send.apply(e,arguments)}),["enter"]))},null,34),[[i["H"],e.username]]),Object(i["i"])("div",U,[Object(i["i"])(o,{onClick:e.send,icon:"chevron-right"},{default:$((function(){return[V]})),_:1},8,["onClick"])])]),Object(i["i"])("div",q,[Object(i["i"])("div",F,[Object(i["i"])(o,{icon:"cog",onClick:e.toggleSettings},{default:$((function(){return[J]})),_:1},8,["onClick"])]),Object(i["i"])("div",W,[Object(i["i"])(o,{onClick:e.send,icon:"chevron-right"},{default:$((function(){return[G]})),_:1},8,["onClick"])])]),Object(i["i"])("div",B,[Object(i["i"])(i["b"],{name:"settings",mode:"out-in"},{default:$((function(){return[e.settings?(Object(i["s"])(),Object(i["e"])(d,{key:0})):Object(i["f"])("",!0)]})),_:1})]),Object(i["i"])("footer",null,[Object(i["i"])(l,{onSpecial:t[3]||(t[3]=function(t){return e.toggleSpecial(t)})})]),Object(i["i"])(i["b"],{name:"popup-backdrop"},{default:$((function(){return[e.showSpecial?(Object(i["s"])(),Object(i["e"])(u,{key:0,view:e.specialView,onHide:t[4]||(t[4]=function(t){return e.showSpecial=!1})},null,8,["view"])):Object(i["f"])("",!0)]})),_:1})])})),K=(a("3ca3"),a("ddb0"),a("2b3d"),Object(i["L"])("data-v-1ee4ba7e"));Object(i["v"])("data-v-1ee4ba7e");var Q=Object(i["i"])("span",{class:"blue"},"ani",-1),Z=Object(i["i"])("span",null,"stats",-1);Object(i["t"])();var ee=K((function(e,t,a,n,c,s){return Object(i["s"])(),Object(i["e"])("div",{class:"logo",style:{fontSize:e.size}},[Q,Z],4)})),te=Object(i["j"])({props:{size:String}});a("8252");te.render=ee,te.__scopeId="data-v-1ee4ba7e";var ae=te,ie=Object(i["L"])("data-v-edb20c84");Object(i["v"])("data-v-edb20c84");var ne={class:"btn"};Object(i["t"])();var ce=ie((function(e,t,a,n,c,s){var r=Object(i["A"])("font-awesome-icon");return Object(i["s"])(),Object(i["e"])("button",ne,[e.icon?(Object(i["s"])(),Object(i["e"])(r,{key:0,icon:e.icon,size:"lg","fixed-width":""},null,8,["icon"])):Object(i["f"])("",!0),Object(i["i"])("span",null,[Object(i["z"])(e.$slots,"default",{},void 0,!0)])])})),se=Object(i["j"])({props:{icon:String,color:String}});a("8808");se.render=ce,se.__scopeId="data-v-edb20c84";var re=se,oe=Object(i["L"])("data-v-a25cacc0");Object(i["v"])("data-v-a25cacc0");var de={class:"settings"},le={class:"section"},ue={class:"setting-header"},pe={class:"setting-name"},be={class:"setting-desc"},he={class:"setting-switch"},Oe=Object(i["h"])("Save those settings for later");Object(i["t"])();var je=oe((function(e,t,a,n,c,s){var r=Object(i["A"])("SettingsSwitcher"),o=Object(i["A"])("Switch");return Object(i["s"])(),Object(i["e"])("div",de,[Object(i["i"])("div",le,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.settings,(function(t,a){return Object(i["s"])(),Object(i["e"])("div",{class:"setting",key:a},[Object(i["i"])("div",ue,[Object(i["i"])("div",pe,Object(i["E"])(t.name),1),Object(i["i"])("div",be,Object(i["E"])(t.desc),1)]),Object(i["i"])("div",he,[Object(i["i"])(r,{options:t.options,default:t.default,onSelection:function(t){return e.handleSelect(t,a)}},null,8,["options","default","onSelection"])])])})),128))]),Object(i["i"])(o,{name:"save","model-value":e.save,"onUpdate:modelValue":e.toggleSave},{default:oe((function(){return[Oe]})),_:1},8,["model-value","onUpdate:modelValue"])])})),ve=(a("fb6a"),Object(i["L"])("data-v-49c0d509"));Object(i["v"])("data-v-49c0d509");var fe={class:"switches"};Object(i["t"])();var me=ve((function(e,t,a,n,c,s){return Object(i["s"])(),Object(i["e"])("div",fe,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.options,(function(t,a){return Object(i["s"])(),Object(i["e"])("div",{class:["switch",{selected:t==e.chosen}],key:a,onClick:function(a){return e.select(t)}},Object(i["E"])(e.capitalize(t)),11,["onClick"])})),128))])})),ge=Object(i["j"])({props:{options:Array,default:String},data:function(){return{cho:[],chosen:""}},mounted:function(){this.chosen=this.default},methods:{capitalize:function(e){return e[0].toUpperCase()+e.slice(1)},select:function(e){this.chosen=e,this.$emit("selection",e)}}});a("7746");ge.render=me,ge.__scopeId="data-v-49c0d509";var ye=ge,ke=Object(i["L"])("data-v-358459af"),we=ke((function(e,t,a,n,c,s){return Object(i["s"])(),Object(i["e"])("div",null,[Object(i["i"])("div",null,[Object(i["i"])("input",{type:"checkbox",checked:e.modelValue,onInput:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.target.checked)}),id:e.name,class:"switch-input"},null,40,["checked","id"]),Object(i["i"])("label",{for:e.name,class:"switch-label"},[Object(i["z"])(e.$slots,"default",{},void 0,!0)],8,["for"])])])})),Se=Object(i["j"])({props:{modelValue:Boolean,name:String},emits:["update:modelValue"]});a("1c20");Se.render=we,Se.__scopeId="data-v-358459af";var Ae=Se,Le=Object(i["j"])({components:{SettingsSwitcher:ye,Switch:Ae},data:function(){return{state:A.state,save:!1,settings:[{name:"Stats type",desc:"Choose which type of media you want to be displayed.",options:["both","anime","manga"]},{name:"Beginning of a new day",desc:"You may choose to count late night as previous day.",options:["12am","1am","2am","3am","4am","6am"]}]}},created:function(){this.settings[0].default=this.state.mediaType,this.settings[1].default=0==this.state.updateHour?"12am":this.state.updateHour+"am",this.save=this.state.saveSettings},methods:{handleSelect:function(e,t){var a=e.toLowerCase();0==t?A.setSettings({mediaType:a}):1==t&&("12am"==e?A.setSettings({updateHour:0}):A.setSettings({updateHour:Number(e.slice(0,-2))}))},toggleSave:function(e){this.save=e,A.saveSettings(e)}}});a("5283");Le.render=je,Le.__scopeId="data-v-a25cacc0";var Ce=Le,Ie=Object(i["L"])("data-v-3bc7c728");Object(i["v"])("data-v-3bc7c728");var Pe={class:"footer-wrapper"},De={class:"timestamp"},Te={class:"footer"};Object(i["t"])();var Ee=Ie((function(e,t,a,n,c,s){return Object(i["s"])(),Object(i["e"])("div",Pe,[Object(i["i"])("div",De,"Built on "+Object(i["E"])(e.buildTimestamp),1),Object(i["i"])("div",Te,[Object(i["i"])("span",{class:"footer-link",onClick:t[1]||(t[1]=function(){return e.lightMode&&e.lightMode.apply(e,arguments)})},"Toggle theme"),Object(i["i"])("span",{class:"footer-link",onClick:t[2]||(t[2]=function(t){return e.toggleSpecial("about")})},"About"),Object(i["i"])("span",{class:"footer-link",onClick:t[3]||(t[3]=function(t){return e.toggleSpecial("help")})},"Help")])])})),Me=Object(i["j"])({computed:{buildTimestamp:function(){return document.documentElement.dataset.buildTimestamp}},methods:{lightMode:function(){T()},toggleSpecial:function(e){this.$emit("special",e)}}});a("7d4d");Me.render=Ee,Me.__scopeId="data-v-3bc7c728";var _e=Me,$e=Object(i["L"])("data-v-2da0d219");Object(i["v"])("data-v-2da0d219");var He={class:"header"},xe={class:"header-title"},Ne=Object(i["i"])("span",{style:{flex:"1"}},null,-1),Re={class:"content"};Object(i["t"])();var Ye=$e((function(e,t,a,n,c,s){var r=Object(i["A"])("font-awesome-icon");return Object(i["s"])(),Object(i["e"])("div",{class:"special",onClick:t[3]||(t[3]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[Object(i["i"])("div",{class:"dialog",onClick:t[2]||(t[2]=function(){return e.popupClick&&e.popupClick.apply(e,arguments)})},[Object(i["i"])("div",He,[Object(i["i"])("div",xe,Object(i["E"])(e.view[0].toUpperCase()+e.view.slice(1)),1),Ne,Object(i["i"])("div",{class:"header-control",onClick:t[1]||(t[1]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[Object(i["i"])(r,{icon:"times"})])]),Object(i["i"])("div",Re,[(Object(i["s"])(),Object(i["e"])(Object(i["C"])(e.view)))])])])})),ze=Object(i["i"])("p",null,"anistats is an extension for AniList that lets you check how much time you spend/waste on watching anime and reading manga based on your activity.",-1),Ue=Object(i["i"])("p",null,[Object(i["h"])("Source code of this site is available "),Object(i["i"])("a",{target:"_blank",href:"https://github.com/pizza61/anistats2"},"here"),Object(i["h"])(".")],-1);function Ve(e,t,a,n,c,s){return Object(i["s"])(),Object(i["e"])("div",null,[ze,Ue])}var qe=Object(i["j"])({});qe.render=Ve;var Fe=qe,Je=a("7f3e"),We=a.n(Je),Ge=Object(i["L"])("data-v-6692f36c");Object(i["v"])("data-v-6692f36c");var Be=Object(i["i"])("h3",null,"How does it work?",-1),Xe=Object(i["h"])(' AniList has a small feature called "Activity". Each time you watch an episode, add something to your planning list, an activity is created. anistats takes adventage of that to count how many episodes you\'ve seen on a specific day. '),Ke=Object(i["i"])("h3",null,"Why it doesn't work?",-1),Qe=Object(i["i"])("h4",null,"Activity Merge Time",-1),Ze=Object(i["i"])("img",{src:We.a},null,-1),et=Object(i["i"])("br",null,null,-1),tt=Object(i["i"])("b",null,"It has to be set to 12 hours or less for anistats to work properly",-1),at=Object(i["h"])(" (in most use cases). If you set it to 'Always', it produces "),it=Object(i["i"])("b",null,"one activity per anime",-1),nt=Object(i["h"])(", no matter how long it took you to watch it. For anistats, it's best if there is "),ct=Object(i["i"])("b",null,"at least one activity per anime per day.",-1),st=Object(i["i"])("br",null,null,-1),rt=Object(i["h"])(" Note: changing it won't affect previous activities. "),ot=Object(i["i"])("br",null,null,-1),dt=Object(i["i"])("br",null,null,-1),lt=Object(i["h"])(" Also, you have to add episodes using this little '+' symbol next to the episode count instead of setting it directly from the 'Edit' menu. "),ut=Object(i["i"])("br",null,null,-1),pt=Object(i["h"])(" Let's say you've started a new series yesterday and watched 3 episodes so far. Today, after watching 3 next episodes, you set the episode count directly to '6'. AniList creates an activity saying that you've watched episode 6. anistats counts that as "),bt=Object(i["i"])("b",null,"one",-1),ht=Object(i["h"])(" episode. "),Ot=Object(i["i"])("br",null,null,-1),jt=Object(i["h"])(" If you click the '+' symbol three times instead, the activity says that you've watched episodes 4-6. anistats sees that correctly as 3 episodes. ");Object(i["t"])();var vt=Ge((function(e,t,a,n,c,s){return Object(i["s"])(),Object(i["e"])("div",null,[Be,Xe,Ke,Qe,Ze,et,tt,at,it,nt,ct,st,rt,ot,dt,lt,ut,pt,bt,ht,Ot,jt])})),ft=Object(i["j"])({});a("bca0");ft.render=vt,ft.__scopeId="data-v-6692f36c";var mt=ft,gt=Object(i["j"])({props:{view:String},components:{About:Fe,Help:mt},methods:{popupHide:function(){this.$emit("hide")},popupClick:function(e){e.stopPropagation()}}});a("c468");gt.render=Ye,gt.__scopeId="data-v-2da0d219";var yt=gt,kt=Object(i["j"])({components:{Logo:ae,Button:re,Settings:Ce,Panel:_e,Special:yt},data:function(){return{show:!0,loading:!1,settings:!1,showSpecial:!1,specialView:"",username:"",error:"",state:A.state}},mounted:function(){"1"==this.$route.query.error&&this.showError("Something went wrong. Please try again")},methods:{send:function(){if(this.username.length<2)return this.showError("Hey, I said enter your username.");if(this.username.startsWith("https://anilist.co"))try{var e=new URL(this.username);if(!e.pathname.startsWith("/user/"))throw"Invalid URL";var t=e.pathname.split("/")[2];this.process(t)}catch(a){this.showError(a)}else this.state.saveSettings?(localStorage.setItem("updateHour",String(this.state.updateHour)),localStorage.setItem("mediaType",this.state.mediaType)):(localStorage.removeItem("updateHour"),localStorage.removeItem("mediaType")),this.loading=!0,this.process(this.username)},process:function(e){var t=this;this.state.userData.username==e&&this.state.activities.length>0?this.$router.push("/"+e):h(e).then((function(a){A.destroy(),A.setUserdata(a),t.$router.push("/"+e)})).catch((function(){t.showError("Invalid username (or profile is private)")}))},showError:function(e){var t=this;this.loading=!1,this.error=e,setTimeout((function(){t.error=""}),5e3)},toggleSettings:function(){this.settings=!this.settings},toggleSpecial:function(e){this.specialView=e,this.showSpecial=!0}}});a("7f97");kt.render=X,kt.__scopeId="data-v-6685224c";var wt=kt,St=Object(i["L"])("data-v-393292b8");Object(i["v"])("data-v-393292b8");var At={key:1,class:"view"},Lt={class:"content"},Ct={class:"mobile-header"};Object(i["t"])();var It=St((function(e,t,a,n,c,s){var r=Object(i["A"])("Loading"),o=Object(i["A"])("Sidebar"),d=Object(i["A"])("font-awesome-icon"),l=Object(i["A"])("Logo"),u=Object(i["A"])("router-link"),p=Object(i["A"])("router-view"),b=Object(i["A"])("Special");return e.loading?(Object(i["s"])(),Object(i["e"])(r,{key:0})):(Object(i["s"])(),Object(i["e"])("div",At,[Object(i["i"])("div",{class:["sidebar-wrapper",{"sidebar-hide-mobile":!e.showSidebar}]},[Object(i["i"])(o,{onSpecial:t[1]||(t[1]=function(t){return e.toggleSpecial(t)}),onToggle:e.toggleSidebar},null,8,["onToggle"])],2),Object(i["i"])("div",Lt,[Object(i["i"])("div",Ct,[Object(i["i"])("div",{class:"mobile-icon",onClick:t[2]||(t[2]=function(){return e.toggleSidebar&&e.toggleSidebar.apply(e,arguments)})},[Object(i["i"])(d,{icon:"bars",size:"lg"})]),Object(i["i"])(u,{class:"a",to:"/"},{default:St((function(){return[Object(i["i"])(l,{size:"1.8em"})]})),_:1})]),Object(i["i"])(p,{onLoadRequest:e.loadEarlierActivities},null,8,["onLoadRequest"])]),Object(i["i"])(i["b"],{name:"popup-backdrop"},{default:St((function(){return[e.showSpecial?(Object(i["s"])(),Object(i["e"])(b,{key:0,view:e.specialView,onHide:t[3]||(t[3]=function(t){return e.showSpecial=!1})},null,8,["view"])):Object(i["f"])("",!0)]})),_:1})]))})),Pt=(a("4de4"),a("a434"),Object(i["L"])("data-v-64c13412"));Object(i["v"])("data-v-64c13412");var Dt={class:"container"},Tt=Object(i["i"])("div",{class:"loading"},"Loading...",-1);Object(i["t"])();var Et=Pt((function(e,t,a,n,c,s){var r=Object(i["A"])("Logo");return Object(i["s"])(),Object(i["e"])("div",Dt,[Object(i["i"])(r,{size:"3em"}),Tt])})),Mt=Object(i["j"])({components:{Logo:ae}});a("da44");Mt.render=Et,Mt.__scopeId="data-v-64c13412";var _t=Mt,$t=Object(i["L"])("data-v-0a18f476");Object(i["v"])("data-v-0a18f476");var Ht={class:"sidebar"},xt={class:"header"},Nt=Object(i["h"])("Overview"),Rt={key:0,class:"category"},Yt=Object(i["i"])("span",{class:"category-header"},"Anime",-1),zt=Object(i["h"])("List"),Ut=Object(i["h"])("History"),Vt={key:1,class:"category"},qt=Object(i["i"])("span",{class:"category-header"},"Manga",-1),Ft=Object(i["h"])("List"),Jt=Object(i["h"])("History"),Wt={class:"category category-small"};Object(i["t"])();var Gt=$t((function(e,t,a,n,c,s){var r=Object(i["A"])("font-awesome-icon"),o=Object(i["A"])("Logo"),d=Object(i["A"])("router-link"),l=Object(i["A"])("MenuItem");return Object(i["s"])(),Object(i["e"])("div",Ht,[Object(i["i"])("div",xt,[Object(i["i"])("div",{class:"header-icon",onClick:t[1]||(t[1]=function(){return e.emitToggle&&e.emitToggle.apply(e,arguments)})},[Object(i["i"])(r,{icon:"bars",size:"lg"})])]),Object(i["i"])(d,{class:"a",to:"/"},{default:$t((function(){return[Object(i["i"])(o,{size:"2em"})]})),_:1}),Object(i["i"])(l,{onClick:e.emitToggle,icon:"user-circle",to:""},{default:$t((function(){return[Nt]})),_:1},8,["onClick"]),"manga"!=e.state.mediaType?(Object(i["s"])(),Object(i["e"])("div",Rt,[Yt,Object(i["i"])(l,{onClick:e.emitToggle,icon:"list",to:"/list/anime"},{default:$t((function(){return[zt]})),_:1},8,["onClick"]),Object(i["i"])(l,{onClick:e.emitToggle,icon:"history",to:"/history/anime"},{default:$t((function(){return[Ut]})),_:1},8,["onClick"])])):Object(i["f"])("",!0),"anime"!=e.state.mediaType?(Object(i["s"])(),Object(i["e"])("div",Vt,[qt,Object(i["i"])(l,{onClick:e.emitToggle,icon:"book-open",to:"/list/manga"},{default:$t((function(){return[Ft]})),_:1},8,["onClick"]),Object(i["i"])(l,{onClick:e.emitToggle,icon:"history",to:"/history/manga"},{default:$t((function(){return[Jt]})),_:1},8,["onClick"])])):Object(i["f"])("",!0),Object(i["i"])("div",Wt,[Object(i["i"])("span",{onClick:t[2]||(t[2]=function(){return e.toggleTheme&&e.toggleTheme.apply(e,arguments)}),class:"item-small"},"Toggle theme"),Object(i["i"])("span",{onClick:t[3]||(t[3]=function(t){return e.toggleSpecial("help")}),class:"item-small"},"Help"),Object(i["i"])("span",{onClick:t[4]||(t[4]=function(t){return e.toggleSpecial("about")}),class:"item-small"},"About")])])})),Bt=Object(i["L"])("data-v-1903ee1d");Object(i["v"])("data-v-1903ee1d");var Xt={class:"label"};Object(i["t"])();var Kt=Bt((function(e,t,a,n,c,s){var r=Object(i["A"])("font-awesome-icon"),o=Object(i["A"])("router-link");return Object(i["s"])(),Object(i["e"])(o,{to:"/"+e.$route.params.user+e.to,class:"menuitem"},{default:Bt((function(){return[Object(i["i"])(r,{icon:e.icon,size:"lg","fixed-width":""},null,8,["icon"]),Object(i["i"])("span",Xt,[Object(i["z"])(e.$slots,"default",{},void 0,!0)])]})),_:3},8,["to"])})),Qt=Object(i["j"])({props:{to:String,icon:String}});a("dbb4");Qt.render=Kt,Qt.__scopeId="data-v-1903ee1d";var Zt=Qt,ea=Object(i["j"])({components:{Logo:ae,MenuItem:Zt},data:function(){return{state:A.state}},methods:{emitToggle:function(){this.$emit("toggle")},toggleTheme:function(){T()},toggleSpecial:function(e){this.$emit("special",e)}}});a("d39e");ea.render=Gt,ea.__scopeId="data-v-0a18f476";var ta=ea,aa=a("5c40"),ia=Object(aa["l"])({components:{Loading:_t,Sidebar:ta,Logo:ae,Special:yt},data:function(){return{loading:!0,lock:!1,lastPage:0,state:A.state,showSidebar:!1,showSpecial:!1,specialView:"",preloadedActivities:[]}},mounted:function(){var e=this;this.state.userData.id?0==this.state.activities.length?this.loadActivites():this.loading=!1:h(this.$route.params.user).then((function(t){A.setUserdata(t),e.loadActivites()})).catch((function(){e.$router.push({path:"/",query:{error:1}})}))},methods:{loadActivites:function(){var e=this;g(this.state.userData.id,this.state.currentPage,this.state.mediaType).then((function(t){e.lastPage=t.data.Page.pageInfo.lastPage;var a=A.parseActivities(t.data.Page.activities);if(0==a.length)return e.$router.push({path:"/",query:{error:1}});e.preloadActivites(a).then((function(t){A.setPreloadedActivities(t),A.appendActivities(a),e.loading=!1}))}))},loadEarlierActivities:function(){var e=this;if(!this.lock){this.lock=!0,A.incrementCurrentPage();var t=A.appendActivities(this.state.preloadedActivities);this.preloadActivites(t).then((function(t){A.setPreloadedActivities(t),e.lock=!1}))}},preloadActivites:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var i,n,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.state.currentPage!=t.lastPage){a.next=2;break}return a.abrupt("return",[]);case 2:return a.next=4,g(t.state.userData.id,t.state.currentPage+1,t.state.mediaType);case 4:return i=a.sent,n=A.parseActivities(i.data.Page.activities),c=n.filter((function(t){return k(t.day,e[e.length-1].day)})),c.forEach((function(t){var a=n.indexOf(t);n.splice(a,1);var i=e[e.length-1];i.media=i.media.concat(t.media),i.episodes+=t.episodes,i.chapters+=t.chapters})),a.abrupt("return",n);case 9:case"end":return a.stop()}}),a)})))()},toggleSidebar:function(){this.showSidebar=!this.showSidebar},toggleSpecial:function(e){this.specialView=e,this.showSpecial=!0}}});a("7ef0");ia.render=It,ia.__scopeId="data-v-393292b8";var na=ia,ca=Object(i["L"])("data-v-aabbaf26");Object(i["v"])("data-v-aabbaf26");var sa={class:"main"},ra={class:"left"},oa={class:"tooltipct"},da={key:0,class:"tooltip"},la=Object(i["h"])("Episodes watched"),ua=Object(i["h"])("Chapters read");Object(i["t"])();var pa=ca((function(e,t,a,n,c,s){var r=Object(i["A"])("DataRange"),o=Object(i["A"])("Calendar"),d=Object(i["A"])("Tooltip"),l=Object(i["A"])("Chart"),u=Object(i["A"])("DetailsContainer");return Object(i["s"])(),Object(i["e"])("div",sa,[Object(i["i"])(i["b"],{name:"popup-backdrop"},{default:ca((function(){return[e.showTooltip?(Object(i["s"])(),Object(i["e"])("div",{key:0,class:"popup",onClick:t[1]||(t[1]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})})):Object(i["f"])("",!0)]})),_:1}),Object(i["i"])("div",ra,[Object(i["i"])(r,{onLoadRequest:e.load},null,8,["onLoadRequest"]),Object(i["i"])(o,{onPopup:e.showPopup,onError:e.showError,onDynamicPopup:e.fetchPopup},null,8,["onPopup","onError","onDynamicPopup"]),Object(i["i"])("div",oa,[Object(i["i"])(i["b"],{name:"easein",mode:"in-out"},{default:ca((function(){return[e.showTooltip?(Object(i["s"])(),Object(i["e"])("div",da,[Object(i["i"])(d,{day:e.tooltipActivities,onClose:e.popupHide,loading:e.popupLoading},null,8,["day","onClose","loading"])])):Object(i["f"])("",!0)]})),_:1})]),"manga"!=e.state.mediaType?(Object(i["s"])(),Object(i["e"])(l,{key:0,height:150,id:"episodes",row:"episodes"},{default:ca((function(){return[la]})),_:1})):Object(i["f"])("",!0),"anime"!=e.state.mediaType?(Object(i["s"])(),Object(i["e"])(l,{key:1,height:150,id:"chapters",row:"chapters"},{default:ca((function(){return[ua]})),_:1})):Object(i["f"])("",!0)]),Object(i["i"])(u,{onLoadRequest:e.load},null,8,["onLoadRequest"])])})),ba=Object(i["L"])("data-v-451e4c02");Object(i["v"])("data-v-451e4c02");var ha={class:"details"},Oa=Object(i["i"])("div",{class:"title"}," Timeline ",-1),ja={class:"group-header"},va={class:"date-group"},fa={class:"weekday"},ma={class:"date"},ga=Object(i["i"])("span",{style:{flex:"1"}},null,-1),ya={key:0,class:"prop"},ka={class:"prop-value"},wa=Object(i["i"])("div",{class:"prop-desc"},"chapters",-1),Sa={key:1,class:"prop"},Aa={class:"prop-value"},La=Object(i["i"])("div",{class:"prop-desc"},"episodes",-1);Object(i["t"])();var Ca=ba((function(e,t,a,n,c,s){var r=Object(i["A"])("SeriesItem");return Object(i["s"])(),Object(i["e"])("div",ha,[Oa,(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.state.activities,(function(t,a){return Object(i["s"])(),Object(i["e"])("div",{class:"group",key:a},[Object(i["i"])("div",ja,[Object(i["i"])("div",va,[Object(i["i"])("span",fa,Object(i["E"])(t.day.weekday),1),Object(i["i"])("span",ma,Object(i["E"])(e.prettyDate(t.day)),1)]),ga,"anime"!=e.state.mediaType?(Object(i["s"])(),Object(i["e"])("div",ya,[Object(i["i"])("div",ka,Object(i["E"])(t.chapters),1),wa])):Object(i["f"])("",!0),"manga"!=e.state.mediaType?(Object(i["s"])(),Object(i["e"])("div",Sa,[Object(i["i"])("div",Aa,Object(i["E"])(t.episodes),1),La])):Object(i["f"])("",!0)]),(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.media,(function(e,a){return Object(i["s"])(),Object(i["e"])(r,{key:a,stamp:t.day.d+"a"+t.day.m+a,media:e},null,8,["stamp","media"])})),128))])})),128)),Object(i["i"])("button",{class:"button group",onClick:t[1]||(t[1]=function(t){return e.$emit("loadRequest")})}," More... ")])})),Ia=Object(i["L"])("data-v-1740b062");Object(i["v"])("data-v-1740b062");var Pa={class:"item-wrapper"},Da=Object(i["i"])("span",{style:{flex:"1"}},null,-1),Ta={class:"prop"},Ea={class:"prop-value"},Ma={class:"prop-desc"};Object(i["t"])();var _a=Ia((function(e,t,a,n,c,s){var r=Object(i["A"])("SeriesDetails");return Object(i["s"])(),Object(i["e"])("div",Pa,[Object(i["i"])("div",{class:"item",onClick:t[1]||(t[1]=function(){return e.toggleDisplay&&e.toggleDisplay.apply(e,arguments)})},[Object(i["i"])("img",{class:"image",alt:"Cover image of "+e.media.title,src:e.media.cover},null,8,["alt","src"]),Object(i["i"])("span",{class:"title",title:e.media.title},Object(i["E"])(e.media.title),9,["title"]),Da,Object(i["i"])("div",Ta,[Object(i["i"])("span",Ea,Object(i["E"])(e.media.episodes),1),Object(i["i"])("span",Ma,Object(i["E"])("ANIME"===e.media.type?"episodes":"chapters"),1)])]),Object(i["i"])(i["b"],{name:"details"},{default:Ia((function(){return[e.details&&!e.hide?(Object(i["s"])(),Object(i["e"])(r,{key:0,stamp:e.stamp,media:e.media},null,8,["stamp","media"])):Object(i["f"])("",!0)]})),_:1})])})),$a=Object(i["L"])("data-v-d5b22e72");Object(i["v"])("data-v-d5b22e72");var Ha={key:0},xa={key:1,class:"entries"},Na={class:"header"},Ra=Object(i["i"])("div",{class:"tip-name"}," Planned since ",-1),Ya={class:"tip-value"};Object(i["t"])();var za=$a((function(e,t,a,n,c,s){var r=Object(i["A"])("CheapLoading"),o=Object(i["A"])("ActivityChart");return e.loading?(Object(i["s"])(),Object(i["e"])("div",Ha,[Object(i["i"])(r)])):(Object(i["s"])(),Object(i["e"])("div",xa,[Object(i["i"])("div",Na,[Ra,Object(i["i"])("div",Ya,Object(i["E"])(e.added),1)]),Object(i["i"])(o,{height:100,id:e.media.id+""+e.stamp,row:"ANIME"==e.media.type?"episodes":"chapters",activities:e.activities},null,8,["id","row","activities"])]))})),Ua=Object(i["L"])("data-v-b816d2c6");Object(i["v"])("data-v-b816d2c6");var Va={class:"loading"};Object(i["t"])();var qa=Ua((function(e,t,a,n,c,s){return Object(i["s"])(),Object(i["e"])("div",Va," Loading... ")})),Fa=Object(i["j"])({});a("358c");Fa.render=qa,Fa.__scopeId="data-v-b816d2c6";var Ja=Fa,Wa=Object(i["L"])("data-v-f62daefc");Object(i["v"])("data-v-f62daefc");var Ga={class:"axis"},Ba={class:"label-top"},Xa={class:"label-bottom"};Object(i["t"])();var Ka=Wa((function(e,t,a,n,c,s){return Object(i["s"])(),Object(i["e"])("div",{class:"chart",ref:"chart",onMousedown:t[1]||(t[1]=function(){return e.mouseDown&&e.mouseDown.apply(e,arguments)}),onMouseup:t[2]||(t[2]=function(){return e.mouseUp&&e.mouseUp.apply(e,arguments)}),onMousemove:t[3]||(t[3]=function(){return e.mouseMove&&e.mouseMove.apply(e,arguments)}),onMouseleave:t[4]||(t[4]=function(){return e.mouseLeave&&e.mouseLeave.apply(e,arguments)})},[Object(i["i"])("div",{id:"area-"+e.id,ref:"area"},null,8,["id"]),Object(i["i"])("div",Ga,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.activities,(function(t,a){return Object(i["s"])(),Object(i["e"])("div",{class:"label",key:a},[Object(i["i"])("span",Ba,Object(i["E"])(e.prettyDate(t.day)),1),Object(i["i"])("span",Xa,Object(i["E"])(t.day.weekday),1)])})),128))])],544)})),Qa=a("898b"),Za=Object(i["j"])({props:{activities:{type:Array,required:!0},row:{type:String,required:!0},id:String,height:{type:Number,required:!0}},data:function(){return{state:A.state,prettyDate:I,margin:{top:50,bottom:10},dragging:!1,startX:0,scrollLeft:0}},watch:{activities:function(){this.clean(),this.render()}},mounted:function(){this.render()},methods:{clean:function(){var e=this.$refs.area;while(e.lastChild)e.removeChild(e.lastChild)},render:function(){var e=this,t=100,a=this.activities.length*t,i=Qa["g"]("#area-"+this.id).append("svg").attr("width",a).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate(0, ".concat(this.margin.top,")")),n=Qa["e"]().domain(this.activities.map((function(e){return I(e.day)}))).range([0,a]),c=this.activities.map((function(t){return t[e.row]})),s=Qa["f"]().domain([Qa["d"](c),Qa["c"](c)]).range([this.height,0]),r=Qa["b"]().x((function(e){return n(I(e.day))+t/2})).y((function(t){return s(t[e.row])})).curve(Qa["a"]);i.append("path").datum(this.activities).attr("fill","none").attr("stroke","#188cc6").attr("stroke-width",4).attr("d",r),i.selectAll("labels").data(this.activities).join("text").text((function(t){return t[e.row]})).attr("class","chart-label").attr("text-anchor","middle").attr("font-weight","500").attr("x",(function(e){return n(I(e.day))+t/2})).attr("y",(function(t){return s(t[e.row])-15})),i.selectAll("circles").data(this.activities).join("circle").attr("fill","#34bbff").attr("stroke","none").attr("fill-opacity","0.7").attr("r",5).attr("cx",(function(e){return n(I(e.day))+t/2})).attr("cy",(function(t){return s(t[e.row])}))},mouseDown:function(e){this.dragging=!0,this.startX=e.pageX-this.$refs.chart.offsetLeft,this.scrollLeft=this.$refs.chart.scrollLeft},mouseUp:function(){this.dragging=!1},mouseMove:function(e){if(this.dragging){var t=e.pageX-this.$refs.chart.offsetLeft,a=1.5*(t-this.startX);this.$refs.chart.scrollLeft=this.scrollLeft-a}},mouseLeave:function(){this.dragging=!1}}});a("2573"),a("0b8a");Za.render=Ka,Za.__scopeId="data-v-f62daefc";var ei=Za,ti=Object(i["j"])({props:{media:{},stamp:String},components:{CheapLoading:Ja,ActivityChart:ei},data:function(){return{state:A.state,prettyDate:I,activities:[],added:"Unknown",loading:!0}},mounted:function(){var e=this;j(this.state.userData.id,this.media.id).then((function(t){var a=t.data.Page.activities;e.activities=A.parseActivities(a).reverse(),"undefined"==typeof e.media.added?e.added=D(a):e.added=0==e.media.added.time?"Unknown":I(e.media.added),e.loading=!1}))}});a("a94c");ti.render=za,ti.__scopeId="data-v-d5b22e72";var ai=ti,ii=Object(i["j"])({props:{media:Object,hide:Boolean,stamp:String},components:{SeriesDetails:ai},data:function(){return{details:!1}},watch:{hide:function(e){this.details=!e}},methods:{toggleDisplay:function(){this.$emit("toggle"),this.details=!this.details}}});a("37b0");ii.render=_a,ii.__scopeId="data-v-1740b062";var ni=ii,ci=Object(i["j"])({components:{SeriesItem:ni},data:function(){return{state:A.state,prettyDate:I}}});a("bc5b");ci.render=Ca,ci.__scopeId="data-v-451e4c02";var si=ci,ri=Object(i["L"])("data-v-4e6c0de4");Object(i["v"])("data-v-4e6c0de4");var oi={class:"calendar"},di={class:"header"},li=Object(i["i"])("div",{class:"header-title"},"Calendar",-1),ui=Object(i["i"])("span",{style:{flex:"1"}},null,-1),pi={class:"header-month"},bi={class:"header-monthName"},hi=Object(i["i"])("span",null,Object(i["E"])(" "),-1),Oi={key:0,class:"picker"},ji={class:"display"},vi=Object(i["g"])('<div class="weekdays" data-v-4e6c0de4><div class="weekday" data-v-4e6c0de4>Sun</div><div class="weekday" data-v-4e6c0de4>Mon</div><div class="weekday" data-v-4e6c0de4>Tue</div><div class="weekday" data-v-4e6c0de4>Wed</div><div class="weekday" data-v-4e6c0de4>Thu</div><div class="weekday" data-v-4e6c0de4>Fri</div><div class="weekday" data-v-4e6c0de4>Sat</div></div>',1),fi={class:"days"};Object(i["t"])();var mi=ri((function(e,t){var a=Object(i["A"])("font-awesome-icon");return Object(i["s"])(),Object(i["e"])("div",oi,[Object(i["i"])("div",di,[li,ui,Object(i["i"])("div",pi,[Object(i["i"])("span",bi,Object(i["E"])(e.displayMonth),1),hi,Object(i["i"])("span",{class:"header-year",onClick:t[1]||(t[1]=function(t){return e.toggleYearPicker()}),title:"Click to open year picker"},Object(i["E"])(e.y),1)]),Object(i["i"])("div",{class:"header-control",onClick:t[2]||(t[2]=function(t){return e.update(-1)})},[Object(i["i"])(a,{icon:"chevron-left"})]),Object(i["i"])("div",{class:"header-control",onClick:t[3]||(t[3]=function(t){return e.update(1)})},[Object(i["i"])(a,{icon:"chevron-right"})])]),e.showYearPicker?(Object(i["s"])(),Object(i["e"])("div",Oi,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.pickerYears,(function(t){return Object(i["s"])(),Object(i["e"])("div",{class:["pick-item",{selected:t==e.y}],key:t,onClick:function(a){return e.loadMonth(e.m-1,t)}},Object(i["E"])(t),11,["onClick"])})),128))])):Object(i["f"])("",!0),Object(i["i"])("div",ji,[vi,Object(i["i"])("div",fi,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.days,(function(t,a){return Object(i["s"])(),Object(i["e"])("div",{class:"day",key:a,style:1==t.n?{gridColumn:e.firstWeekday+1}:"",onClick:function(a){return e.handleClick(a,t)},title:"".concat(e.displayMonth," ").concat(t.n,", ").concat(e.y,"\nClick to see activities on this day.").concat(t.notLoaded||t.notYetHappened?"\nIf you want to have colored background here, click Load more button below until it appears.":"")},[Object(i["i"])("div",{class:"day-bg",style:{opacity:e.getOpacity(t.episodes)}},null,4),Object(i["i"])("div",{class:"day-label",style:{opacity:t.notLoaded||t.notYetHappened?"0.5":""}},Object(i["E"])(t.n),5)],12,["onClick","title"])})),128))])])])})),gi=Object(i["j"])({data:function(){return{state:A.state,days:[],y:2021,m:0,displayMonth:"",firstWeekday:0,max:0,showYearPicker:!1,pickerYears:[]}},mounted:function(){var e=new Date;this.m=e.getMonth(),this.y=e.getFullYear(),this.preparePickers(),this.loadMonth(this.m,this.y)},computed:{activities:function(){return this.state.activities}},watch:{activities:function(){this.loadMonth(this.m-1,this.y)}},methods:{loadMonth:function(e,t){var a=this;this.days.length=0;var i=new Date(t,e,1);this.firstWeekday=i.getDay();var n=this.daysInMonth(e,t);this.max=Math.max.apply(Math,this.state.activities.map((function(e){return e.episodes+e.chapters})));var c=this.state.activities[0],s=32,r=this.state.activities[this.state.activities.length-1],o=0;r.day.m==e+1&&r.day.y==t?o=r.day.d:(r.day.m>e+1&&r.day.y==t||r.day.y>t)&&(o=32),c.day.m==e+1&&c.day.y==t?s=c.day.d:(c.day.m<e+1&&c.day.y==t||c.day.y<t)&&(s=0);for(var d=function(i){var n=a.state.activities.find((function(a){return a.day.d==i&&a.day.m==e+1&&a.day.y==t}));a.days.push({n:i,activities:n,notLoaded:!n&&i<o,notYetHappened:i>s,episodes:n?n.episodes+n.chapters:0})},l=1;l<=n;l++)d(l);this.m=e+1,this.y=t,this.displayMonth=new Intl.DateTimeFormat("default",{month:"long"}).format(i)},handleClick:function(e,t){t.activities?this.$emit("popup",{event:e,activities:t.activities}):t.activities||t.notLoaded?t.notYetHappened||this.$emit("dynamicPopup",{event:e,d:t.n,m:this.m,y:this.y}):this.$emit("error","There are no activities present on this day.")},update:function(e){e>0?this.m+1>12?(this.y++,this.loadMonth(0,this.y)):this.loadMonth(this.m,this.y):this.m-1<1?(this.y--,this.loadMonth(11,this.y)):this.loadMonth(this.m-2,this.y)},toggleYearPicker:function(){this.showYearPicker=!this.showYearPicker},preparePickers:function(){this.pickerYears=[this.y-3,this.y-2,this.y-1,this.y]},daysInMonth:function(e,t){switch(e){case 1:return t%4==0&&t%100||t%400==0?29:28;case 8:case 3:case 5:case 10:return 30;default:return 31}},getOpacity:function(e){var t=e/this.max;return 0==t?0:t<.15?.15:t}}});a("4be5");gi.render=mi,gi.__scopeId="data-v-4e6c0de4";var yi=gi,ki=Object(i["L"])("data-v-46337ac5");Object(i["v"])("data-v-46337ac5");var wi={class:"datarange"},Si=Object(i["i"])("div",{class:"header-title"},"Data range",-1),Ai=Object(i["i"])("span",{style:{flex:"1"}},null,-1),Li=Object(i["i"])("span",{class:"button-label"},"Load more",-1),Ci=Object(i["i"])("span",{class:"breaker"},null,-1),Ii={class:"header-range"};Object(i["t"])();var Pi=ki((function(e,t,a,n,c,s){var r=Object(i["A"])("font-awesome-icon");return Object(i["s"])(),Object(i["e"])("div",wi,[Si,Ai,Object(i["i"])("div",{class:"header-button",onClick:t[1]||(t[1]=function(t){return e.$emit("loadRequest")})},[Object(i["i"])(r,{icon:"redo-alt"}),Li]),Ci,Object(i["i"])("span",Ii,Object(i["E"])(e.lastLoadedDay)+" - today",1)])})),Di=Object(i["j"])({data:function(){return{state:A.state}},computed:{lastLoadedDay:function(){return I(this.state.activities[this.state.activities.length-1].day)}}});a("59ec");Di.render=Pi,Di.__scopeId="data-v-46337ac5";var Ti=Di,Ei=Object(i["L"])("data-v-d36cfb8a");Object(i["v"])("data-v-d36cfb8a");var Mi={class:"tooltip"},_i={key:0},$i={key:1},Hi={class:"header"},xi={class:"header-title"},Ni=Object(i["i"])("span",{style:{flex:"1"}},null,-1),Ri={key:0,class:"prop"},Yi={class:"prop-value"},zi=Object(i["i"])("div",{class:"prop-desc",title:"chapters"},"chapters",-1),Ui={key:1,class:"prop"},Vi={class:"prop-value"},qi=Object(i["i"])("div",{class:"prop-desc",title:"episodes"},"episodes",-1),Fi={class:"content"};Object(i["t"])();var Ji=Ei((function(e,t,a,n,c,s){var r=Object(i["A"])("CheapLoading"),o=Object(i["A"])("font-awesome-icon"),d=Object(i["A"])("SeriesItem");return Object(i["s"])(),Object(i["e"])("div",Mi,[e.loading?(Object(i["s"])(),Object(i["e"])("div",_i,[Object(i["i"])(r)])):(Object(i["s"])(),Object(i["e"])("div",$i,[Object(i["i"])("div",Hi,[Object(i["i"])("div",xi,Object(i["E"])(e.prettyDate(e.day.day)),1),Ni,e.day.chapters>0?(Object(i["s"])(),Object(i["e"])("div",Ri,[Object(i["i"])("div",Yi,Object(i["E"])(e.day.chapters),1),zi])):Object(i["f"])("",!0),e.day.episodes>0?(Object(i["s"])(),Object(i["e"])("div",Ui,[Object(i["i"])("div",Vi,Object(i["E"])(e.day.episodes),1),qi])):Object(i["f"])("",!0),Object(i["i"])("div",{class:"header-control",onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)})},[Object(i["i"])(o,{icon:"times"})])]),Object(i["i"])("div",Fi,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.day.media,(function(t,a){return Object(i["s"])(),Object(i["e"])(d,{key:a,media:t,onToggle:function(t){return e.handleClick(a)},hide:e.selected!=a},null,8,["media","onToggle","hide"])})),128))])]))])})),Wi=Object(i["j"])({props:{day:{},loading:Boolean},components:{SeriesItem:ni,CheapLoading:Ja},data:function(){return{prettyDate:I,selected:-1}},methods:{close:function(){this.$emit("close")},handleClick:function(e){this.selected==e?this.selected=-1:this.selected=e}}});a("4234");Wi.render=Ji,Wi.__scopeId="data-v-d36cfb8a";var Gi=Wi,Bi=Object(i["L"])("data-v-c136de9e");Object(i["v"])("data-v-c136de9e");var Xi={class:"chart-container"},Ki={class:"header"},Qi={class:"header-title"};Object(i["t"])();var Zi=Bi((function(e,t,a,n,c,s){var r=Object(i["A"])("ActivityChart");return Object(i["s"])(),Object(i["e"])("div",Xi,[Object(i["i"])("div",Ki,[Object(i["i"])("div",Qi,[Object(i["z"])(e.$slots,"default",{},void 0,!0)])]),Object(i["i"])(r,{height:e.height,row:e.row,id:e.id,activities:e.state.activities},null,8,["height","row","id","activities"])])})),en=Object(aa["l"])({components:{ActivityChart:ei},props:{row:String,id:String,height:Number},data:function(){return{state:A.state}}});a("14f7");en.render=Zi,en.__scopeId="data-v-c136de9e";var tn=en,an=Object(i["j"])({components:{DetailsContainer:si,Calendar:yi,Tooltip:Gi,DataRange:Ti,Chart:tn},data:function(){return{state:A.state,showTooltip:!1,tooltipActivities:{},popupLoading:!1}},methods:{load:function(){this.$emit("loadRequest")},showPopup:function(e){this.showTooltip=!1,this.tooltipActivities=e.activities,this.showTooltip=!0},fetchPopup:function(e){var t=this;this.popupLoading=!0,this.showTooltip=!0;var a=new Date(e.y,e.m-1,e.d),i=a.getTime()/1e3+3600*this.state.updateHour,n=i+86400;g(this.state.userData.id,1,this.state.mediaType,i,n).then((function(e){var a=A.parseActivities(e.data.Page.activities);t.tooltipActivities=a[0],0==a.length?t.showTooltip=!1:t.popupLoading=!1}))},showError:function(e){console.log(e)},popupHide:function(){this.showTooltip=!1}}});a("b385");an.render=pa,an.__scopeId="data-v-aabbaf26";var nn=an,cn=Object(i["L"])("data-v-ada47df6");Object(i["v"])("data-v-ada47df6");var sn={class:"list"},rn={class:"controls"},on={class:"controls-search"},dn={class:"filter-name"},ln={cellspacing:"0"},un=Object(i["i"])("thead",null,[Object(i["i"])("tr",null,[Object(i["i"])("th",{class:"tableHeader tableHeader-title"},"Title"),Object(i["i"])("th",{class:"tableHeader tableHeader-regular"},"Type"),Object(i["i"])("th",{class:"tableHeader tableHeader-regular table-responsive"},"Added"),Object(i["i"])("th",{class:"tableHeader tableHeader-regular table-responsive"},"Completed"),Object(i["i"])("th",{class:"tableHeader tableHeader-regular table-responsive2"},"Status"),Object(i["i"])("th",{class:"tableHeader"})])],-1),pn={key:0,class:"loading"},bn={key:1},hn={class:"tableData tableData-title"},On={class:"tableData tableData-regular"},jn={class:"tableData tableData-regular table-responsive"},vn={class:"tableData tableData-regular table-responsive"},fn={class:"tableData tableData-regular table-responsive2"},mn={class:"tableData tableData-icon"},gn={key:0,class:"loading"};Object(i["t"])();var yn=cn((function(e,t,a,n,c,s){var r=Object(i["A"])("Popup"),o=Object(i["A"])("Pagination"),d=Object(i["A"])("font-awesome-icon"),l=Object(i["B"])("lazyload");return Object(i["s"])(),Object(i["e"])("div",sn,[Object(i["i"])(i["b"],{name:"popup-backdrop"},{default:cn((function(){return[e.showPopup?(Object(i["s"])(),Object(i["e"])("div",{key:0,class:"popup-backdrop",onClick:t[1]||(t[1]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[Object(i["i"])(i["b"],{appear:"",name:"popup"},{default:cn((function(){return[Object(i["i"])(r,{media:e.popupMedia,onClose:e.popupHide},null,8,["media","onClose"])]})),_:1})])):Object(i["f"])("",!0)]})),_:1}),Object(i["i"])("div",rn,[Object(i["i"])("div",on,[Object(i["J"])(Object(i["i"])("input",{class:"controls-input",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.query=t}),placeholder:"Search..."},null,512),[[i["H"],e.query]])]),(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.filteredFilters,(function(t,a){return Object(i["s"])(),Object(i["e"])("div",{class:"controls-filterGroup",key:a},[Object(i["i"])("span",dn,Object(i["E"])(t.name)+": ",1),(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(t.values,(function(n,c){return Object(i["s"])(),Object(i["e"])("button",{class:["filter-button",{selected:t.checked.indexOf(n.key)>-1}],title:"Click to toggle",key:c,onClick:function(t){return e.toggleFilter(a,n.key)}},Object(i["E"])("undefined"===typeof n.name?"AnimeList"==e.$route.name?n.animeName:n.mangaName:n.name),11,["onClick"])})),128))])})),128))]),e.listLength>1?(Object(i["s"])(),Object(i["e"])(o,{key:0,onSet:e.navigate,max:e.listLength,current:e.currentPage},null,8,["onSet","max","current"])):Object(i["f"])("",!0),Object(i["i"])("table",ln,[un,e.loading?(Object(i["s"])(),Object(i["e"])("div",pn," Loading... ")):(Object(i["s"])(),Object(i["e"])("tbody",bn,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.paginatedList,(function(t){return Object(i["s"])(),Object(i["e"])("tr",{key:t.id,class:"tableRow",onClick:function(a){return e.popupShow(t)}},[Object(i["i"])("td",hn,[Object(i["J"])(Object(i["i"])("img",{class:"tableData-image","data-src":t.cover,width:"24",height:"24",loading:"lazy"},null,8,["data-src"]),[[l]]),Object(i["i"])("span",null,Object(i["E"])(t.title),1)]),Object(i["i"])("td",On,Object(i["E"])(e.prettyFormat(t.format)),1),Object(i["i"])("td",jn,Object(i["E"])(e.prettyDate(t.added)),1),Object(i["i"])("td",vn,Object(i["E"])(e.prettyDate(t.completed)),1),Object(i["i"])("td",fn,Object(i["E"])(e.prettyStatus(t.status)),1),Object(i["i"])("td",mn,[Object(i["i"])("div",{class:"tableData-iconWrapper",style:{color:e.resolveColor(t.status)}},[Object(i["i"])(d,{icon:e.resolveIcon(t.status),"fixed-width":""},null,8,["icon"])],4)])],8,["onClick"])})),128)),0==e.list.length?(Object(i["s"])(),Object(i["e"])("div",gn," No results found. Maybe try changing the filters? ")):Object(i["f"])("",!0)]))]),e.listLength>1?(Object(i["s"])(),Object(i["e"])(o,{key:1,onSet:e.navigate,max:e.listLength,current:e.currentPage},null,8,["onSet","max","current"])):Object(i["f"])("",!0)])})),kn=a("5530");a("0481"),a("4e82");function wn(e){return Sn.apply(this,arguments)}function Sn(){return Sn=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f(A.state.userData.id,t);case 2:return a=e.sent,i=a.data.MediaListCollection.lists,n=i.filter((function(e){return!e.isCustomList})).map((function(e){return e.entries})).flat(1),c=n.map((function(e){return Object(kn["a"])(Object(kn["a"])({},e.media),{},{title:e.media.title.romaji,type:e.media.type,status:e.status,cover:e.media.coverImage.medium,banner:e.media.bannerImage,progress:e.progress,started:An(e.startedAt),completed:An(e.completedAt),added:P(1e3*e.createdAt)})})).sort((function(e,t){return e.title.localeCompare(t.title)})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function An(e){if(null==e.day)return{d:0,m:0,y:0,time:0};var t=new Date(e.year,e.month,e.day);return{d:e.day,m:e.month,y:e.year,weekday:w[t.getDay()],time:t.getTime()}}var Ln=Object(i["L"])("data-v-6eedf04c");Object(i["v"])("data-v-6eedf04c");var Cn={class:"header-title"},In=Object(i["i"])("span",{style:{flex:"1"}},null,-1),Pn={class:"content"};Object(i["t"])();var Dn=Ln((function(e,t,a,n,c,s){var r=Object(i["A"])("font-awesome-icon"),o=Object(i["A"])("SeriesDetails");return Object(i["s"])(),Object(i["e"])("div",{class:"popup",onClick:t[2]||(t[2]=function(e){return e.stopPropagation()})},[Object(i["i"])("div",{class:"header",style:{backgroundImage:"url("+e.media.banner+")"}},[Object(i["i"])("img",{class:"header-image",src:e.media.cover},null,8,["src"]),Object(i["i"])("a",{href:"https://anilist.co/"+e.media.type.toLowerCase()+"/"+e.media.id,target:"_blank",rel:"nofollow"},[Object(i["i"])("div",Cn,Object(i["E"])(e.media.title),1)],8,["href"]),In,Object(i["i"])("div",{class:"header-control",onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)})},[Object(i["i"])(r,{icon:"times"})])],4),Object(i["i"])("div",Pn,[Object(i["i"])(o,{media:e.media},null,8,["media"])])])})),Tn=Object(i["j"])({props:{media:{}},components:{SeriesDetails:ai},data:function(){return{state:A.state}},methods:{close:function(){this.$emit("close")}}});a("e23c");Tn.render=Dn,Tn.__scopeId="data-v-6eedf04c";var En=Tn,Mn=Object(i["L"])("data-v-5120db18");Object(i["v"])("data-v-5120db18");var _n={class:"pager"};Object(i["t"])();var $n=Mn((function(e,t,a,n,c,s){var r=Object(i["A"])("font-awesome-icon");return Object(i["s"])(),Object(i["e"])("div",_n,[Object(i["i"])("button",{class:"pager-button pager-arrow",onClick:t[1]||(t[1]=function(t){return e.$emit("set",e.current-1)})},[Object(i["i"])(r,{icon:"chevron-left"})]),(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.max,(function(t){return Object(i["s"])(),Object(i["e"])("button",{class:["pager-button",{selected:e.current==t-1}],key:t,onClick:function(a){return e.$emit("set",t-1)}},Object(i["E"])(t),11,["onClick"])})),128)),Object(i["i"])("button",{class:"pager-button pager-arrow",onClick:t[2]||(t[2]=function(t){return e.$emit("set",e.current+1)})},[Object(i["i"])(r,{icon:"chevron-right"})])])})),Hn=Object(i["j"])({props:{current:Number,max:Number}});a("6658");Hn.render=$n,Hn.__scopeId="data-v-5120db18";var xn=Hn,Nn=Object(i["j"])({components:{Popup:En,Pagination:xn},data:function(){return{state:A.state,prettyDate:I,loading:!0,displayCover:-1,showPopup:!1,popupMedia:{},pageSize:100,currentPage:0,listLength:0,query:"",filters:[{name:"Status",key:"status",type:"both",values:[{animeName:"Watching",mangaName:"Reading",key:"CURRENT"},{animeName:"Rewatching",mangaName:"Rereading",key:"REPEATING"},{name:"Completed",key:"COMPLETED"},{name:"Planning",key:"PLANNING"},{name:"Dropped",key:"DROPPED"},{name:"Paused",key:"PAUSED"}],checked:["COMPLETED","CURRENT","REPEATING"]},{name:"Type",key:"format",type:"anime",values:[{name:"TV",key:"TV"},{name:"TV Short",key:"TV_SHORT"},{name:"Movie",key:"MOVIE"},{name:"Special",key:"SPECIAL"},{name:"OVA",key:"OVA"},{name:"ONA",key:"ONA"},{name:"Music",key:"MUSIC"}],checked:["TV","TV_SHORT","MOVIE","SPECIAL","OVA","ONA","MUSIC"]},{name:"Type",key:"format",type:"manga",values:[{name:"Manga",key:"MANGA"},{name:"Light novel",key:"NOVEL"},{name:"One shot",key:"ONE_SHOT"}],checked:["MANGA","NOVEL","ONE_SHOT"]}]}},created:function(){this.fetchData()},watch:{$route:"fetchData",query:function(){this.currentPage=0,this.listLength=Math.ceil(this.list.length/this.pageSize)}},computed:{list:function(){var e=this,t="AnimeList"==this.$route.name?this.state.animeList:this.state.mangaList,a=t.filter((function(t){return t.title.toLowerCase().indexOf(e.query.toLowerCase())>-1}));return this.filteredFilters.forEach((function(e){a=a.filter((function(t){return e.checked.indexOf(t[e.key])>-1}))})),a},paginatedList:function(){return this.list.slice(this.currentPage*this.pageSize,(this.currentPage+1)*this.pageSize)},filteredFilters:function(){var e=this;return this.filters.filter((function(t){return("AnimeList"!=e.$route.name||"manga"!=t.type)&&("MangaList"!=e.$route.name||"anime"!=t.type)}))}},directives:{lazyload:{mounted:function(e){e.src=e.dataset.src}}},methods:{fetchData:function(){var e=this;this.loading=!0,this.currentPage=0,this.listLength=0,setTimeout((function(){"AnimeList"==e.$route.name?0==e.state.animeList.length?wn("ANIME").then((function(t){A.setAnimeList(t),e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1})):(e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1):"MangaList"==e.$route.name&&(0==e.state.mangaList.length?wn("MANGA").then((function(t){A.setMangaList(t),e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1})):(e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1))}),100)},popupShow:function(e){this.showPopup=!0,this.popupMedia=e},popupHide:function(){this.showPopup=!1},toggleFilter:function(e,t){this.currentPage=0;var a=this.filteredFilters[e].checked.indexOf(t);a>-1?this.filteredFilters[e].checked.splice(a,1):this.filteredFilters[e].checked.push(t),this.listLength=Math.ceil(this.list.length/this.pageSize)},navigate:function(e){e<0||e>=this.listLength||(this.currentPage=e)},prettyFormat:function(e){return e?"TV_SHORT"==e?"TV Short":["TV","OVA","ONA"].indexOf(e)>-1?e:e[0]+e.slice(1).replace("_"," ").toLowerCase():""},prettyStatus:function(e){return e[0]+e.slice(1).toLowerCase()},resolveIcon:function(e){switch(e){case"CURRENT":case"REPEATING":return"play";case"DROPPED":return"stop";case"PAUSED":return"pause";case"COMPLETED":return"check";default:return"clock"}},resolveColor:function(e){switch(e){case"CURRENT":return"#2f754e";case"DROPPED":return"#a44646";case"PAUSED":return"#ad8015";case"COMPLETED":return"#14699b";default:return"#595f6e"}}}});a("e7f7");Nn.render=yn,Nn.__scopeId="data-v-ada47df6";var Rn=Nn,Yn=Object(i["L"])("data-v-3294c33b");Object(i["v"])("data-v-3294c33b");var zn={class:"history"},Un={key:0,class:"loading"},Vn={key:1},qn=Object(i["g"])('<div class="header header-desktop" data-v-3294c33b><div class="month" data-v-3294c33b></div><div class="month" data-v-3294c33b>Jan</div><div class="month" data-v-3294c33b>Feb</div><div class="month" data-v-3294c33b>Mar</div><div class="month" data-v-3294c33b>Apr</div><div class="month" data-v-3294c33b>May</div><div class="month" data-v-3294c33b>Jun</div><div class="month" data-v-3294c33b>Jul</div><div class="month" data-v-3294c33b>Aug</div><div class="month" data-v-3294c33b>Sep</div><div class="month" data-v-3294c33b>Oct</div><div class="month" data-v-3294c33b>Nov</div><div class="month" data-v-3294c33b>Dec</div></div>',1),Fn={class:"header header-mobile"},Jn=Object(i["i"])("div",{class:"month"},null,-1),Wn={class:"col-year"},Gn={class:"col-label"},Bn={key:0,class:"missing"},Xn={class:"details"},Kn={key:0,class:"details-content"},Qn={class:"details-title"},Zn={class:"details-list"},ec={class:"entry-title"},tc={key:1};Object(i["t"])();var ac=Yn((function(e,t,a,n,c,s){var r=Object(i["A"])("Popup");return Object(i["s"])(),Object(i["e"])("div",zn,[Object(i["i"])(i["b"],{name:"popup-backdrop"},{default:Yn((function(){return[e.showPopup?(Object(i["s"])(),Object(i["e"])("div",{key:0,class:"popup-backdrop",onClick:t[1]||(t[1]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[Object(i["i"])(i["b"],{appear:"",name:"popup"},{default:Yn((function(){return[Object(i["i"])(r,{media:e.popupMedia,onClose:e.popupHide},null,8,["media","onClose"])]})),_:1})])):Object(i["f"])("",!0)]})),_:1}),e.loading?(Object(i["s"])(),Object(i["e"])("div",Un," Loading... ")):(Object(i["s"])(),Object(i["e"])("div",Vn,[qn,Object(i["i"])("div",Fn,[Jn,(Object(i["s"])(),Object(i["e"])(i["a"],null,Object(i["y"])(12,(function(e){return Object(i["i"])("div",{class:"month",key:e},Object(i["E"])(e),1)})),64))]),(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.years,(function(t){return Object(i["s"])(),Object(i["e"])("div",{class:"row",key:t},[Object(i["i"])("div",Wn,Object(i["E"])(t.year),1),(Object(i["s"])(),Object(i["e"])(i["a"],null,Object(i["y"])(12,(function(a,n){return Object(i["i"])("div",{class:"col",key:n,onClick:function(i){return e.load(a,t.year)}},[Object(i["i"])("div",{class:"col-bg",style:{opacity:t.months[n]?e.getOpacity(t.months[n].count):0}},null,4),Object(i["i"])("div",Gn,Object(i["E"])(t.months[n]?t.months[n].count:0),1)],8,["onClick"])})),64))])})),128)),e.unknownCount?(Object(i["s"])(),Object(i["e"])("div",Bn,"There are "+Object(i["E"])(e.unknownCount)+" titles with unknown completed date.",1)):Object(i["f"])("",!0),Object(i["i"])("div",Xn,[e.selectedMonth&&e.selectedYear?(Object(i["s"])(),Object(i["e"])("div",Kn,[Object(i["i"])("div",Qn,Object(i["E"])("AnimeHistory"==e.$route.name?"Anime":"Manga")+" completed in "+Object(i["E"])(e.monthNames[e.selectedMonth-1])+" of "+Object(i["E"])(e.selectedYear)+" ("+Object(i["E"])(e.selected.length)+")",1),Object(i["i"])("div",Zn,[(Object(i["s"])(!0),Object(i["e"])(i["a"],null,Object(i["y"])(e.selected,(function(t){return Object(i["s"])(),Object(i["e"])("div",{class:"details-entry",key:t.id,onClick:function(a){return e.popupShow(t)}},[Object(i["i"])("img",{class:"entry-image",src:t.cover},null,8,["src"]),Object(i["i"])("div",ec,Object(i["E"])(t.title),1)],8,["onClick"])})),128))])])):(Object(i["s"])(),Object(i["e"])("div",tc," Choose a month above to see details on it. "))])]))])})),ic=Object(i["j"])({components:{Popup:En},data:function(){return{state:A.state,loading:!1,monthNames:S,years:[],unknownCount:0,max:0,showPopup:!1,popupMedia:{},selected:[],selectedMonth:0,selectedYear:0}},created:function(){this.fetchData()},watch:{$route:"fetchData"},computed:{list:function(){var e="AnimeHistory"==this.$route.name?this.state.animeList:this.state.mangaList;return e}},methods:{fetchData:function(){var e=this;this.clear(),this.loading=!0,"AnimeHistory"==this.$route.name?0==this.state.animeList.length?wn("ANIME").then((function(t){A.setAnimeList(t),e.parseData()})):this.parseData():"MangaHistory"==this.$route.name&&(0==this.state.mangaList.length?wn("MANGA").then((function(t){A.setMangaList(t),e.parseData()})):this.parseData())},parseData:function(){var e=(new Date).getFullYear(),t=!0;while(t){var a=this.checkYear(e);if(a<12)e--;else{var i=this.list.filter((function(t){var a,i;return t.completed&&(null===(a=t.completed)||void 0===a?void 0:a.y)<e&&0!=(null===(i=t.completed)||void 0===i?void 0:i.y)}));0==i.length?(t=!1,this.years.pop()):e--}e<2e3&&(t=!1)}this.unknownCount=this.list.filter((function(e){var t;return"COMPLETED"==e.status&&0==(null===(t=e.completed)||void 0===t?void 0:t.y)})).length,this.loading=!1},checkYear:function(e){for(var t=this,a=0,i=function(i){var n=t.years.find((function(t){return t.year==e})),c=t.list.filter((function(t){var a,n;return(null===(a=t.completed)||void 0===a?void 0:a.m)==i&&(null===(n=t.completed)||void 0===n?void 0:n.y)==e}));if(0==c.length&&a++,c.length>t.max&&(t.max=c.length),n)n.months[i-1]={count:c.length};else{var s={year:e,months:[]};s.months[i-1]={count:c.length},t.years.push(s)}},n=1;n<13;n++)i(n);return a},popupShow:function(e){this.showPopup=!0,this.popupMedia=e},popupHide:function(){this.showPopup=!1},load:function(e,t){var a=this.list.filter((function(a){var i,n;return(null===(i=a.completed)||void 0===i?void 0:i.m)==e&&(null===(n=a.completed)||void 0===n?void 0:n.y)==t}));this.selectedMonth=e,this.selectedYear=t,this.selected=a},clear:function(){this.years=[],this.max=0,this.unknownCount=0,this.selected=[],this.selectedMonth=0,this.selectedYear=0},getOpacity:function(e){var t=e/this.max;return t}}});a("3776");ic.render=ac,ic.__scopeId="data-v-3294c33b";var nc=ic,cc=[{path:"/",name:"Home",component:wt},{path:"/:user",name:"User",component:na,children:[{path:"",component:nn},{path:"list/anime",component:Rn,name:"AnimeList",props:{type:"anime"}},{path:"list/manga",component:Rn,name:"MangaList",props:{type:"manga"}},{path:"history/anime",component:nc,name:"AnimeHistory"},{path:"history/manga",component:nc,name:"MangaHistory"}]}],sc=Object(_["a"])({history:Object(_["b"])("/anistats2/"),routes:cc}),rc=sc,oc=a("ecee"),dc=a("c074"),lc=a("ad3d");oc["c"].add(dc["g"],dc["d"],dc["e"],dc["o"],dc["l"],dc["j"],dc["i"],dc["t"],dc["b"],dc["k"],dc["p"],dc["s"],dc["h"],dc["n"],dc["r"],dc["m"],dc["c"],dc["f"],dc["a"],dc["q"]),Object(i["d"])(M).use(rc).component("font-awesome-icon",lc["a"]).mount("#app")},d39e:function(e,t,a){"use strict";a("578a")},d8f8:function(e,t,a){},da44:function(e,t,a){"use strict";a("99cf")},dbb4:function(e,t,a){"use strict";a("65ef")},dc3a:function(e,t,a){},decb:function(e,t,a){},e23c:function(e,t,a){"use strict";a("9d7c")},e42c:function(e,t,a){},e7f7:function(e,t,a){"use strict";a("63c7")}});
//# sourceMappingURL=app.ff56299c.js.map