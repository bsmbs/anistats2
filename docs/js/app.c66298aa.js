(function(e){function t(t){for(var n,r,s=t[0],o=t[1],d=t[2],l=0,b=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&b.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,d||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(n=!1)}n&&(c.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},i={app:0},c=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/anistats2/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var u=o;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0d57":function(e,t,a){"use strict";a("11fe")},"108c":function(e,t,a){},"11d9":function(e,t,a){},"11fe":function(e,t,a){},"1b61":function(e,t,a){"use strict";a("d530")},"1bf7":function(e,t,a){"use strict";a("df2f")},2089:function(e,t,a){},"208f":function(e,t,a){"use strict";a("5d0e")},"24bb":function(e,t,a){},"27af":function(e,t,a){"use strict";a("672f")},"2d82":function(e,t,a){"use strict";a("6453")},34100:function(e,t,a){"use strict";a("8b6c")},"3dc0":function(e,t,a){"use strict";a("11d9")},"405b":function(e,t,a){"use strict";a("6f1c")},"43bd":function(e,t,a){"use strict";a("bda6")},"49f4":function(e,t,a){},5669:function(e,t,a){"use strict";a("108c")},"5cdc":function(e,t,a){},"5d0e":function(e,t,a){},6453:function(e,t,a){},6627:function(e,t,a){},"665a":function(e,t,a){"use strict";a("d02e")},"672f":function(e,t,a){},"6ada":function(e,t,a){},"6f1c":function(e,t,a){},"71c1":function(e,t,a){},"71cd":function(e,t,a){},7849:function(e,t,a){"use strict";a("2089")},"7a8b":function(e,t,a){"use strict";a("8df0")},"7f3e":function(e,t,a){e.exports=a.p+"img/merge.ca5fa3bb.png"},8450:function(e,t,a){},"8b6c":function(e,t,a){},"8df0":function(e,t,a){},9382:function(e,t,a){"use strict";a("ea41")},b20e:function(e,t,a){"use strict";a("24bb")},bd58:function(e,t,a){"use strict";a("8450")},bda6:function(e,t,a){},c590:function(e,t,a){"use strict";a("d312")},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function i(e,t,a,i,c,r){var s=Object(n["A"])("router-view");return Object(n["r"])(),Object(n["e"])(s)}a("a9e3");var c=a("53ca"),r=(a("b0c0"),a("99af"),a("159b"),a("ac1f"),a("1276"),a("7db0"),a("1da1")),s=(a("96cf"),a("d3b7"),"query ($userId: Int, $page: Int, $perPage: Int, $type: ActivityType, $from: Int, $to: Int) {\n    Page(page: $page, perPage: $perPage) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      activities(userId: $userId, sort: ID_DESC, type: $type, createdAt_greater: $from, createdAt_lesser: $to) {\n        __typename\n        ... on ListActivity {\n          id\n          media {\n            id\n            type\n            title {\n              romaji\n            }\n            coverImage {\n              medium\n            }\n          }\n          type\n          createdAt\n          status\n          progress\n        }\n      }\n    }\n  }"),o="query ($userId: Int, $type: MediaType, $chunk: Int) {\n    MediaListCollection (userId: $userId, type: $type, chunk: $chunk) {\n        lists {\n            name\n            isCustomList\n            entries {\n              id\n              status\n              progress\n              createdAt\n              startedAt {\n                year\n                month\n                day\n              }\n              completedAt {\n                year\n                month\n                day\n              }\n              media {\n                id\n                type\n                bannerImage\n                coverImage {\n                  medium\n                }\n                averageScore\n                seasonYear\n                title {\n                  romaji\n                }\n                format\n                episodes\n                chapters\n              }\n            }\n          }\n        }\n      }",d="query ($userId: Int, $mediaId: Int, $page: Int, $perPage: Int) {\n    Media(id: $mediaId) {\n      id\n      title {\n        romaji\n      }\n      coverImage {\n        large\n      }\n      bannerImage\n      episodes\n    }\n    Page(page: $page, perPage: $perPage) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      activities(sort: ID_DESC, mediaId: $mediaId, userId: $userId) {\n        __typename\n        ... on ListActivity {\n          id\n          media {\n            id\n            type\n            title {\n              romaji\n            }\n            coverImage {\n              medium\n            }\n          }\n          type\n          createdAt\n          status\n          progress\n        }\n      }\n    }\n  }\n  ",u="query ($username: String) {\n    User (name: $username) {\n      id\n      name\n      avatar {\n        medium\n      }\n    }\n  }";function l(e,t){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({query:t,variables:a})});case 2:return n=e.sent,e.next=5,n.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function p(e){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",l(u,{username:t}));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function h(e,t){return j.apply(this,arguments)}function j(){return j=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={page:1,perPage:50,mediaId:a,userId:t},e.abrupt("return",l(d,n));case 2:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function v(e,t){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={userId:t,type:a},e.abrupt("return",l(o,n));case 2:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(e,t,a,n,i){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(regeneratorRuntime.mark((function e(t,a,n,i,c){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=void 0,"anime"==n?r="ANIME_LIST":"manga"==n&&(r="MANGA_LIST"),o={page:a,perPage:50,userId:t,type:r,from:i,to:c},e.abrupt("return",l(s,o));case 4:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function g(e,t){return e.d==t.d&&e.m==t.m&&e.y==t.y}var k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"],A={debug:!0,state:Object(n["w"])({userData:{id:0,username:"",avatar:""},activities:[],updateHour:3,mediaType:"both",saveSettings:!1,animeList:[],mangaList:[]}),setUserdata:function(e){this.state.userData.id=e.data.User.id,this.state.userData.username=e.data.User.name,this.state.userData.avatar=e.data.User.avatar.medium},appendActivities:function(e){return this.state.activities=this.state.activities.concat(e),this.state.activities},destroy:function(){this.state.activities=[],this.state.animeList=[],this.state.mangaList=[]},saveSettings:function(e){this.state.saveSettings=e},setSettings:function(e){void 0!=Object(c["a"])(e.updateHour)&&(this.state.updateHour=e.updateHour),e.mediaType&&(this.state.mediaType=e.mediaType)},setAnimeList:function(e){this.state.animeList=e},setMangaList:function(e){this.state.mangaList=e},parseActivities:function(e){var t=this,a=[];return e.forEach((function(e){var n=new Date(1e3*e.createdAt);n.getHours()<t.state.updateHour&&n.setDate(n.getDate()-1);var i,c={d:n.getDate(),m:n.getMonth()+1,y:n.getFullYear(),weekday:k[n.getDay()],time:n.getTime()},r=0,s=0;switch(e.status){case"watched episode":case"rewatched episode":i=e.progress.split(" - "),r=2==i.length?parseInt(i[1])-parseInt(i[0])+1:1;break;case"read chapter":case"reread chapter":i=e.progress.split(" - "),s=2==i.length?parseInt(i[1])-parseInt(i[0])+1:1;break;case"completed":"ANIME"==e.media.type?r=1:s=1;break;default:return}var o={id:e.media.id,type:e.media.type,title:e.media.title.romaji,cover:e.media.coverImage.medium,episodes:r||s},d=a.find((function(e){return g(e.day,c)}));if(d){d.episodes+=r,d.chapters+=s;var u=d.media.find((function(e){return e.id==o.id&&e.type==o.type}));u?"ANIME"==u.type?u.episodes+=r:u.episodes+=s:d.media.push(o)}else a.push({day:c,episodes:r,chapters:s,media:o?[o]:[]})})),a}},D=(a("a15b"),a("d81d"),a("5319"),a("2ca0"),(new Intl.DateTimeFormat).formatToParts(new Date)),S=D.map((function(e){switch(e.type){case"day":return"DD";case"month":return"MM";case"year":return"YYYY";default:return e.value}})).join("");function I(e){return 0==e.time?"Unknown":S.replace("DD",String(e.d)).replace("MM",e.m>=10?String(e.m):"0"+String(e.m)).replace("YYYY",String(e.y))}function C(e){var t=new Date(e);return{d:t.getDate(),m:t.getMonth()+1,y:t.getFullYear(),weekday:k[t.getDay()],time:t.getTime()}}function L(e){var t=e.find((function(e){return e.status.startsWith("plans")}));if(t){var a=new Date(1e3*t.createdAt),n={d:a.getDate(),m:a.getMonth()+1,y:a.getFullYear(),weekday:k[a.getDay()],time:a.getTime()};return t?I(n):"Unknown"}return"Unknown"}function T(){document.body.classList.contains("site-theme-light")?(document.body.classList.remove("site-theme-light"),window.localStorage.setItem("theme","dark")):(document.body.classList.add("site-theme-light"),window.localStorage.setItem("theme","light"))}var P=Object(n["j"])({data:function(){return{state:A.state}},created:function(){var e=localStorage.getItem("updateHour"),t=localStorage.getItem("mediaType");e&&t&&(A.saveSettings(!0),A.setSettings({updateHour:Number(e),mediaType:t}));var a=localStorage.getItem("theme");"light"==a&&T()},mounted:function(){this.$nextTick().then((function(){}))}});a("7849");P.render=i;var M=P,_=a("6c02"),$=Object(n["J"])("data-v-44fabb54");Object(n["v"])("data-v-44fabb54");var H={class:"container"},E=Object(n["i"])("span",{class:"warning"},[Object(n["h"])("anistats 2 is still in "),Object(n["i"])("span",{style:{color:"var(--color-text-blue)"}},"beta"),Object(n["h"])(" and may lack some features. For the previous version look "),Object(n["i"])("a",{href:"https://pizza61.github.io/anistats"},"here"),Object(n["h"])(".")],-1),x={key:0,class:"error"},N={class:"buttons"},R={class:"button-wrapper"},z=Object(n["h"])("Settings"),J={class:"button-wrapper"},U=Object(n["h"])("Continue"),Y={class:"settings"};Object(n["s"])();var F=$((function(e,t,a,i,c,r){var s=Object(n["A"])("Logo"),o=Object(n["A"])("Button"),d=Object(n["A"])("Settings"),u=Object(n["A"])("Panel");return Object(n["r"])(),Object(n["e"])("div",H,[Object(n["i"])(s,{size:"3em"}),E,Object(n["i"])(n["b"],{name:"errorfade"},{default:$((function(){return[e.error.length>0?(Object(n["r"])(),Object(n["e"])("span",x,Object(n["D"])(e.error),1)):Object(n["f"])("",!0)]})),_:1}),Object(n["H"])(Object(n["i"])("input",{class:["username",{usernameError:e.error.length>0,pulse:e.loading}],placeholder:"Enter username",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.username=t}),onKeyup:t[2]||(t[2]=Object(n["I"])((function(){return e.send&&e.send.apply(e,arguments)}),["enter"]))},null,34),[[n["F"],e.username]]),Object(n["i"])("div",N,[Object(n["i"])("div",R,[Object(n["i"])(o,{icon:"cog",color:"var(--color-text-gray)",onClick:e.toggleSettings},{default:$((function(){return[z]})),_:1},8,["onClick"])]),Object(n["i"])("div",J,[Object(n["i"])(o,{onClick:e.send,icon:"chevron-right",color:"var(--color-text-blue)"},{default:$((function(){return[U]})),_:1},8,["onClick"])])]),Object(n["i"])("div",Y,[Object(n["i"])(n["b"],{name:"settings",mode:"out-in"},{default:$((function(){return[e.settings?(Object(n["r"])(),Object(n["e"])(d,{key:0})):Object(n["f"])("",!0)]})),_:1})]),Object(n["i"])("footer",null,[Object(n["i"])(u)])])})),V=a("d4ec"),q=a("bee2"),W=a("262e"),G=a("2caf"),B=(a("3ca3"),a("ddb0"),a("2b3d"),a("9ab4")),K=Object(n["J"])("data-v-0a9f85d1");Object(n["v"])("data-v-0a9f85d1");var Q=Object(n["i"])("span",{class:"blue"},"ani",-1),X=Object(n["i"])("span",null,"stats",-1);Object(n["s"])();var Z=K((function(e,t,a,i,c,r){return Object(n["r"])(),Object(n["e"])("div",{class:"logo",style:{fontSize:e.size}},[Q,X],4)})),ee=a("ce1f"),te=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);te=Object(B["a"])([Object(ee["a"])({props:{size:String}})],te);var ae=te;a("daba");ae.render=Z,ae.__scopeId="data-v-0a9f85d1";var ne=ae,ie=Object(n["J"])("data-v-9ffd299e"),ce=ie((function(e,t,a,i,c,r){var s=Object(n["A"])("font-awesome-icon");return Object(n["r"])(),Object(n["e"])("button",{class:"btn",style:{color:e.color}},[e.icon?(Object(n["r"])(),Object(n["e"])(s,{key:0,icon:e.icon,size:"lg","fixed-width":""},null,8,["icon"])):Object(n["f"])("",!0),Object(n["i"])("span",null,[Object(n["z"])(e.$slots,"default",{},void 0,!0)])],4)})),re=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);re=Object(B["a"])([Object(ee["a"])({props:{icon:String,color:String}})],re);var se=re;a("9382");se.render=ce,se.__scopeId="data-v-9ffd299e";var oe=se,de=Object(n["J"])("data-v-5a486a92");Object(n["v"])("data-v-5a486a92");var ue={class:"settings"},le={class:"section"},be={class:"setting-header"},pe={class:"setting-name"},Oe={class:"setting-desc"},he={class:"setting-switch"},je=Object(n["h"])("Save those settings for later");Object(n["s"])();var ve=de((function(e,t,a,i,c,r){var s=Object(n["A"])("SettingsSwitcher"),o=Object(n["A"])("Switch");return Object(n["r"])(),Object(n["e"])("div",ue,[Object(n["i"])("div",le,[(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.settings,(function(t,a){return Object(n["r"])(),Object(n["e"])("div",{class:"setting",key:a},[Object(n["i"])("div",be,[Object(n["i"])("div",pe,Object(n["D"])(t.name),1),Object(n["i"])("div",Oe,Object(n["D"])(t.desc),1)]),Object(n["i"])("div",he,[Object(n["i"])(s,{options:t.options,default:t.default,onSelection:function(t){return e.handleSelect(t,a)}},null,8,["options","default","onSelection"])])])})),128))]),Object(n["i"])(o,{name:"save","model-value":e.save,"onUpdate:modelValue":e.toggleSave},{default:de((function(){return[je]})),_:1},8,["model-value","onUpdate:modelValue"])])})),fe=(a("fb6a"),Object(n["J"])("data-v-e8aacb08"));Object(n["v"])("data-v-e8aacb08");var me={class:"switches"};Object(n["s"])();var ye=fe((function(e,t,a,i,c,r){return Object(n["r"])(),Object(n["e"])("div",me,[(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.options,(function(t,a){return Object(n["r"])(),Object(n["e"])("div",{class:["switch",{selected:t==e.chosen}],key:a,onClick:function(a){return e.select(t)}},Object(n["D"])(e.capitalize(t)),11,["onClick"])})),128))])})),ge=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.cho=[],e.chosen="",e}return Object(q["a"])(a,[{key:"capitalize",value:function(e){return e[0].toUpperCase()+e.slice(1)}},{key:"mounted",value:function(){this.chosen=this.default}},{key:"select",value:function(e){this.chosen=e,this.$emit("selection",e)}}]),a}(ee["b"]);ge=Object(B["a"])([Object(ee["a"])({props:{options:Array,default:String}})],ge);var ke=ge;a("dabb");ke.render=ye,ke.__scopeId="data-v-e8aacb08";var we=ke,Ae=Object(n["J"])("data-v-a818537a"),De=Ae((function(e,t,a,i,c,r){return Object(n["r"])(),Object(n["e"])("div",null,[Object(n["i"])("div",null,[Object(n["i"])("input",{type:"checkbox",checked:e.modelValue,onInput:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.target.checked)}),id:e.name,class:"switch-input"},null,40,["checked","id"]),Object(n["i"])("label",{for:e.name,class:"switch-label"},[Object(n["z"])(e.$slots,"default",{},void 0,!0)],8,["for"])])])})),Se=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);Se=Object(B["a"])([Object(ee["a"])({props:{modelValue:Boolean,name:String},emits:["update:modelValue"]})],Se);var Ie=Se;a("43bd");Ie.render=De,Ie.__scopeId="data-v-a818537a";var Ce=Ie,Le=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.state=A.state,e.save=!1,e.settings=[{name:"Stats type",desc:"Choose which type of media you want to be displayed.",options:["both","anime","manga"]},{name:"Beginning of a new day",desc:"You may choose to count late night as previous day.",options:["12am","1am","2am","3am","4am","6am"]}],e}return Object(q["a"])(a,[{key:"created",value:function(){this.settings[0].default=this.state.mediaType,this.settings[1].default=0==this.state.updateHour?"12am":this.state.updateHour+"am",this.save=this.state.saveSettings}},{key:"handleSelect",value:function(e,t){var a=e.toLowerCase();0==t?this.state.mediaType=a:1==t&&("12am"==e?A.setSettings({updateHour:0}):A.setSettings({updateHour:Number(e.slice(0,-2))}))}},{key:"toggleSave",value:function(e){this.save=e,A.saveSettings(e)}}]),a}(ee["b"]);Le=Object(B["a"])([Object(ee["a"])({components:{SettingsSwitcher:we,Switch:Ce}})],Le);var Te=Le;a("c590");Te.render=ve,Te.__scopeId="data-v-5a486a92";var Pe=Te,Me=Object(n["J"])("data-v-12d1cf38");Object(n["v"])("data-v-12d1cf38");var _e={class:"footer-wrapper"},$e={class:"timestamp"},He={class:"footer"},Ee=Object(n["h"])("About"),xe=Object(n["h"])("Help");Object(n["s"])();var Ne=Me((function(e,t,a,i,c,r){var s=Object(n["A"])("router-link");return Object(n["r"])(),Object(n["e"])("div",_e,[Object(n["i"])("div",$e,"Built on "+Object(n["D"])(e.buildTimestamp),1),Object(n["i"])("div",He,[Object(n["i"])("span",{class:"footer-link",onClick:t[1]||(t[1]=function(){return e.lightMode&&e.lightMode.apply(e,arguments)})},"Toggle light mode"),Object(n["i"])(s,{class:"footer-link",to:"/s/about"},{default:Me((function(){return[Ee]})),_:1}),Object(n["i"])(s,{class:"footer-link",to:"/s/help"},{default:Me((function(){return[xe]})),_:1})])])})),Re=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return Object(q["a"])(a,[{key:"buildTimestamp",get:function(){return document.documentElement.dataset.buildTimestamp}},{key:"lightMode",value:function(){T()}}]),a}(ee["b"]);Re=Object(B["a"])([Object(ee["a"])({})],Re);var ze=Re;a("0d57");ze.render=Ne,ze.__scopeId="data-v-12d1cf38";var Je=ze,Ue=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.show=!0,e.loading=!1,e.settings=!1,e.username="",e.error="",e.state=A.state,e}return Object(q["a"])(a,[{key:"mounted",value:function(){"1"==this.$route.query.error&&this.showError("Something went wrong. Please try again")}},{key:"send",value:function(){if(this.username.length<2)return this.showError("Hey, I said enter your username.");if(this.username.startsWith("https://anilist.co"))try{var e=new URL(this.username);if(!e.pathname.startsWith("/user/"))throw"Invalid URL";var t=e.pathname.split("/")[2];this.process(t)}catch(a){this.showError(a)}else this.state.saveSettings?(localStorage.setItem("updateHour",String(this.state.updateHour)),localStorage.setItem("mediaType",this.state.mediaType)):(localStorage.removeItem("updateHour"),localStorage.removeItem("mediaType")),this.loading=!0,this.process(this.username)}},{key:"process",value:function(e){var t=this;p(e).then((function(a){A.destroy(),A.setUserdata(a),t.$router.push("/"+e)})).catch((function(){t.showError("Invalid username (or profile is private)")}))}},{key:"showError",value:function(e){var t=this;this.loading=!1,this.error=e,setTimeout((function(){t.error=""}),5e3)}},{key:"toggleSettings",value:function(){this.settings=!this.settings}}]),a}(ee["b"]);Ue=Object(B["a"])([Object(ee["a"])({components:{Logo:ne,Button:oe,Settings:Pe,Panel:Je}})],Ue);var Ye=Ue;a("bd58");Ye.render=F,Ye.__scopeId="data-v-44fabb54";var Fe=Ye,Ve=Object(n["J"])("data-v-287ece95");Object(n["v"])("data-v-287ece95");var qe={class:"container"},We={class:"content"};Object(n["s"])();var Ge=Ve((function(e,t,a,i,c,r){var s=Object(n["A"])("Logo"),o=Object(n["A"])("router-link"),d=Object(n["A"])("router-view"),u=Object(n["A"])("Panel");return Object(n["r"])(),Object(n["e"])("div",qe,[Object(n["i"])(o,{to:"/"},{default:Ve((function(){return[Object(n["i"])(s,{size:"3em"})]})),_:1}),Object(n["i"])("div",We,[Object(n["i"])(d)]),Object(n["i"])("footer",null,[Object(n["i"])(u)])])})),Be=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);Be=Object(B["a"])([Object(ee["a"])({components:{Logo:ne,Panel:Je}})],Be);var Ke=Be;a("fddc");Ke.render=Ge,Ke.__scopeId="data-v-287ece95";var Qe=Ke,Xe=Object(n["J"])("data-v-30bb0cb8");Object(n["v"])("data-v-30bb0cb8");var Ze={key:1,class:"view"},et={class:"content"},tt={class:"mobile-header"};Object(n["s"])();var at=Xe((function(e,t,a,i,c,r){var s=Object(n["A"])("Loading"),o=Object(n["A"])("Sidebar"),d=Object(n["A"])("font-awesome-icon"),u=Object(n["A"])("Logo"),l=Object(n["A"])("router-link"),b=Object(n["A"])("router-view");return e.loading?(Object(n["r"])(),Object(n["e"])(s,{key:0})):(Object(n["r"])(),Object(n["e"])("div",Ze,[Object(n["i"])("div",{class:["sidebar-wrapper",{"sidebar-hide-mobile":!e.showSidebar}]},[Object(n["i"])("div",{class:"sidebar-backdrop",onClick:t[1]||(t[1]=function(){return e.toggleSidebar&&e.toggleSidebar.apply(e,arguments)})}),Object(n["i"])(o,{onToggle:e.toggleSidebar},null,8,["onToggle"])],2),Object(n["i"])("div",et,[Object(n["i"])("div",tt,[Object(n["i"])("div",{class:"mobile-icon",onClick:t[2]||(t[2]=function(){return e.toggleSidebar&&e.toggleSidebar.apply(e,arguments)})},[Object(n["i"])(d,{icon:"bars",size:"lg"})]),Object(n["i"])(l,{class:"a",to:"/"},{default:Xe((function(){return[Object(n["i"])(u,{size:"1.8em"})]})),_:1})]),Object(n["i"])(b,{onLoadRequest:e.loadEarlierActivities},null,8,["onLoadRequest"])])]))})),nt=(a("4de4"),a("a434"),Object(n["J"])("data-v-6e66bfd3"));Object(n["v"])("data-v-6e66bfd3");var it={class:"container"},ct=Object(n["i"])("div",{class:"loading"},"Loading...",-1);Object(n["s"])();var rt=nt((function(e,t,a,i,c,r){var s=Object(n["A"])("Logo");return Object(n["r"])(),Object(n["e"])("div",it,[Object(n["i"])(s,{size:"3em"}),ct])})),st=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);st=Object(B["a"])([Object(ee["a"])({components:{Logo:ne}})],st);var ot=st;a("5669");ot.render=rt,ot.__scopeId="data-v-6e66bfd3";var dt=ot,ut=Object(n["J"])("data-v-fb5c2ccc");Object(n["v"])("data-v-fb5c2ccc");var lt={class:"sidebar"},bt={class:"header"},pt=Object(n["h"])("Overview"),Ot={key:0,class:"category"},ht=Object(n["i"])("span",{class:"category-header"},"Anime",-1),jt=Object(n["h"])("List"),vt=Object(n["h"])("History"),ft={key:1,class:"category"},mt=Object(n["i"])("span",{class:"category-header"},"Manga",-1),yt=Object(n["h"])("List"),gt=Object(n["h"])("History"),kt=Object(n["i"])("span",{class:"tiny"},"About",-1),wt=Object(n["i"])("span",{class:"tiny"},"Help",-1);Object(n["s"])();var At=ut((function(e,t,a,i,c,r){var s=Object(n["A"])("font-awesome-icon"),o=Object(n["A"])("Logo"),d=Object(n["A"])("router-link"),u=Object(n["A"])("MenuItem");return Object(n["r"])(),Object(n["e"])("div",lt,[Object(n["i"])("div",bt,[Object(n["i"])("div",{class:"header-icon",onClick:t[1]||(t[1]=function(){return e.emitToggle&&e.emitToggle.apply(e,arguments)})},[Object(n["i"])(s,{icon:"bars",size:"lg"})])]),Object(n["i"])(d,{class:"a",to:"/"},{default:ut((function(){return[Object(n["i"])(o,{size:"2em"})]})),_:1}),Object(n["i"])(u,{onClick:e.emitToggle,icon:"user-circle",to:""},{default:ut((function(){return[pt]})),_:1},8,["onClick"]),"manga"!=e.state.mediaType?(Object(n["r"])(),Object(n["e"])("div",Ot,[ht,Object(n["i"])(u,{onClick:e.emitToggle,icon:"list",to:"/list/anime"},{default:ut((function(){return[jt]})),_:1},8,["onClick"]),Object(n["i"])(u,{onClick:e.emitToggle,icon:"history",to:"/history/anime"},{default:ut((function(){return[vt]})),_:1},8,["onClick"])])):Object(n["f"])("",!0),"anime"!=e.state.mediaType?(Object(n["r"])(),Object(n["e"])("div",ft,[mt,Object(n["i"])(u,{onClick:e.emitToggle,icon:"book-open",to:"/list/manga"},{default:ut((function(){return[yt]})),_:1},8,["onClick"]),Object(n["i"])(u,{onClick:e.emitToggle,icon:"history",to:"/history/manga"},{default:ut((function(){return[gt]})),_:1},8,["onClick"])])):Object(n["f"])("",!0),Object(n["i"])("span",{class:"tiny",onClick:t[2]||(t[2]=function(){return e.toggleTheme&&e.toggleTheme.apply(e,arguments)})},"Toggle light mode"),Object(n["i"])(d,{onClick:e.emitToggle,to:"/s/about"},{default:ut((function(){return[kt]})),_:1},8,["onClick"]),Object(n["i"])(d,{onClick:e.emitToggle,to:"/s/help"},{default:ut((function(){return[wt]})),_:1},8,["onClick"])])})),Dt=Object(n["J"])("data-v-aaa0c406");Object(n["v"])("data-v-aaa0c406");var St={class:"label"};Object(n["s"])();var It=Dt((function(e,t,a,i,c,r){var s=Object(n["A"])("font-awesome-icon"),o=Object(n["A"])("router-link");return Object(n["r"])(),Object(n["e"])(o,{to:"/"+e.$route.params.user+e.to,class:"menuitem"},{default:Dt((function(){return[Object(n["i"])(s,{icon:e.icon,size:"lg","fixed-width":""},null,8,["icon"]),Object(n["i"])("span",St,[Object(n["z"])(e.$slots,"default",{},void 0,!0)])]})),_:3},8,["to"])})),Ct=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);Ct=Object(B["a"])([Object(ee["a"])({props:{to:String,icon:String}})],Ct);var Lt=Ct;a("1b61");Lt.render=It,Lt.__scopeId="data-v-aaa0c406";var Tt=Lt,Pt=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.state=A.state,e}return Object(q["a"])(a,[{key:"emitToggle",value:function(){this.$emit("toggle")}},{key:"toggleTheme",value:function(){T()}}]),a}(ee["b"]);Pt=Object(B["a"])([Object(ee["a"])({components:{Logo:ne,MenuItem:Tt}})],Pt);var Mt=Pt;a("ec7e");Mt.render=At,Mt.__scopeId="data-v-fb5c2ccc";var _t=Mt,$t=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.loading=!0,e.lock=!1,e.currentPage=1,e.lastPage=0,e.state=A.state,e.showSidebar=!1,e.preloadedActivities=[],e}return Object(q["a"])(a,[{key:"mounted",value:function(){var e=this;this.state.userData.id?this.loadActivites():p(this.$route.params.user).then((function(t){A.setUserdata(t),e.loadActivites()})).catch((function(){e.$router.push({path:"/",query:{error:1}})}))}},{key:"unmounted",value:function(){A.destroy(),console.log("State destroyed")}},{key:"loadActivites",value:function(){var e=this;m(this.state.userData.id,this.currentPage,this.state.mediaType).then((function(t){e.lastPage=t.data.Page.pageInfo.lastPage;var a=A.parseActivities(t.data.Page.activities);if(0==a.length)return e.$router.push({path:"/",query:{error:1}});e.preloadActivites(a).then((function(t){e.preloadedActivities=t,A.appendActivities(a),e.loading=!1}))}))}},{key:"loadEarlierActivities",value:function(){var e=this;if(!this.lock){this.lock=!0,this.currentPage++;var t=A.appendActivities(this.preloadedActivities);this.preloadActivites(t).then((function(t){e.preloadedActivities=t,e.lock=!1}))}}},{key:"preloadActivites",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.currentPage!=this.lastPage){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,m(this.state.userData.id,this.currentPage+1,this.state.mediaType);case 4:return a=e.sent,n=A.parseActivities(a.data.Page.activities),i=n.filter((function(e){return g(e.day,t[t.length-1].day)})),i.forEach((function(e){var a=n.indexOf(e);n.splice(a,1);var i=t[t.length-1];i.media=i.media.concat(e.media),i.episodes+=e.episodes,i.chapters+=e.chapters})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleSidebar",value:function(){this.showSidebar=!this.showSidebar}}]),a}(ee["b"]);$t=Object(B["a"])([Object(ee["a"])({components:{Loading:dt,Sidebar:_t,Logo:ne}})],$t);var Ht=$t;a("405b");Ht.render=at,Ht.__scopeId="data-v-30bb0cb8";var Et=Ht,xt=a("7f3e"),Nt=a.n(xt),Rt=Object(n["J"])("data-v-a019906c");Object(n["v"])("data-v-a019906c");var zt=Object(n["i"])("h3",null,"How does it work?",-1),Jt=Object(n["h"])(' AniList has a small feature called "Activity". Each time you watch an episode, add something to your planning list, an activity is created. anistats takes adventage of that to count how many episodes you\'ve seen on a specific day. '),Ut=Object(n["i"])("h3",null,"Why it doesn't work?",-1),Yt=Object(n["i"])("h4",null,"Activity Merge Time",-1),Ft=Object(n["i"])("img",{src:Nt.a},null,-1),Vt=Object(n["i"])("br",null,null,-1),qt=Object(n["i"])("b",null,"It has to be set to 12 hours or less for anistats to work properly",-1),Wt=Object(n["h"])(" (in most use cases). If you set it to 'Always', it produces "),Gt=Object(n["i"])("b",null,"one activity per anime",-1),Bt=Object(n["h"])(", no matter how long it took you to watch it. For anistats, it's best if there is "),Kt=Object(n["i"])("b",null,"at least one activity per anime per day.",-1),Qt=Object(n["i"])("br",null,null,-1),Xt=Object(n["h"])(" Note: changing it won't affect previous activities. "),Zt=Object(n["i"])("br",null,null,-1),ea=Object(n["i"])("br",null,null,-1),ta=Object(n["h"])(" Also, you have to add episodes using this little '+' symbol next to the episode count instead of setting it directly from the 'Edit' menu. "),aa=Object(n["i"])("br",null,null,-1),na=Object(n["h"])(" Let's say you've started a new series yesterday and watched 3 episodes so far. Today, after watching 3 next episodes, you set the episode count directly to '6'. AniList creates an activity saying that you've watched episode 6. anistats counts that as "),ia=Object(n["i"])("b",null,"one",-1),ca=Object(n["h"])(" episode. "),ra=Object(n["i"])("br",null,null,-1),sa=Object(n["h"])(" If you click the '+' symbol three times instead, the activity says that you've watched episodes 4-6. anistats sees that correctly as 3 episodes. ");Object(n["s"])();var oa=Rt((function(e,t,a,i,c,r){return Object(n["r"])(),Object(n["e"])("div",null,[zt,Jt,Ut,Yt,Ft,Vt,qt,Wt,Gt,Bt,Kt,Qt,Xt,Zt,ea,ta,aa,na,ia,ca,ra,sa])})),da=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);da=Object(B["a"])([Object(ee["a"])({})],da);var ua=da;a("fdd9");ua.render=oa,ua.__scopeId="data-v-a019906c";var la=ua,ba=Object(n["i"])("h2",null,"About",-1),pa=Object(n["i"])("p",null,"anistats is an extension for AniList that lets you check how much time you spend/waste on watching anime and reading manga based on your activities.",-1),Oa=Object(n["i"])("p",null,[Object(n["h"])("Source code of this site is available "),Object(n["i"])("a",{href:"https://github.com/pizza61/anistats2"},"here"),Object(n["h"])(".")],-1);function ha(e,t,a,i,c,r){return Object(n["r"])(),Object(n["e"])("div",null,[ba,pa,Oa])}var ja=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);ja.render=ha;var va=ja,fa=Object(n["J"])("data-v-7b5cd42b");Object(n["v"])("data-v-7b5cd42b");var ma={class:"main"},ya={class:"tooltipct"},ga={key:0,class:"tooltip"};Object(n["s"])();var ka=fa((function(e,t,a,i,c,r){var s=Object(n["A"])("Calendar"),o=Object(n["A"])("Tooltip"),d=Object(n["A"])("DetailsContainer");return Object(n["r"])(),Object(n["e"])("div",ma,[Object(n["i"])(n["b"],{name:"popup-backdrop"},{default:fa((function(){return[e.showTooltip?(Object(n["r"])(),Object(n["e"])("div",{key:0,class:"popup",onClick:t[1]||(t[1]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})})):Object(n["f"])("",!0)]})),_:1}),Object(n["i"])("div",null,[Object(n["i"])(s,{onPopup:e.showPopup,onError:e.showError,onDynamicPopup:e.fetchPopup},null,8,["onPopup","onError","onDynamicPopup"]),Object(n["i"])("div",ya,[Object(n["i"])(n["b"],{name:"easein",mode:"in-out"},{default:fa((function(){return[e.showTooltip?(Object(n["r"])(),Object(n["e"])("div",ga,[Object(n["i"])(o,{day:e.tooltipActivities,onClose:e.popupHide,loading:e.popupLoading},null,8,["day","onClose","loading"])])):Object(n["f"])("",!0)]})),_:1})])]),Object(n["i"])(d,{onLoadRequest:e.load},null,8,["onLoadRequest"])])})),wa=Object(n["J"])("data-v-3ee24d21");Object(n["v"])("data-v-3ee24d21");var Aa={class:"details"},Da={class:"group-header"},Sa={class:"date-group"},Ia={class:"weekday"},Ca={class:"date"},La=Object(n["i"])("span",{style:{flex:"1"}},null,-1),Ta={key:0,class:"prop"},Pa={class:"prop-value"},Ma=Object(n["i"])("div",{class:"prop-desc"},"chapters",-1),_a={key:1,class:"prop"},$a={class:"prop-value"},Ha=Object(n["i"])("div",{class:"prop-desc"},"episodes",-1);Object(n["s"])();var Ea=wa((function(e,t,a,i,c,r){var s=Object(n["A"])("SeriesItem");return Object(n["r"])(),Object(n["e"])("div",Aa,[(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.state.activities,(function(t,a){return Object(n["r"])(),Object(n["e"])("div",{class:"group",key:a},[Object(n["i"])("div",Da,[Object(n["i"])("div",Sa,[Object(n["i"])("span",Ia,Object(n["D"])(t.day.weekday),1),Object(n["i"])("span",Ca,Object(n["D"])(e.prettyDate(t.day)),1)]),La,"anime"!=e.state.mediaType?(Object(n["r"])(),Object(n["e"])("div",Ta,[Object(n["i"])("div",Pa,Object(n["D"])(t.chapters),1),Ma])):Object(n["f"])("",!0),"manga"!=e.state.mediaType?(Object(n["r"])(),Object(n["e"])("div",_a,[Object(n["i"])("div",$a,Object(n["D"])(t.episodes),1),Ha])):Object(n["f"])("",!0)]),(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(t.media,(function(e,t){return Object(n["r"])(),Object(n["e"])(s,{key:t,media:e},null,8,["media"])})),128))])})),128)),Object(n["i"])("button",{class:"button group",onClick:t[1]||(t[1]=function(t){return e.$emit("loadRequest")})}," More... ")])})),xa=Object(n["J"])("data-v-4bd3da5f");Object(n["v"])("data-v-4bd3da5f");var Na={class:"item-wrapper"},Ra=Object(n["i"])("span",{style:{flex:"1"}},null,-1),za={class:"prop"},Ja={class:"prop-value"},Ua={class:"prop-desc"};Object(n["s"])();var Ya=xa((function(e,t,a,i,c,r){var s=Object(n["A"])("SeriesDetails");return Object(n["r"])(),Object(n["e"])("div",Na,[Object(n["i"])("div",{class:"item",onClick:t[1]||(t[1]=function(){return e.toggleDisplay&&e.toggleDisplay.apply(e,arguments)})},[Object(n["i"])("img",{class:"image",alt:"Cover image of "+e.media.title,src:e.media.cover},null,8,["alt","src"]),Object(n["i"])("span",{class:"title",title:e.media.title},Object(n["D"])(e.media.title),9,["title"]),Ra,Object(n["i"])("div",za,[Object(n["i"])("span",Ja,Object(n["D"])(e.media.episodes),1),Object(n["i"])("span",Ua,Object(n["D"])("ANIME"===e.media.type?"episodes":"chapters"),1)])]),Object(n["i"])(n["b"],{name:"details"},{default:xa((function(){return[e.details&&!e.hide?(Object(n["r"])(),Object(n["e"])(s,{key:0,media:e.media},null,8,["media"])):Object(n["f"])("",!0)]})),_:1})])})),Fa=Object(n["J"])("data-v-6471162c");Object(n["v"])("data-v-6471162c");var Va={key:0},qa={key:1,class:"entries"},Wa={class:"entry header"},Ga={class:"entry-date"},Ba=Object(n["i"])("div",{class:"entry-value"}," Added ",-1),Ka={class:"entry-date"},Qa={class:"entry-prop"},Xa={class:"entry-value"},Za={class:"entry-desc"};Object(n["s"])();var en=Fa((function(e,t,a,i,c,r){var s=Object(n["A"])("CheapLoading");return e.loading?(Object(n["r"])(),Object(n["e"])("div",Va,[Object(n["i"])(s)])):(Object(n["r"])(),Object(n["e"])("div",qa,[Object(n["i"])("div",Wa,[Object(n["i"])("div",Ga,Object(n["D"])(e.added),1),Ba]),(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.activities,(function(t,a){return Object(n["r"])(),Object(n["e"])("div",{class:"entry",key:a},[Object(n["i"])("div",Ka,Object(n["D"])(e.prettyDate(t.day)),1),Object(n["i"])("div",Qa,[Object(n["i"])("span",Xa,Object(n["D"])("ANIME"==e.media.type?t.episodes:t.chapters),1),Object(n["i"])("span",Za,Object(n["D"])("ANIME"==e.media.type?" episodes":" chapters"),1)])])})),128))]))})),tn=Object(n["J"])("data-v-6a308708");Object(n["v"])("data-v-6a308708");var an={class:"loading"};Object(n["s"])();var nn=tn((function(e,t,a,i,c,r){return Object(n["r"])(),Object(n["e"])("div",an," Loading... ")})),cn=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);cn=Object(B["a"])([Object(ee["a"])({})],cn);var rn=cn;a("3dc0");rn.render=nn,rn.__scopeId="data-v-6a308708";var sn=rn,on=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.state=A.state,e.prettyDate=I,e.activities=[],e.added="Unknown",e.loading=!0,e}return Object(q["a"])(a,[{key:"mounted",value:function(){var e=this;h(this.state.userData.id,this.media.id).then((function(t){var a=t.data.Page.activities;e.activities=A.parseActivities(a),"undefined"==typeof e.media.added?e.added=L(a):e.added=0==e.media.added.time?"Unknown":I(e.media.added),e.loading=!1}))}}]),a}(ee["b"]);on=Object(B["a"])([Object(ee["a"])({props:{media:{}},components:{CheapLoading:sn}})],on);var dn=on;a("7a8b");dn.render=en,dn.__scopeId="data-v-6471162c";var un=dn,ln=Object(n["j"])({props:{media:Object,hide:Boolean},components:{SeriesDetails:un},data:function(){return{details:!1}},watch:{hide:function(e){this.details=!e}},methods:{toggleDisplay:function(){this.$emit("toggle"),this.details=!this.details}}});a("34100");ln.render=Ya,ln.__scopeId="data-v-4bd3da5f";var bn=ln,pn=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.state=A.state,e.prettyDate=I,e}return a}(ee["b"]);pn=Object(B["a"])([Object(ee["a"])({components:{SeriesItem:bn}})],pn);var On=pn;a("2d82");On.render=Ea,On.__scopeId="data-v-3ee24d21";var hn=On,jn=Object(n["J"])("data-v-a1d9b372");Object(n["v"])("data-v-a1d9b372");var vn={class:"calendar"},fn={class:"header"},mn=Object(n["i"])("div",{class:"header-title"},"Calendar",-1),yn=Object(n["i"])("span",{style:{flex:"1"}},null,-1),gn={class:"header-month"},kn={class:"display"},wn=Object(n["g"])('<div class="weekdays" data-v-a1d9b372><div class="weekday" data-v-a1d9b372>Sun</div><div class="weekday" data-v-a1d9b372>Mon</div><div class="weekday" data-v-a1d9b372>Tue</div><div class="weekday" data-v-a1d9b372>Wed</div><div class="weekday" data-v-a1d9b372>Thu</div><div class="weekday" data-v-a1d9b372>Fri</div><div class="weekday" data-v-a1d9b372>Sat</div></div>',1),An={class:"days"};Object(n["s"])();var Dn=jn((function(e,t){var a=Object(n["A"])("font-awesome-icon");return Object(n["r"])(),Object(n["e"])("div",vn,[Object(n["i"])("div",fn,[mn,yn,Object(n["i"])("span",gn,Object(n["D"])(e.displayMonth)+" "+Object(n["D"])(e.y),1),Object(n["i"])("div",{class:"header-control",onClick:t[1]||(t[1]=function(t){return e.update(-1)})},[Object(n["i"])(a,{icon:"chevron-left"})]),Object(n["i"])("div",{class:"header-control",onClick:t[2]||(t[2]=function(t){return e.update(1)})},[Object(n["i"])(a,{icon:"chevron-right"})])]),Object(n["i"])("div",kn,[wn,Object(n["i"])("div",An,[(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.days,(function(t,a){return Object(n["r"])(),Object(n["e"])("div",{class:"day",key:a,style:1==t.n?{gridColumn:e.firstWeekday+1}:"",onClick:function(a){return e.handleClick(a,t)},title:"".concat(e.displayMonth," ").concat(t.n,", ").concat(e.y,"\nClick to see activities on this day.").concat(t.notLoaded||t.notYetHappened?"\nIf you want to have colored background here, click Load more button below until it appears.":"")},[Object(n["i"])("div",{class:"day-bg",style:{opacity:e.getOpacity(t.episodes)}},null,4),Object(n["i"])("div",{class:"day-label",style:{opacity:t.notLoaded||t.notYetHappened?"0.5":""}},Object(n["D"])(t.n),5)],12,["onClick","title"])})),128))])])])})),Sn=Object(n["j"])({data:function(){return{state:A.state,days:[],y:2021,m:0,displayMonth:"",firstWeekday:0,max:0}},mounted:function(){var e=new Date;this.m=e.getMonth(),this.y=e.getFullYear(),this.loadMonth(this.m,this.y)},computed:{activities:function(){return this.state.activities}},watch:{activities:function(){this.loadMonth(this.m-1,this.y)}},methods:{loadMonth:function(e,t){var a=this;this.days.length=0;var n=new Date(t,e,1);this.firstWeekday=n.getDay();var i=this.daysInMonth(e,t);this.max=Math.max.apply(Math,this.state.activities.map((function(e){return e.episodes+e.chapters})));var c=this.state.activities[0],r=32,s=this.state.activities[this.state.activities.length-1],o=0;s.day.m==e+1&&s.day.y==t?o=s.day.d:(s.day.m>e+1&&s.day.y==t||s.day.y>t)&&(o=32),c.day.m==e+1&&c.day.y==t?r=c.day.d:(c.day.m<e+1&&c.day.y==t||c.day.y<t)&&(r=0);for(var d=function(n){var i=a.state.activities.find((function(a){return a.day.d==n&&a.day.m==e+1&&a.day.y==t}));a.days.push({n:n,activities:i,notLoaded:!i&&n<o,notYetHappened:n>r,episodes:i?i.episodes+i.chapters:0})},u=1;u<=i;u++)d(u);this.m=e+1,this.y=t,this.displayMonth=new Intl.DateTimeFormat("default",{month:"long"}).format(n)},handleClick:function(e,t){t.activities?this.$emit("popup",{event:e,activities:t.activities}):t.activities||t.notLoaded?t.notYetHappened||this.$emit("dynamicPopup",{event:e,d:t.n,m:this.m,y:this.y}):this.$emit("error","There are no activities present on this day.")},update:function(e){e>0?this.m+1>12?(this.y++,this.loadMonth(0,this.y)):this.loadMonth(this.m,this.y):this.m-1<1?(this.y--,this.loadMonth(11,this.y)):this.loadMonth(this.m-2,this.y)},daysInMonth:function(e,t){switch(e){case 1:return t%4==0&&t%100||t%400==0?29:28;case 8:case 3:case 5:case 10:return 30;default:return 31}},getOpacity:function(e){var t=e/this.max;return 0==t?0:t<.15?.15:t}}});a("1bf7");Sn.render=Dn,Sn.__scopeId="data-v-a1d9b372";var In=Sn,Cn=Object(n["J"])("data-v-b4062280");Object(n["v"])("data-v-b4062280");var Ln={class:"tooltip"},Tn={key:0},Pn={key:1},Mn={class:"header"},_n={class:"header-title"},$n=Object(n["i"])("span",{style:{flex:"1"}},null,-1),Hn={key:0,class:"prop"},En={class:"prop-value"},xn=Object(n["i"])("div",{class:"prop-desc",title:"chapters"},"chapters",-1),Nn={key:1,class:"prop"},Rn={class:"prop-value"},zn=Object(n["i"])("div",{class:"prop-desc",title:"episodes"},"episodes",-1),Jn={class:"content"};Object(n["s"])();var Un=Cn((function(e,t,a,i,c,r){var s=Object(n["A"])("CheapLoading"),o=Object(n["A"])("font-awesome-icon"),d=Object(n["A"])("SeriesItem");return Object(n["r"])(),Object(n["e"])("div",Ln,[e.loading?(Object(n["r"])(),Object(n["e"])("div",Tn,[Object(n["i"])(s)])):(Object(n["r"])(),Object(n["e"])("div",Pn,[Object(n["i"])("div",Mn,[Object(n["i"])("div",_n,Object(n["D"])(e.prettyDate(e.day.day)),1),$n,e.day.chapters>0?(Object(n["r"])(),Object(n["e"])("div",Hn,[Object(n["i"])("div",En,Object(n["D"])(e.day.chapters),1),xn])):Object(n["f"])("",!0),e.day.episodes>0?(Object(n["r"])(),Object(n["e"])("div",Nn,[Object(n["i"])("div",Rn,Object(n["D"])(e.day.episodes),1),zn])):Object(n["f"])("",!0),Object(n["i"])("div",{class:"header-control",onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)})},[Object(n["i"])(o,{icon:"times"})])]),Object(n["i"])("div",Jn,[(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.day.media,(function(t,a){return Object(n["r"])(),Object(n["e"])(d,{key:a,media:t,onToggle:function(t){return e.handleClick(a)},hide:e.selected!=a},null,8,["media","onToggle","hide"])})),128))])]))])})),Yn=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.state=A.state,e.prettyDate=I,e.loading=!1,e.selected=-1,e}return Object(q["a"])(a,[{key:"close",value:function(){this.$emit("close")}},{key:"handleClick",value:function(e){this.selected==e?this.selected=-1:this.selected=e}}]),a}(ee["b"]);Yn=Object(B["a"])([Object(ee["a"])({props:{day:{},loading:Boolean},components:{SeriesItem:bn,CheapLoading:sn}})],Yn);var Fn=Yn;a("f47b");Fn.render=Un,Fn.__scopeId="data-v-b4062280";var Vn=Fn,qn=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.state=A.state,e.showTooltip=!1,e.tooltipActivities={},e.popupLoading=!1,e}return Object(q["a"])(a,[{key:"load",value:function(){this.$emit("loadRequest")}},{key:"showPopup",value:function(e){this.showTooltip=!1,this.tooltipActivities=e.activities,this.showTooltip=!0}},{key:"fetchPopup",value:function(e){var t=this;this.popupLoading=!0,this.showTooltip=!0;var a=new Date(e.y,e.m-1,e.d),n=a.getTime()/1e3+3600*this.state.updateHour,i=n+86400;m(this.state.userData.id,1,this.state.mediaType,n,i).then((function(e){var a=A.parseActivities(e.data.Page.activities);t.tooltipActivities=a[0],0==a.length?t.showTooltip=!1:t.popupLoading=!1}))}},{key:"showError",value:function(e){console.log(e)}},{key:"popupHide",value:function(){this.showTooltip=!1}}]),a}(ee["b"]);qn=Object(B["a"])([Object(ee["a"])({components:{DetailsContainer:hn,Calendar:In,Tooltip:Vn}})],qn);var Wn=qn;a("27af");Wn.render=ka,Wn.__scopeId="data-v-7b5cd42b";var Gn=Wn,Bn=Object(n["J"])("data-v-514e3318");Object(n["v"])("data-v-514e3318");var Kn={class:"list"},Qn={class:"controls"},Xn={class:"controls-search"},Zn={class:"filter-name"},ei={cellspacing:"0"},ti=Object(n["i"])("thead",null,[Object(n["i"])("tr",null,[Object(n["i"])("th",{class:"tableHeader tableHeader-title"},"Title"),Object(n["i"])("th",{class:"tableHeader tableHeader-regular"},"Type"),Object(n["i"])("th",{class:"tableHeader tableHeader-regular table-responsive"},"Added"),Object(n["i"])("th",{class:"tableHeader tableHeader-regular table-responsive"},"Completed"),Object(n["i"])("th",{class:"tableHeader tableHeader-regular table-responsive2"},"Status"),Object(n["i"])("th",{class:"tableHeader"})])],-1),ai={key:0,class:"loading"},ni={key:1},ii={class:"tableData tableData-title"},ci={class:"tableData tableData-regular"},ri={class:"tableData tableData-regular table-responsive"},si={class:"tableData tableData-regular table-responsive"},oi={class:"tableData tableData-regular table-responsive2"},di={class:"tableData tableData-icon"},ui={key:0,class:"loading"};Object(n["s"])();var li=Bn((function(e,t,a,i,c,r){var s=Object(n["A"])("Popup"),o=Object(n["A"])("Pagination"),d=Object(n["A"])("font-awesome-icon"),u=Object(n["B"])("lazyload");return Object(n["r"])(),Object(n["e"])("div",Kn,[Object(n["i"])(n["b"],{name:"popup-backdrop"},{default:Bn((function(){return[e.showPopup?(Object(n["r"])(),Object(n["e"])("div",{key:0,class:"popup-backdrop",onClick:t[1]||(t[1]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[Object(n["i"])(n["b"],{appear:"",name:"popup"},{default:Bn((function(){return[Object(n["i"])(s,{media:e.popupMedia,onClose:e.popupHide},null,8,["media","onClose"])]})),_:1})])):Object(n["f"])("",!0)]})),_:1}),Object(n["i"])("div",Qn,[Object(n["i"])("div",Xn,[Object(n["H"])(Object(n["i"])("input",{class:"controls-input",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.query=t}),placeholder:"Search..."},null,512),[[n["F"],e.query]])]),(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.filteredFilters,(function(t,a){return Object(n["r"])(),Object(n["e"])("div",{class:"controls-filterGroup",key:a},[Object(n["i"])("span",Zn,Object(n["D"])(t.name)+": ",1),(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(t.values,(function(i,c){return Object(n["r"])(),Object(n["e"])("button",{class:["filter-button",{selected:t.checked.indexOf(i.key)>-1}],title:"Click to toggle",key:c,onClick:function(t){return e.toggleFilter(a,i.key)}},Object(n["D"])("undefined"===typeof i.name?"AnimeList"==e.$route.name?i.animeName:i.mangaName:i.name),11,["onClick"])})),128))])})),128))]),e.listLength>1?(Object(n["r"])(),Object(n["e"])(o,{key:0,onSet:e.navigate,max:e.listLength,current:e.currentPage},null,8,["onSet","max","current"])):Object(n["f"])("",!0),Object(n["i"])("table",ei,[ti,e.loading?(Object(n["r"])(),Object(n["e"])("div",ai," Loading... ")):(Object(n["r"])(),Object(n["e"])("tbody",ni,[(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.paginatedList,(function(t){return Object(n["r"])(),Object(n["e"])("tr",{key:t.id,class:"tableRow",onClick:function(a){return e.popupShow(t)}},[Object(n["i"])("td",ii,[Object(n["H"])(Object(n["i"])("img",{class:"tableData-image","data-src":t.cover,width:"24",height:"24",loading:"lazy"},null,8,["data-src"]),[[u]]),Object(n["i"])("span",null,Object(n["D"])(t.title),1)]),Object(n["i"])("td",ci,Object(n["D"])(e.prettyFormat(t.format)),1),Object(n["i"])("td",ri,Object(n["D"])(e.prettyDate(t.added)),1),Object(n["i"])("td",si,Object(n["D"])(e.prettyDate(t.completed)),1),Object(n["i"])("td",oi,Object(n["D"])(e.prettyStatus(t.status)),1),Object(n["i"])("td",di,[Object(n["i"])("div",{class:"tableData-iconWrapper",style:{color:e.resolveColor(t.status)}},[Object(n["i"])(d,{icon:e.resolveIcon(t.status),"fixed-width":""},null,8,["icon"])],4)])],8,["onClick"])})),128)),0==e.list.length?(Object(n["r"])(),Object(n["e"])("div",ui," No results found. Maybe try changing the filters? ")):Object(n["f"])("",!0)]))]),e.listLength>1?(Object(n["r"])(),Object(n["e"])(o,{key:1,onSet:e.navigate,max:e.listLength,current:e.currentPage},null,8,["onSet","max","current"])):Object(n["f"])("",!0)])})),bi=a("5530");a("0481"),a("4e82");function pi(e){return Oi.apply(this,arguments)}function Oi(){return Oi=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v(A.state.userData.id,t);case 2:return a=e.sent,n=a.data.MediaListCollection.lists,i=n.filter((function(e){return!e.isCustomList})).map((function(e){return e.entries})).flat(1),c=i.map((function(e){return Object(bi["a"])(Object(bi["a"])({},e.media),{},{title:e.media.title.romaji,type:e.media.type,status:e.status,cover:e.media.coverImage.medium,banner:e.media.bannerImage,progress:e.progress,started:hi(e.startedAt),completed:hi(e.completedAt),added:C(1e3*e.createdAt)})})).sort((function(e,t){return e.title.localeCompare(t.title)})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function hi(e){if(null==e.day)return{d:0,m:0,y:0,time:0};var t=new Date(e.year,e.month,e.day);return{d:e.day,m:e.month,y:e.year,weekday:k[t.getDay()],time:t.getTime()}}var ji=Object(n["J"])("data-v-fbd54c8e");Object(n["v"])("data-v-fbd54c8e");var vi={class:"header-title"},fi=Object(n["i"])("span",{style:{flex:"1"}},null,-1),mi={class:"content"};Object(n["s"])();var yi=ji((function(e,t,a,i,c,r){var s=Object(n["A"])("font-awesome-icon"),o=Object(n["A"])("SeriesDetails");return Object(n["r"])(),Object(n["e"])("div",{class:"popup",onClick:t[2]||(t[2]=function(e){return e.stopPropagation()})},[Object(n["i"])("div",{class:"header",style:{backgroundImage:"url("+e.media.banner+")"}},[Object(n["i"])("img",{class:"header-image",src:e.media.cover},null,8,["src"]),Object(n["i"])("a",{href:"https://anilist.co/"+e.media.type.toLowerCase()+"/"+e.media.id,target:"_blank",rel:"nofollow"},[Object(n["i"])("div",vi,Object(n["D"])(e.media.title),1)],8,["href"]),fi,Object(n["i"])("div",{class:"header-control",onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)})},[Object(n["i"])(s,{icon:"times"})])],4),Object(n["i"])("div",mi,[Object(n["i"])(o,{media:e.media},null,8,["media"])])])})),gi=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){var e;return Object(V["a"])(this,a),e=t.apply(this,arguments),e.state=A.state,e}return Object(q["a"])(a,[{key:"close",value:function(){this.$emit("close")}}]),a}(ee["b"]);gi=Object(B["a"])([Object(ee["a"])({props:{media:{}},components:{SeriesDetails:un}})],gi);var ki=gi;a("208f");ki.render=yi,ki.__scopeId="data-v-fbd54c8e";var wi=ki,Ai=Object(n["J"])("data-v-45a91610");Object(n["v"])("data-v-45a91610");var Di={class:"pager"};Object(n["s"])();var Si=Ai((function(e,t,a,i,c,r){var s=Object(n["A"])("font-awesome-icon");return Object(n["r"])(),Object(n["e"])("div",Di,[Object(n["i"])("button",{class:"pager-button pager-arrow",onClick:t[1]||(t[1]=function(t){return e.$emit("set",e.current-1)})},[Object(n["i"])(s,{icon:"chevron-left"})]),(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.max,(function(t){return Object(n["r"])(),Object(n["e"])("button",{class:["pager-button",{selected:e.current==t-1}],key:t,onClick:function(a){return e.$emit("set",t-1)}},Object(n["D"])(t),11,["onClick"])})),128)),Object(n["i"])("button",{class:"pager-button pager-arrow",onClick:t[2]||(t[2]=function(t){return e.$emit("set",e.current+1)})},[Object(n["i"])(s,{icon:"chevron-right"})])])})),Ii=function(e){Object(W["a"])(a,e);var t=Object(G["a"])(a);function a(){return Object(V["a"])(this,a),t.apply(this,arguments)}return a}(ee["b"]);Ii=Object(B["a"])([Object(ee["a"])({props:{current:Number,max:Number}})],Ii);var Ci=Ii;a("665a");Ci.render=Si,Ci.__scopeId="data-v-45a91610";var Li=Ci,Ti=Object(n["j"])({components:{Popup:wi,Pagination:Li},data:function(){return{state:A.state,prettyDate:I,loading:!0,displayCover:-1,showPopup:!1,popupMedia:{},pageSize:100,currentPage:0,listLength:0,query:"",filters:[{name:"Status",key:"status",type:"both",values:[{animeName:"Watching",mangaName:"Reading",key:"CURRENT"},{animeName:"Rewatching",mangaName:"Rereading",key:"REPEATING"},{name:"Completed",key:"COMPLETED"},{name:"Planning",key:"PLANNING"},{name:"Dropped",key:"DROPPED"},{name:"Paused",key:"PAUSED"}],checked:["COMPLETED","CURRENT","REPEATING"]},{name:"Type",key:"format",type:"anime",values:[{name:"TV",key:"TV"},{name:"TV Short",key:"TV_SHORT"},{name:"Movie",key:"MOVIE"},{name:"Special",key:"SPECIAL"},{name:"OVA",key:"OVA"},{name:"ONA",key:"ONA"},{name:"Music",key:"MUSIC"}],checked:["TV","TV_SHORT","MOVIE","SPECIAL","OVA","ONA","MUSIC"]},{name:"Type",key:"format",type:"manga",values:[{name:"Manga",key:"MANGA"},{name:"Light novel",key:"NOVEL"},{name:"One shot",key:"ONE_SHOT"}],checked:["MANGA","NOVEL","ONE_SHOT"]}]}},created:function(){this.fetchData()},watch:{$route:"fetchData",query:function(){this.currentPage=0,this.listLength=Math.ceil(this.list.length/this.pageSize)}},computed:{list:function(){var e=this,t="AnimeList"==this.$route.name?this.state.animeList:this.state.mangaList,a=t.filter((function(t){return t.title.toLowerCase().indexOf(e.query.toLowerCase())>-1}));return this.filteredFilters.forEach((function(e){a=a.filter((function(t){return e.checked.indexOf(t[e.key])>-1}))})),a},paginatedList:function(){return this.list.slice(this.currentPage*this.pageSize,(this.currentPage+1)*this.pageSize)},filteredFilters:function(){var e=this;return this.filters.filter((function(t){return("AnimeList"!=e.$route.name||"manga"!=t.type)&&("MangaList"!=e.$route.name||"anime"!=t.type)}))}},directives:{lazyload:{mounted:function(e){e.src=e.dataset.src}}},methods:{fetchData:function(){var e=this;this.loading=!0,this.currentPage=0,this.listLength=0,setTimeout((function(){"AnimeList"==e.$route.name?0==e.state.animeList.length?pi("ANIME").then((function(t){A.setAnimeList(t),e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1})):(e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1):"MangaList"==e.$route.name&&(0==e.state.mangaList.length?pi("MANGA").then((function(t){A.setMangaList(t),e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1})):(e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1))}),100)},popupShow:function(e){this.showPopup=!0,this.popupMedia=e},popupHide:function(){this.showPopup=!1},toggleFilter:function(e,t){this.currentPage=0;var a=this.filteredFilters[e].checked.indexOf(t);a>-1?this.filteredFilters[e].checked.splice(a,1):this.filteredFilters[e].checked.push(t),this.listLength=Math.ceil(this.list.length/this.pageSize)},navigate:function(e){e<0||e>=this.listLength||(this.currentPage=e)},prettyFormat:function(e){return e?"TV_SHORT"==e?"TV Short":["TV","OVA","ONA"].indexOf(e)>-1?e:e[0]+e.slice(1).replace("_"," ").toLowerCase():""},prettyStatus:function(e){return e[0]+e.slice(1).toLowerCase()},resolveIcon:function(e){switch(e){case"CURRENT":case"REPEATING":return"play";case"DROPPED":return"stop";case"PAUSED":return"pause";case"COMPLETED":return"check";default:return"clock"}},resolveColor:function(e){switch(e){case"CURRENT":return"#2f754e";case"DROPPED":return"#a44646";case"PAUSED":return"#ad8015";case"COMPLETED":return"#14699b";default:return"#595f6e"}}}});a("b20e");Ti.render=li,Ti.__scopeId="data-v-514e3318";var Pi=Ti,Mi=Object(n["J"])("data-v-3b6c72f6");Object(n["v"])("data-v-3b6c72f6");var _i={class:"history"},$i={key:0,class:"loading"},Hi={key:1},Ei=Object(n["g"])('<div class="header header-desktop" data-v-3b6c72f6><div class="month" data-v-3b6c72f6></div><div class="month" data-v-3b6c72f6>Jan</div><div class="month" data-v-3b6c72f6>Feb</div><div class="month" data-v-3b6c72f6>Mar</div><div class="month" data-v-3b6c72f6>Apr</div><div class="month" data-v-3b6c72f6>May</div><div class="month" data-v-3b6c72f6>Jun</div><div class="month" data-v-3b6c72f6>Jul</div><div class="month" data-v-3b6c72f6>Aug</div><div class="month" data-v-3b6c72f6>Sep</div><div class="month" data-v-3b6c72f6>Oct</div><div class="month" data-v-3b6c72f6>Nov</div><div class="month" data-v-3b6c72f6>Dec</div></div>',1),xi={class:"header header-mobile"},Ni=Object(n["i"])("div",{class:"month"},null,-1),Ri={class:"col-year"},zi={class:"col-label"},Ji={key:0,class:"missing"},Ui={class:"details"},Yi={key:0,class:"details-content"},Fi={class:"details-title"},Vi={class:"details-list"},qi={class:"entry-title"},Wi={key:1};Object(n["s"])();var Gi=Mi((function(e,t,a,i,c,r){var s=Object(n["A"])("Popup");return Object(n["r"])(),Object(n["e"])("div",_i,[Object(n["i"])(n["b"],{name:"popup-backdrop"},{default:Mi((function(){return[e.showPopup?(Object(n["r"])(),Object(n["e"])("div",{key:0,class:"popup-backdrop",onClick:t[1]||(t[1]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[Object(n["i"])(n["b"],{appear:"",name:"popup"},{default:Mi((function(){return[Object(n["i"])(s,{media:e.popupMedia,onClose:e.popupHide},null,8,["media","onClose"])]})),_:1})])):Object(n["f"])("",!0)]})),_:1}),e.loading?(Object(n["r"])(),Object(n["e"])("div",$i," Loading... ")):(Object(n["r"])(),Object(n["e"])("div",Hi,[Ei,Object(n["i"])("div",xi,[Ni,(Object(n["r"])(),Object(n["e"])(n["a"],null,Object(n["y"])(12,(function(e){return Object(n["i"])("div",{class:"month",key:e},Object(n["D"])(e),1)})),64))]),(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.years,(function(t){return Object(n["r"])(),Object(n["e"])("div",{class:"row",key:t},[Object(n["i"])("div",Ri,Object(n["D"])(t.year),1),(Object(n["r"])(),Object(n["e"])(n["a"],null,Object(n["y"])(12,(function(a,i){return Object(n["i"])("div",{class:"col",key:i,onClick:function(n){return e.load(a,t.year)}},[Object(n["i"])("div",{class:"col-bg",style:{opacity:t.months[i]?e.getOpacity(t.months[i].count):0}},null,4),Object(n["i"])("div",zi,Object(n["D"])(t.months[i]?t.months[i].count:0),1)],8,["onClick"])})),64))])})),128)),e.unknownCount?(Object(n["r"])(),Object(n["e"])("div",Ji,"There are "+Object(n["D"])(e.unknownCount)+" titles with unknown completed date.",1)):Object(n["f"])("",!0),Object(n["i"])("div",Ui,[e.selectedMonth&&e.selectedYear?(Object(n["r"])(),Object(n["e"])("div",Yi,[Object(n["i"])("div",Fi,Object(n["D"])("AnimeHistory"==e.$route.name?"Anime":"Manga")+" completed in "+Object(n["D"])(e.monthNames[e.selectedMonth-1])+" of "+Object(n["D"])(e.selectedYear)+" ("+Object(n["D"])(e.selected.length)+")",1),Object(n["i"])("div",Vi,[(Object(n["r"])(!0),Object(n["e"])(n["a"],null,Object(n["y"])(e.selected,(function(t){return Object(n["r"])(),Object(n["e"])("div",{class:"details-entry",key:t.id,onClick:function(a){return e.popupShow(t)}},[Object(n["i"])("img",{class:"entry-image",src:t.cover},null,8,["src"]),Object(n["i"])("div",qi,Object(n["D"])(t.title),1)],8,["onClick"])})),128))])])):(Object(n["r"])(),Object(n["e"])("div",Wi," Choose a month above to see details on it. "))])]))])})),Bi=Object(n["j"])({components:{Popup:wi},data:function(){return{state:A.state,loading:!1,monthNames:w,years:[],unknownCount:0,max:0,showPopup:!1,popupMedia:{},selected:[],selectedMonth:0,selectedYear:0}},created:function(){this.fetchData()},watch:{$route:"fetchData"},computed:{list:function(){var e="AnimeHistory"==this.$route.name?this.state.animeList:this.state.mangaList;return e}},methods:{fetchData:function(){var e=this;this.clear(),this.loading=!0,"AnimeHistory"==this.$route.name?0==this.state.animeList.length?pi("ANIME").then((function(t){A.setAnimeList(t),e.parseData()})):this.parseData():"MangaHistory"==this.$route.name&&(0==this.state.mangaList.length?pi("MANGA").then((function(t){A.setMangaList(t),e.parseData()})):this.parseData())},parseData:function(){var e=(new Date).getFullYear(),t=!0;while(t){var a=this.checkYear(e);if(a<12)e--;else{var n=this.list.filter((function(t){var a,n;return t.completed&&(null===(a=t.completed)||void 0===a?void 0:a.y)<e&&0!=(null===(n=t.completed)||void 0===n?void 0:n.y)}));0==n.length?(t=!1,this.years.pop()):e--}e<2e3&&(t=!1)}this.unknownCount=this.list.filter((function(e){var t;return"COMPLETED"==e.status&&0==(null===(t=e.completed)||void 0===t?void 0:t.y)})).length,this.loading=!1},checkYear:function(e){for(var t=this,a=0,n=function(n){var i=t.years.find((function(t){return t.year==e})),c=t.list.filter((function(t){var a,i;return(null===(a=t.completed)||void 0===a?void 0:a.m)==n&&(null===(i=t.completed)||void 0===i?void 0:i.y)==e}));if(0==c.length&&a++,c.length>t.max&&(t.max=c.length),i)i.months[n-1]={count:c.length};else{var r={year:e,months:[]};r.months[n-1]={count:c.length},t.years.push(r)}},i=1;i<13;i++)n(i);return a},popupShow:function(e){this.showPopup=!0,this.popupMedia=e},popupHide:function(){this.showPopup=!1},load:function(e,t){var a=this.list.filter((function(a){var n,i;return(null===(n=a.completed)||void 0===n?void 0:n.m)==e&&(null===(i=a.completed)||void 0===i?void 0:i.y)==t}));this.selectedMonth=e,this.selectedYear=t,this.selected=a},clear:function(){this.years=[],this.max=0,this.unknownCount=0,this.selected=[],this.selectedMonth=0,this.selectedYear=0},getOpacity:function(e){var t=e/this.max;return t}}});a("e6f0");Bi.render=Gi,Bi.__scopeId="data-v-3b6c72f6";var Ki=Bi,Qi=[{path:"/",name:"Home",component:Fe},{path:"/s",name:"Special",component:Qe,children:[{path:"help",component:la},{path:"about",component:va}]},{path:"/:user",name:"User",component:Et,children:[{path:"",component:Gn},{path:"list/anime",component:Pi,name:"AnimeList",props:{type:"anime"}},{path:"list/manga",component:Pi,name:"MangaList",props:{type:"manga"}},{path:"history/anime",component:Ki,name:"AnimeHistory"},{path:"history/manga",component:Ki,name:"MangaHistory"}]}],Xi=Object(_["a"])({history:Object(_["b"])("/anistats2/"),routes:Qi}),Zi=Xi,ec=a("ecee"),tc=a("c074"),ac=a("ad3d");ec["c"].add(tc["g"],tc["d"],tc["e"],tc["o"],tc["l"],tc["j"],tc["i"],tc["s"],tc["b"],tc["k"],tc["p"],tc["r"],tc["h"],tc["n"],tc["q"],tc["m"],tc["c"],tc["f"],tc["a"]),Object(n["d"])(M).use(Zi).component("font-awesome-icon",ac["a"]).mount("#app")},d02e:function(e,t,a){},d312:function(e,t,a){},d530:function(e,t,a){},daba:function(e,t,a){"use strict";a("eded")},dabb:function(e,t,a){"use strict";a("49f4")},df2f:function(e,t,a){},e6f0:function(e,t,a){"use strict";a("71c1")},ea41:function(e,t,a){},ec7e:function(e,t,a){"use strict";a("71cd")},eded:function(e,t,a){},f47b:function(e,t,a){"use strict";a("6ada")},fdd9:function(e,t,a){"use strict";a("5cdc")},fddc:function(e,t,a){"use strict";a("6627")}});
//# sourceMappingURL=app.c66298aa.js.map