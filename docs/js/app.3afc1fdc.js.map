{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Home/Panel.vue?ec57","webpack:///./src/components/User/Sidebar/MenuItem.vue?707b","webpack:///./src/components/List/Popup.vue?7ad3","webpack:///./src/components/User/Sidebar.vue?025d","webpack:///./src/components/List/List.vue?7b15","webpack:///./src/components/History/History.vue?9c19","webpack:///./src/components/Home/SettingsSwitcher.vue?a688","webpack:///./src/components/User/Main.vue?6511","webpack:///./src/components/Button.vue?157f","webpack:///./src/components/CheapLoading.vue?2670","webpack:///./src/components/User/Calendar.vue?24eb","webpack:///./src/components/Home/Settings.vue?900c","webpack:///./src/components/User/Details/SeriesDetails.vue?1088","webpack:///./src/components/User/Details/DetailsContainer.vue?602a","webpack:///./src/components/User/Loading.vue?a16f","webpack:///./src/views/User.vue?b54e","webpack:///./src/assets/merge.png","webpack:///./src/components/User/Details/SeriesItem.vue?56fe","webpack:///./src/App.vue?2fff","webpack:///./src/views/Home.vue?ce74","webpack:///./src/components/User/DataRange.vue?7cea","webpack:///./src/components/Switch.vue?35e3","webpack:///./src/App.vue","webpack:///./src/queries/activity.ts","webpack:///./src/queries/list.ts","webpack:///./src/queries/media.ts","webpack:///./src/queries/user.ts","webpack:///./src/store/api.ts","webpack:///./src/store/store.ts","webpack:///./src/store/helpers.ts","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/views/Home.vue","webpack:///./src/components/Home/Logo.vue","webpack:///./src/components/Home/Logo.vue?21b9","webpack:///./src/components/Home/Logo.vue?5f56","webpack:///./src/components/Button.vue","webpack:///./src/components/Button.vue?0589","webpack:///./src/components/Button.vue?e107","webpack:///./src/components/Home/Settings.vue","webpack:///./src/components/Home/SettingsSwitcher.vue","webpack:///./src/components/Home/SettingsSwitcher.vue?5407","webpack:///./src/components/Home/SettingsSwitcher.vue?b1a3","webpack:///./src/components/Switch.vue","webpack:///./src/components/Switch.vue?587b","webpack:///./src/components/Switch.vue?e14d","webpack:///./src/components/Home/Settings.vue?1caf","webpack:///./src/components/Home/Settings.vue?5163","webpack:///./src/components/Home/Panel.vue","webpack:///./src/components/Home/Panel.vue?dec0","webpack:///./src/components/Home/Panel.vue?080d","webpack:///./src/views/Home.vue?d5e7","webpack:///./src/views/Home.vue?ab8c","webpack:///./src/views/Special.vue","webpack:///./src/views/Special.vue?4f00","webpack:///./src/views/Special.vue?68b7","webpack:///./src/views/User.vue","webpack:///./src/components/User/Loading.vue","webpack:///./src/components/User/Loading.vue?aba7","webpack:///./src/components/User/Loading.vue?03a1","webpack:///./src/components/User/Sidebar.vue","webpack:///./src/components/User/Sidebar/MenuItem.vue","webpack:///./src/components/User/Sidebar/MenuItem.vue?585b","webpack:///./src/components/User/Sidebar/MenuItem.vue?5230","webpack:///./src/components/User/Sidebar.vue?168c","webpack:///./src/components/User/Sidebar.vue?33a4","webpack:///./src/views/User.vue?2474","webpack:///./src/views/User.vue?a29a","webpack:///./src/components/Special/Help.vue","webpack:///./src/components/Special/Help.vue?8fbd","webpack:///./src/components/Special/Help.vue?c132","webpack:///./src/components/Special/About.vue","webpack:///./src/components/Special/About.vue?5693","webpack:///./src/components/Special/About.vue?6542","webpack:///./src/components/User/Main.vue","webpack:///./src/components/User/Details/DetailsContainer.vue","webpack:///./src/components/User/Details/SeriesItem.vue","webpack:///./src/components/User/Details/SeriesDetails.vue","webpack:///./src/components/CheapLoading.vue","webpack:///./src/components/CheapLoading.vue?6d1d","webpack:///./src/components/CheapLoading.vue?9b37","webpack:///./src/components/User/Details/SeriesDetails.vue?e970","webpack:///./src/components/User/Details/SeriesDetails.vue?f750","webpack:///./src/components/User/Details/SeriesItem.vue?d23d","webpack:///./src/components/User/Details/SeriesItem.vue?332b","webpack:///./src/components/User/Details/DetailsContainer.vue?9c99","webpack:///./src/components/User/Details/DetailsContainer.vue?8914","webpack:///./src/components/User/Calendar.vue","webpack:///./src/components/User/Calendar.vue?d309","webpack:///./src/components/User/Calendar.vue?b2e9","webpack:///./src/components/User/DataRange.vue","webpack:///./src/components/User/DataRange.vue?b68b","webpack:///./src/components/User/DataRange.vue?932e","webpack:///./src/components/User/Tooltip.vue","webpack:///./src/components/User/Tooltip.vue?1584","webpack:///./src/components/User/Tooltip.vue?439d","webpack:///./src/components/User/Main.vue?6c3e","webpack:///./src/components/User/Main.vue?f9ec","webpack:///./src/components/List/List.vue","webpack:///./src/store/lists.ts","webpack:///./src/components/List/Popup.vue","webpack:///./src/components/List/Popup.vue?80c0","webpack:///./src/components/List/Popup.vue?938f","webpack:///./src/components/List/Pagination.vue","webpack:///./src/components/List/Pagination.vue?b350","webpack:///./src/components/List/Pagination.vue?1154","webpack:///./src/components/List/List.vue?71c9","webpack:///./src/components/List/List.vue?e016","webpack:///./src/components/History/History.vue","webpack:///./src/components/History/History.vue?1288","webpack:///./src/components/History/History.vue?4804","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/components/Home/Logo.vue?3fdf","webpack:///./src/components/User/Tooltip.vue?1e78","webpack:///./src/components/Special/Help.vue?e036","webpack:///./src/views/Special.vue?a943","webpack:///./src/components/List/Pagination.vue?3db2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","activityQuery","listQuery","mediaQuery","userQuery","anilistRequest","query","variables","fetch","method","headers","body","JSON","stringify","response","json","fetchUserData","username","fetchMedia","id","media","page","perPage","mediaId","userId","fetchList","type","fetchActivity","mediaType","from","to","undefined","compareDates","a","b","y","weekdays","monthNames","debug","state","userData","avatar","activities","preloadedActivities","currentPage","updateHour","saveSettings","animeList","mangaList","setUserdata","obj","this","User","medium","incrementCurrentPage","appendActivities","concat","destroy","e","setSettings","setPreloadedActivities","setAnimeList","list","setMangaList","parseActivities","days","forEach","timestamp","Date","createdAt","getHours","setDate","getDate","range","activityDateObject","getMonth","getFullYear","weekday","getDay","time","getTime","episodes","chapters","status","progress","split","parseInt","title","romaji","cover","coverImage","sameDay","find","x","day","mediaObject","formatObj","Intl","DateTimeFormat","formatToParts","dateFormat","map","join","prettyDate","date","replace","String","newActivityDate","dateObject","findAddedDate","raws","plan","act","startsWith","document","classList","contains","remove","localStorage","setItem","add","store","created","getItem","Number","theme","mounted","$nextTick","then","render","class","style","href","size","error","icon","toggleSettings","loading","placeholder","send","settings","props","__scopeId","fixed-width","color","setting","desc","options","default","handleSelect","$event","model-value","save","toggleSave","option","chosen","select","capitalize","cho","toUpperCase","$emit","Array","checked","modelValue","target","for","Boolean","emits","val","toLowerCase","components","SettingsSwitcher","Switch","buildTimestamp","lightMode","documentElement","dataset","show","$route","showError","url","URL","pathname","process","removeItem","console","log","$router","resp","catch","setTimeout","Logo","Button","Settings","Panel","showSidebar","toggleSidebar","loadEarlierActivities","emitToggle","params","user","MenuItem","lock","lastPage","loadActivites","path","Page","pageInfo","preloadActivites","preloaded","nextPage","duplicates","filter","dup","indexToRemove","indexOf","old","Loading","Sidebar","src","showTooltip","popupHide","load","showPopup","fetchPopup","tooltipActivities","popupLoading","toggleDisplay","alt","details","hide","added","rawActivities","CheapLoading","SeriesDetails","watch","methods","SeriesItem","displayMonth","toggleYearPicker","update","showYearPicker","pickerYears","year","loadMonth","firstWeekday","handleClick","notLoaded","notYetHappened","getOpacity","max","now","preparePickers","computed","firstDay","count","daysInMonth","Math","latestActivity","latestDay","lastActivity","lastDay","month","format","event","change","ratio","lastLoadedDay","close","selected","begin","end","DetailsContainer","Calendar","Tooltip","DataRange","cellspacing","appear","popupMedia","filteredFilters","values","toggleFilter","animeName","mangaName","listLength","navigate","current","paginatedList","popupShow","data-src","width","height","prettyFormat","completed","prettyStatus","resolveColor","resolveIcon","fetchMediaList","MediaListCollection","lists","formatted","isCustomList","entries","flat","final","banner","bannerImage","started","mapDates","startedAt","completedAt","sort","localeCompare","stopPropagation","rel","Popup","Pagination","displayCover","pageSize","filters","fetchData","ceil","raw","filtered","item","directives","lazyload","el","index","indexof","set","years","months","unknownCount","selectedMonth","selectedYear","entry","clear","parseData","currentYear","zeros","checkYear","lesser","pop","zeroCount","targetYear","matches","routes","component","children","List","History","router","history","App","use","mount"],"mappings":"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","file":"js/app.3afc1fdc.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/anistats2/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Panel.vue?vue&type=style&index=0&id=12d1cf38&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MenuItem.vue?vue&type=style&index=0&id=aaa0c406&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Popup.vue?vue&type=style&index=0&id=fbd54c8e&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Sidebar.vue?vue&type=style&index=0&id=5d701bb2&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./List.vue?vue&type=style&index=0&id=731f0c86&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./History.vue?vue&type=style&index=0&id=3294c33b&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SettingsSwitcher.vue?vue&type=style&index=0&id=6256fc08&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Main.vue?vue&type=style&index=0&id=305167d9&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Button.vue?vue&type=style&index=0&id=34af12ca&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CheapLoading.vue?vue&type=style&index=0&id=6a308708&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Calendar.vue?vue&type=style&index=0&id=7d7037b4&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Settings.vue?vue&type=style&index=0&id=44fdf3b6&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SeriesDetails.vue?vue&type=style&index=0&id=15c2b647&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DetailsContainer.vue?vue&type=style&index=0&id=2c6cd91e&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Loading.vue?vue&type=style&index=0&id=6e66bfd3&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./User.vue?vue&type=style&index=0&id=0e7db736&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/merge.ca5fa3bb.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SeriesItem.vue?vue&type=style&index=0&id=0a8e89d0&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=2b4b3d31&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=013484a4&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DataRange.vue?vue&type=style&index=0&id=83cd6140&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Switch.vue?vue&type=style&index=0&id=b89d07a2&lang=scss&scoped=true\"","<template>\r\n  <router-view/>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport store from '@/store/store';\r\nimport { defineComponent } from 'vue';\r\nimport { toggleTheme } from './store/helpers';\r\n\r\nexport default defineComponent({\r\n    data() {\r\n        return {\r\n            state: store.state,\r\n        }\r\n    },\r\n\r\n    created(): void {\r\n      // Load saved settings to state\r\n      const updateHour = localStorage.getItem(\"updateHour\");\r\n      const mediaType = localStorage.getItem(\"mediaType\");\r\n\r\n      if (updateHour && mediaType) {\r\n        store.saveSettings(true);\r\n        store.setSettings({\r\n          updateHour: Number(updateHour),\r\n          mediaType\r\n        })\r\n      }\r\n\r\n      const theme = localStorage.getItem(\"theme\")\r\n      if(theme == \"light\") {\r\n        toggleTheme();\r\n      }\r\n    },\r\n\r\n    mounted(): void {\r\n      this.$nextTick().then(() => {\r\n        //document.body.classList.add('site-theme-light');\r\n      })\r\n    }\r\n})\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n@import url('https://fonts.googleapis.com/css2?family=Jost:wght@400;500&display=swap');\r\n\r\n:root {// DARK MODE (default) COLORS\r\n  --color-background: #272c38;\r\n  --color-background-secondary: #1f232d;\r\n  --color-background-border: #343946;\r\n  --color-background-darker: #2d3340;\r\n  --color-background-day: #188cc6;\r\n  \r\n  --color-selected-background: #2d3340;\r\n  --color-selected-text: #34bbff;\r\n\r\n  --color-text: white;\r\n  --color-text-secondary: #cbd3e3;\r\n  --color-text-blue: #49a5f2;\r\n  --color-text-gray: #d3d3d3;\r\n  --color-text-red: #b33737;\r\n\r\n  --shadow-default: 0 0 10px rgba(0,0,0,.25);\r\n  --radius: 6px;\r\n}\r\n\r\n.site-theme-light {\r\n  --color-background: #edf1f5;\r\n  --color-background-secondary: #cecece;\r\n  --color-background-border: #c7c7c7;\r\n  --color-background-darker: white;\r\n  --color-background-day: #4a9bc4;\r\n\r\n  --color-selected-background: #3391c0;\r\n  --color-selected-text: white;\r\n\r\n  --color-text: #222;\r\n  --color-text-secondary: #333;\r\n  --color-text-blue: #4090d1;\r\n  --color-text-gray: #666;\r\n  --color-text-red: #b33737;\r\n\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  font-family: 'Jost', sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n\r\n  color: var(--color-text);\r\n  background: var(--color-background);\r\n  margin: 0;\r\n}\r\n\r\na {\r\n    text-decoration: none;\r\n    color: #65a9c4;\r\n}\r\n\r\ninput {\r\n  outline: none;\r\n  border: none;\r\n  background: none;\r\n  font: inherit;\r\n  display: block;\r\n  color: var(--color-text-input);\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n\r\n  max-width: 800px;\r\n  margin: auto;\r\n\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\nfooter {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.prop {\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 0 10px;\r\n}\r\n\r\n.prop-value {\r\n    margin-right: 6.47px;\r\n    font-size: 1.4em;\r\n}\r\n\r\n.prop-desc {\r\n    font-size: .76em;\r\n    color: var(--color-text-secondary);\r\n}\r\n\r\n// TRANSITIONS\r\n.popup-backdrop {\r\n    position: fixed;\r\n    bottom: 0;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n\r\n    z-index: 2;\r\n    background: rgba(0,0,0,.7);\r\n    \r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.popup-backdrop-enter-from, .popup-backdrop-leave-to {\r\n    opacity: 0;\r\n}\r\n\r\n.popup-backdrop-enter-active, .popup-backdrop-leave-active {\r\n    transition: .1s ease-in-out;\r\n}\r\n\r\n.popup-enter-from, .popup-leave-to {\r\n    transform: scale(0.9);\r\n}\r\n\r\n.popup-enter-active, .popup-leave-active {\r\n    transition: .2s ease;\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n    .popup-backdrop {\r\n        align-items: flex-end;\r\n    };\r\n}\r\n\r\n// MEDIA\r\n@media screen and (max-width: 800px) {\r\n  .container {\r\n    padding: 10px;\r\n  }\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% {\r\n     border-bottom-color: var(--color-background-border);\r\n  }\r\n\r\n  50% {\r\n    border-bottom-color: var(--color-text-blue);\r\n  }\r\n}\r\n</style>\r\n","// activityQuery: returns user's activities\r\nexport const activityQuery: string = `query ($userId: Int, $page: Int, $perPage: Int, $type: ActivityType, $from: Int, $to: Int) {\r\n    Page(page: $page, perPage: $perPage) {\r\n      pageInfo {\r\n        total\r\n        currentPage\r\n        lastPage\r\n        hasNextPage\r\n        perPage\r\n      }\r\n      activities(userId: $userId, sort: ID_DESC, type: $type, createdAt_greater: $from, createdAt_lesser: $to) {\r\n        __typename\r\n        ... on ListActivity {\r\n          id\r\n          media {\r\n            id\r\n            type\r\n            title {\r\n              romaji\r\n            }\r\n            coverImage {\r\n              medium\r\n            }\r\n          }\r\n          type\r\n          createdAt\r\n          status\r\n          progress\r\n        }\r\n      }\r\n    }\r\n  }`","// listQuery: returns all user's lists containing anime or manga.\r\nexport const listQuery: string = `query ($userId: Int, $type: MediaType, $chunk: Int) {\r\n    MediaListCollection (userId: $userId, type: $type, chunk: $chunk) {\r\n        lists {\r\n            name\r\n            isCustomList\r\n            entries {\r\n              id\r\n              status\r\n              progress\r\n              createdAt\r\n              startedAt {\r\n                year\r\n                month\r\n                day\r\n              }\r\n              completedAt {\r\n                year\r\n                month\r\n                day\r\n              }\r\n              media {\r\n                id\r\n                type\r\n                bannerImage\r\n                coverImage {\r\n                  medium\r\n                }\r\n                averageScore\r\n                seasonYear\r\n                title {\r\n                  romaji\r\n                }\r\n                format\r\n                episodes\r\n                chapters\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }`;\r\n","// Returns information about one entry (anime/manga), along with user's activities connected with it.\r\nexport const mediaQuery: string = `query ($userId: Int, $mediaId: Int, $page: Int, $perPage: Int) {\r\n    Media(id: $mediaId) {\r\n      id\r\n      title {\r\n        romaji\r\n      }\r\n      coverImage {\r\n        large\r\n      }\r\n      bannerImage\r\n      episodes\r\n    }\r\n    Page(page: $page, perPage: $perPage) {\r\n      pageInfo {\r\n        total\r\n        currentPage\r\n        lastPage\r\n        hasNextPage\r\n        perPage\r\n      }\r\n      activities(sort: ID_DESC, mediaId: $mediaId, userId: $userId) {\r\n        __typename\r\n        ... on ListActivity {\r\n          id\r\n          media {\r\n            id\r\n            type\r\n            title {\r\n              romaji\r\n            }\r\n            coverImage {\r\n              medium\r\n            }\r\n          }\r\n          type\r\n          createdAt\r\n          status\r\n          progress\r\n        }\r\n      }\r\n    }\r\n  }\r\n  `","// Returns more user data based on its name.\r\n// It's necessary, since while you may request user's list using the username, you can't do the same with activities (used in mediaQuery.)\r\n// Along with it, it fetches user's profile picture to display it and make the site prettier, because why not.\r\nexport const userQuery: string = `query ($username: String) {\r\n    User (name: $username) {\r\n      id\r\n      name\r\n      avatar {\r\n        medium\r\n      }\r\n    }\r\n  }`","import { ActivityDate } from \"@/interfaces/activity\";\r\nimport { activityQuery } from \"@/queries/activity\";\r\nimport { listQuery } from \"@/queries/list\";\r\nimport { mediaQuery } from \"@/queries/media\";\r\nimport { userQuery } from \"@/queries/user\";\r\n\r\nexport async function anilistRequest(query: string, variables: any): Promise<any> {\r\n    const response = await fetch(\"https://graphql.anilist.co\", {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json;charset=utf-8'\r\n        },\r\n        body: JSON.stringify({ query, variables })\r\n    });\r\n\r\n    const result = await response.json();\r\n    return result;\r\n}\r\n\r\nexport async function fetchUserData(username: string): Promise<any> {\r\n    return anilistRequest(userQuery, { username });\r\n}\r\n\r\nexport async function fetchMedia(id: number, media: number): Promise<any> {\r\n    const variables = {\r\n        page: 1,\r\n        perPage: 50,\r\n        mediaId: media,\r\n        userId: id  \r\n    }\r\n    \r\n    return anilistRequest(mediaQuery, variables);\r\n}\r\n\r\nexport async function fetchList(id: number, type: string): Promise<any> {\r\n    const variables = {\r\n        userId: id,\r\n        type\r\n    }\r\n\r\n    return anilistRequest(listQuery, variables);\r\n}\r\n\r\nexport async function fetchActivity(id: number, page: number, mediaType: string, from?: number, to?: number): Promise<any> {\r\n    let type = undefined;\r\n    \r\n    if (mediaType == 'anime') {\r\n        type = 'ANIME_LIST';\r\n    } else if (mediaType == 'manga') {\r\n        type = 'MANGA_LIST';\r\n    }\r\n\r\n    const variables = {\r\n        page,\r\n        perPage: 50, // max\r\n        userId: id,\r\n        type,\r\n        from,\r\n        to\r\n    }\r\n\r\n    return anilistRequest(activityQuery, variables);\r\n}\r\n\r\nexport function compareDates(a: ActivityDate, b: ActivityDate): boolean {\r\n    return (a.d == b.d && a.m == b.m && a.y == b.y);\r\n}","import { ActivityDate, ActivityDay, ActivityMedia } from \"@/interfaces/activity\";\r\nimport { reactive } from \"vue\";\r\nimport { compareDates, fetchList } from \"./api\";\r\n\r\nexport const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\nexport const monthNames = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\", \"August\",\"September\",\"October\",\"November\",\"December\"];\r\n\r\nexport default {\r\n    debug: true,\r\n\r\n    state: reactive({\r\n        userData: {\r\n            id: 0,\r\n            username: \"\",\r\n            avatar: \"\"\r\n        },\r\n        activities: [] as ActivityDay[],\r\n        preloadedActivities: [] as ActivityDay[],\r\n        currentPage: 1,\r\n        updateHour: 3,\r\n        mediaType: 'both',\r\n        saveSettings: false,\r\n        animeList: [] as ActivityMedia[],\r\n        mangaList: [] as ActivityMedia[]\r\n    }),\r\n\r\n    setUserdata(obj: any): void {\r\n        this.state.userData.id = obj.data.User.id;\r\n        this.state.userData.username = obj.data.User.name;\r\n        this.state.userData.avatar = obj.data.User.avatar.medium;\r\n    },\r\n\r\n    incrementCurrentPage(): void {\r\n        this.state.currentPage++;\r\n    },\r\n\r\n    appendActivities(activities: ActivityDay[]): ActivityDay[] {\r\n        this.state.activities = this.state.activities.concat(activities);\r\n        return this.state.activities;\r\n    },\r\n\r\n    destroy(): void {\r\n        this.state.currentPage = 1;\r\n        this.state.activities = [];\r\n        this.state.preloadedActivities = [];\r\n        this.state.animeList = [];\r\n        this.state.mangaList = [];\r\n    },\r\n\r\n    saveSettings(e: boolean): void {\r\n        this.state.saveSettings = e;\r\n    },\r\n\r\n    setSettings(o: {\r\n        updateHour?: number,\r\n        mediaType?: string\r\n    }): void {\r\n        // Destroy current state, because in case the user loads their page again without refreshing the site, inconsistencies may appear.\r\n        this.destroy();\r\n        if ('updateHour' in o) this.state.updateHour = o.updateHour as number;\r\n        if ('mediaType' in o && o.mediaType) this.state.mediaType = o.mediaType;\r\n    },\r\n\r\n    setPreloadedActivities(activities: ActivityDay[]): void {\r\n        this.state.preloadedActivities = activities;\r\n    },\r\n\r\n    setAnimeList(list: ActivityMedia[]): void {\r\n        this.state.animeList = list;\r\n    },\r\n\r\n    setMangaList(list: ActivityMedia[]): void {\r\n        this.state.mangaList = list;\r\n    },\r\n\r\n    parseActivities(activities: any): ActivityDay[] {\r\n        const days: ActivityDay[] = [];\r\n\r\n        activities.forEach((a: any) => {\r\n            const timestamp = new Date(a.createdAt * 1000); // Convert AniList time to js time\r\n\r\n            if(timestamp.getHours() < this.state.updateHour) { // Couting late night as previous day (user can choose a specific hour in settings)\r\n                // Make the activity appear the previous day. For example: July 3 => July 2. The setDate function does month conversion and all for us.\r\n                timestamp.setDate(timestamp.getDate() - 1);\r\n            }\r\n\r\n            const activityDateObject: ActivityDate = {\r\n                d: timestamp.getDate(),\r\n                m: timestamp.getMonth() + 1, // converts to human-readable format (January as 1, not 0)\r\n                y: timestamp.getFullYear(),\r\n                weekday: weekdays[timestamp.getDay()],\r\n                time: timestamp.getTime()\r\n            }\r\n\r\n            // Determining watched episodes (or read chapters) count\r\n            let episodes = 0;\r\n            let chapters = 0;\r\n            let range;\r\n            \r\n            switch(a.status) {\r\n                case 'watched episode':\r\n                case 'rewatched episode':\r\n                    range = a.progress.split(' - ');\r\n                    if(range.length == 2) {\r\n                        episodes = parseInt(range[1]) - parseInt(range[0]) + 1;\r\n                    }\r\n                    else episodes = 1;\r\n                    break;\r\n                case 'read chapter':\r\n                case 'reread chapter':\r\n                    range = a.progress.split(' - ');\r\n                    if(range.length == 2) {\r\n                        chapters = parseInt(range[1]) - parseInt(range[0]) + 1;\r\n                    }\r\n                    else chapters = 1;\r\n                    break;\r\n                case 'completed':\r\n                    if(a.media.type == 'ANIME') episodes = 1;\r\n                    else chapters = 1;\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n\r\n            // Parsing media\r\n            const media: ActivityMedia = {\r\n                id: a.media.id,\r\n                type: a.media.type,\r\n                title: a.media.title.romaji,\r\n                cover: a.media.coverImage.medium,\r\n                episodes: (episodes ? episodes : chapters),\r\n            }\r\n\r\n            // Look for other activities in particular day and append our data to it (because one day = one activity object)\r\n            const sameDay: ActivityDay | undefined = days.find(x => compareDates(x.day, activityDateObject)); // is there any more efficient way to do this?\r\n            \r\n            // If it found something\r\n            if(sameDay) {\r\n                sameDay.episodes += episodes; // Append our episode count to the entire day's episode count\r\n                sameDay.chapters += chapters;\r\n\r\n                // Checking if there's another activity for the same anime/manga on this day.\r\n                const mediaObject = sameDay.media.find(x => x.id == media.id && x.type == media.type);\r\n                if(mediaObject) {\r\n                    if(mediaObject.type == 'ANIME') {\r\n                        mediaObject.episodes += episodes;\r\n                    } else {\r\n                        mediaObject.episodes += chapters; // There is no need for distinction between chapters and episodes in a single media object.\r\n                    }\r\n                } else {\r\n                    sameDay.media.push(media);\r\n                }\r\n            }\r\n            else { // We have to create an object for the day here.\r\n                days.push({\r\n                    day: activityDateObject,\r\n                    episodes,\r\n                    chapters,\r\n                    media: (media ? [media] : [])\r\n                })\r\n            }\r\n        })\r\n\r\n        return days;\r\n    }\r\n}","import { ActivityDate } from \"@/interfaces/activity\";\r\nimport { weekdays } from \"./store\";\r\n\r\nconst formatObj = new Intl.DateTimeFormat().formatToParts(new Date());\r\n    \r\nconst dateFormat = formatObj.map(obj => {\r\n    switch (obj.type) {\r\n        case \"day\":\r\n            return \"DD\";\r\n        case \"month\":\r\n            return \"MM\";\r\n        case \"year\":\r\n            return \"YYYY\";\r\n        default:\r\n            return obj.value;\r\n    }\r\n}).join(\"\");\r\n\r\nexport function prettyDate(date: ActivityDate): string {\r\n    if(date.time == 0) return \"Unknown\";\r\n    return dateFormat.replace(\"DD\", String(date.d)).replace(\"MM\", (date.m >= 10 ? String(date.m) : '0'+String(date.m) )).replace(\"YYYY\", String(date.y));\r\n}\r\n\r\nexport function newActivityDate(timestamp: number): ActivityDate {\r\n    const dateObject = new Date(timestamp);\r\n\r\n    return {\r\n        d: dateObject.getDate(),\r\n        m: dateObject.getMonth() + 1,\r\n        y: dateObject.getFullYear(),\r\n        weekday: weekdays[dateObject.getDay()],\r\n        time: dateObject.getTime()\r\n    }\r\n}\r\n\r\nexport function findAddedDate(raws: any): string {\r\n    const plan = raws.find((act: any) => act.status.startsWith(\"plans\"));\r\n    if(!plan) return \"Unknown\";\r\n    else {\r\n        const timestamp = new Date(plan.createdAt * 1000);\r\n\r\n        const activityDateObject: ActivityDate = {\r\n            d: timestamp.getDate(),\r\n            m: timestamp.getMonth() + 1, // converts to human-readable format (January as 1, not 0)\r\n            y: timestamp.getFullYear(),\r\n            weekday: weekdays[timestamp.getDay()],\r\n            time: timestamp.getTime()\r\n        }\r\n        return (plan ? prettyDate(activityDateObject) : 'Unknown')\r\n    }\r\n}\r\n\r\n// you can access DOM from here so why not?\r\nexport function toggleTheme(): void {\r\n    if(document.body.classList.contains('site-theme-light')) {\r\n        document.body.classList.remove('site-theme-light');\r\n        window.localStorage.setItem('theme', 'dark');\r\n        // Modify localstorage\r\n    } else {\r\n        document.body.classList.add('site-theme-light')\r\n        // Modify localstore\r\n        window.localStorage.setItem('theme', 'light');\r\n    }\r\n}","\r\nimport store from '@/store/store';\r\nimport { defineComponent } from 'vue';\r\nimport { toggleTheme } from './store/helpers';\r\n\r\nexport default defineComponent({\r\n    data() {\r\n        return {\r\n            state: store.state,\r\n        }\r\n    },\r\n\r\n    created(): void {\r\n      // Load saved settings to state\r\n      const updateHour = localStorage.getItem(\"updateHour\");\r\n      const mediaType = localStorage.getItem(\"mediaType\");\r\n\r\n      if (updateHour && mediaType) {\r\n        store.saveSettings(true);\r\n        store.setSettings({\r\n          updateHour: Number(updateHour),\r\n          mediaType\r\n        })\r\n      }\r\n\r\n      const theme = localStorage.getItem(\"theme\")\r\n      if(theme == \"light\") {\r\n        toggleTheme();\r\n      }\r\n    },\r\n\r\n    mounted(): void {\r\n      this.$nextTick().then(() => {\r\n        //document.body.classList.add('site-theme-light');\r\n      })\r\n    }\r\n})\r\n\r\n","import { render } from \"./App.vue?vue&type=template&id=2b4b3d31\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2b4b3d31&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"container\">\r\n    <Logo size=\"2em\"></Logo>\r\n    <span class=\"warning\">anistats 2 is still in <span style=\"color: var(--color-text-blue)\">beta</span> and may lack some features. For the previous version look <a href=\"https://pizza61.github.io/anistats\">here</a>.</span>\r\n    <transition name=\"errorfade\">\r\n      <span class=\"error\" v-if=\"error.length > 0\">{{ error }}</span>\r\n    </transition>\r\n    <div class=\"input\">\r\n      <div class=\"button-wrapper desktop\">\r\n        <Button icon=\"cog\" @click=\"toggleSettings\">Settings</Button>\r\n      </div>\r\n      <input class=\"username\" :class=\"{ usernameError: error.length > 0, pulse: loading }\" placeholder=\"Enter username\" type=\"text\" v-model=\"username\" @keyup.enter=\"send\" />\r\n      <div class=\"button-wrapper desktop\">\r\n        <Button @click=\"send\" icon=\"chevron-right\">Continue</Button>\r\n      </div>\r\n    </div>\r\n    <div class=\"buttons mobile\">\r\n      <div class=\"button-wrapper\">\r\n        <Button icon=\"cog\" @click=\"toggleSettings\">Settings</Button>\r\n      </div>\r\n      <div class=\"button-wrapper\">\r\n        <Button @click=\"send\" icon=\"chevron-right\">Continue</Button>\r\n      </div>\r\n    </div>\r\n    <div class=\"settings\">\r\n      <transition name=\"settings\" mode=\"out-in\">\r\n        <Settings v-if=\"settings\"></Settings>\r\n      </transition>\r\n    </div>\r\n    <footer>\r\n      <Panel></Panel>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Logo from '@/components/Home/Logo.vue';\r\nimport Button from '@/components/Button.vue';\r\nimport Settings from '@/components/Home/Settings.vue';\r\nimport Panel from '@/components/Home/Panel.vue';\r\n\r\nimport store from '@/store/store';\r\nimport { fetchUserData } from '@/store/api';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\n@Options({\r\n  components: { Logo, Button, Settings, Panel }\r\n})\r\nexport default class Home extends Vue {\r\n  show: boolean = true;\r\n  loading: boolean = false;\r\n  settings: boolean = false;\r\n\r\n  username: string = \"\";\r\n  error: string = \"\"; // If it's empty, there is no error.\r\n  state = store.state;\r\n\r\n  mounted(): void {\r\n    if(this.$route.query.error == \"1\") {\r\n      this.showError(\"Something went wrong. Please try again\");\r\n    }\r\n  }\r\n  // Resolve username/link and redirect to next component for processing.\r\n  send(): void {\r\n    if(this.username.length < 2) {\r\n      return this.showError(\"Hey, I said enter your username.\")\r\n    }\r\n\r\n    if(this.username.startsWith(\"https://anilist.co\")) { // The user entered a profile link.\r\n      try {\r\n        let url = new URL(this.username);\r\n        if(url.pathname.startsWith(\"/user/\")) {\r\n          // If the link was correct, it should return the username. If it wasn't, the next component should return an error.\r\n          let username = url.pathname.split(\"/\")[2];\r\n          this.process(username);\r\n        } else {\r\n          throw 'Invalid URL';\r\n        }\r\n      }\r\n      catch (e)\r\n      {\r\n        this.showError(e);\r\n      }\r\n    } else { // The user entered something different (preferably the username)\r\n      // Saving user settings to localStorage (if user chose to)\r\n      if(this.state.saveSettings) {\r\n        localStorage.setItem(\"updateHour\", String(this.state.updateHour));\r\n        localStorage.setItem(\"mediaType\", this.state.mediaType);\r\n      } else { // clear settings in case they were saved but user opted out of it\r\n        localStorage.removeItem(\"updateHour\");\r\n        localStorage.removeItem(\"mediaType\");\r\n      }\r\n\r\n      this.loading = true;\r\n      this.process(this.username);\r\n    }\r\n  }\r\n\r\n  process(username: string): void {\r\n    // Checking if the user data is already loaded. If it is, it means that the user is revisitng the page so there's no need to fetch anything again\r\n    if(this.state.userData.username == username && this.state.activities.length > 0) {\r\n      console.log(\"directly\")\r\n      this.$router.push('/'+username);\r\n    } else {\r\n      fetchUserData(username)\r\n      .then(resp => {\r\n        store.destroy();\r\n        store.setUserdata(resp);\r\n        this.$router.push('/'+username);\r\n      })\r\n      .catch(() => {\r\n        this.showError(\"Invalid username (or profile is private)\");\r\n      })\r\n    }\r\n  }\r\n\r\n  showError(e: string): void {\r\n    this.loading = false;\r\n    this.error = e;\r\n    setTimeout(() => {\r\n      this.error = \"\";\r\n    }, 5000);\r\n  }\r\n\r\n  toggleSettings(): void {\r\n    this.settings = !this.settings;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.input {\r\n  display: flex;\r\n  margin: 10px 0;\r\n\r\n}\r\n.username {\r\n  padding: 10px;\r\n\r\n  font-size: 2em;\r\n  font-weight: 500;\r\n\r\n  border-bottom: 3px solid var(--color-background-border);\r\n\r\n  transition: border-bottom .5s;\r\n\r\n  &::placeholder {\r\n    color: var(--color-text-secondary);\r\n  }\r\n}\r\n\r\n.usernameError {\r\n  border-bottom: 3px solid var(--color-text-red);\r\n}\r\n\r\n.buttons {\r\n  justify-content: space-around;\r\n  display: flex;\r\n}\r\n \r\n.button-wrapper {\r\n  flex-grow: 1;\r\n  border-radius: var(--radius);\r\n  color: var(--color-text-secondary);\r\n  padding: 6px;\r\n\r\n  transition: background .2s;\r\n  \r\n  &:hover {\r\n    background: var(--color-selected-background);\r\n    color: var(--color-selected-text);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 620px) {\r\n  .desktop {\r\n    display: none;\r\n  }\r\n\r\n  .username {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n@media screen and (min-width: 621px) {\r\n  .mobile {\r\n    display: none;\r\n  }\r\n\r\n  .button-wrapper {\r\n    margin: 0 6px;\r\n  }\r\n}\r\n// TRANSITIONS\r\n.errorfade-enter-active, .errorfade-leave-active {\r\n  transition: opacity 0.5s ease;\r\n}\r\n\r\n.errorfade-enter-from, .errorfade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.pulse {\r\n  animation: pulse 2s linear infinite;\r\n}\r\n\r\n.settings-enter-active, .settings-leave-active {\r\n  transition: all .2s ease-out;\r\n}\r\n\r\n.settings-enter-from, .settings-leave-to {\r\n  transform: translateY(-10px);\r\n  opacity: 0;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"logo\" :style=\"{ fontSize: size }\">\r\n        <span class=\"blue\">ani</span>\r\n        <span>stats</span>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Vue, Options } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        size: String\r\n    }\r\n})\r\nexport default class Logo extends Vue {\r\n    size!: string\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.logo {\r\n    user-select: none;\r\n}\r\n\r\n.blue {\r\n    color: #3391c0;\r\n}\r\n</style>","\r\nimport { Vue, Options } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        size: String\r\n    }\r\n})\r\nexport default class Logo extends Vue {\r\n    size!: string\r\n}\r\n","import { render } from \"./Logo.vue?vue&type=template&id=0a9f85d1&scoped=true\"\nimport script from \"./Logo.vue?vue&type=script&lang=ts\"\nexport * from \"./Logo.vue?vue&type=script&lang=ts\"\n\nimport \"./Logo.vue?vue&type=style&index=0&id=0a9f85d1&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0a9f85d1\"\n\nexport default script","<template>\r\n    <button class=\"btn\">\r\n        <font-awesome-icon v-if=\"icon\" :icon=\"icon\" size=\"lg\" fixed-width />\r\n        <span><slot></slot></span>\r\n    </button>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Vue, Options } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        icon: String,\r\n        color: String\r\n    }\r\n})\r\nexport default class Button extends Vue {\r\n    icon!: string;\r\n    color!: string;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.btn {\r\n    display: inline-flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n\r\n    appearance: none;\r\n    font: inherit;\r\n    color: inherit;\r\n    background: none;\r\n    outline: none;\r\n    border: none;\r\n\r\n    transition: .2s;\r\n    cursor: pointer;\r\n\r\n    span {\r\n        padding-top: 5px;\r\n    }\r\n}\r\n</style>","\r\nimport { Vue, Options } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        icon: String,\r\n        color: String\r\n    }\r\n})\r\nexport default class Button extends Vue {\r\n    icon!: string;\r\n    color!: string;\r\n}\r\n","import { render } from \"./Button.vue?vue&type=template&id=34af12ca&scoped=true\"\nimport script from \"./Button.vue?vue&type=script&lang=ts\"\nexport * from \"./Button.vue?vue&type=script&lang=ts\"\n\nimport \"./Button.vue?vue&type=style&index=0&id=34af12ca&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-34af12ca\"\n\nexport default script","<template>\r\n    <div class=\"settings\">\r\n        <div class=\"section\">\r\n            <div class=\"setting\" v-for=\"(setting, i) in settings\" :key=\"i\">\r\n                <div class=\"setting-header\">\r\n                    <div class=\"setting-name\">{{ setting.name }}</div>\r\n                    <div class=\"setting-desc\">{{ setting.desc }}</div>\r\n                </div>\r\n                <div class=\"setting-switch\">\r\n                    <SettingsSwitcher :options=\"setting.options\" :default=\"setting.default\" @selection=\"handleSelect($event, i)\"></SettingsSwitcher>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <Switch name=\"save\" :model-value=\"save\" @update:model-value=\"toggleSave\">Save those settings for later</Switch>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport SettingsSwitcher from './SettingsSwitcher.vue';\r\nimport Switch from '@/components/Switch.vue';\r\n\r\nimport store from '@/store/store';\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    components: { SettingsSwitcher, Switch }\r\n})\r\nexport default class Settings extends Vue {\r\n    state = store.state;\r\n    save: boolean = false;\r\n\r\n    settings: any[] = [\r\n        {\r\n            name: \"Stats type\",\r\n            desc: \"Choose which type of media you want to be displayed.\",\r\n            options: [\"both\", \"anime\", \"manga\"]\r\n        },\r\n        {\r\n            name: \"Beginning of a new day\",\r\n            desc: \"You may choose to count late night as previous day.\",\r\n            options: [\"12am\", \"1am\", \"2am\", \"3am\", \"4am\", \"6am\"]\r\n        }\r\n    ]\r\n\r\n    created(): void {\r\n        this.settings[0].default = this.state.mediaType;\r\n        this.settings[1].default = this.state.updateHour == 0 ? '12am' : this.state.updateHour+'am';\r\n\r\n        this.save = this.state.saveSettings;\r\n    }\r\n    \r\n    handleSelect(e: string, i: number): void {\r\n        let val = e.toLowerCase();\r\n        if(i == 0) {\r\n            store.setSettings({ mediaType: val })\r\n        } else if (i == 1) {\r\n            if (e == '12am') store.setSettings({ updateHour: 0 });\r\n            else store.setSettings({ updateHour: Number(e.slice(0, -2)) });\r\n        }\r\n    }\r\n\r\n    toggleSave(e: boolean) {\r\n        this.save = e;\r\n        store.saveSettings(e);\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@media screen and (max-width: 600px) {\r\n    .setting {\r\n        flex-direction: column;\r\n    }\r\n\r\n    .setting-switch {\r\n        margin-top: 10px;\r\n    }\r\n}\r\n.setting {\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    margin: 10px;\r\n}\r\n\r\n.setting-name {\r\n    display: blocl;\r\n    font-weight: 500;\r\n}\r\n\r\n.setting-desc {\r\n    display: block;\r\n    font-size: 0.86em;\r\n    color: var(--color-text-secondary);\r\n}\r\n\r\n\r\n</style>","<template>\r\n    <div class=\"switches\">\r\n        <div class=\"switch\" v-for=\"(option, i) in options\" :key=\"i\" :class=\"{ selected: option == chosen }\" @click=\"select(option)\">{{ capitalize(option) }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        options: Array,\r\n        default: String\r\n    }\r\n    \r\n})\r\nexport default class SettingsSwitcher extends Vue {\r\n    cho: [] = [];\r\n    default!: string;\r\n    chosen: string = \"\";\r\n\r\n    capitalize(option: string): string {\r\n        return option[0].toUpperCase() + option.slice(1);\r\n    }\r\n\r\n    mounted(): void {\r\n        this.chosen = this.default;\r\n    }\r\n    \r\n    select(option: string): void {\r\n        this.chosen = option;\r\n        this.$emit('selection', option);\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.switches {\r\n    display: flex;\r\n}\r\n\r\n.switch {\r\n    display: inline-block;\r\n    background: var(--color-background-border);\r\n    padding: 8px 12px;\r\n\r\n    transition: .2s;\r\n    user-select: none;\r\n\r\n    &:first-child {\r\n        border-top-left-radius: var(--radius);\r\n        border-bottom-left-radius: var(--radius);\r\n    }\r\n\r\n    &:last-child {\r\n        border-top-right-radius: var(--radius);\r\n        border-bottom-right-radius: var(--radius);\r\n    }\r\n\r\n    &:not(.selected):hover {\r\n        background: var(--color-selected-background);\r\n    }\r\n}\r\n\r\n.selected {\r\n    background: var(--color-selected-background);\r\n    color: var(--color-selected-text);\r\n}\r\n\r\n</style>","\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        options: Array,\r\n        default: String\r\n    }\r\n    \r\n})\r\nexport default class SettingsSwitcher extends Vue {\r\n    cho: [] = [];\r\n    default!: string;\r\n    chosen: string = \"\";\r\n\r\n    capitalize(option: string): string {\r\n        return option[0].toUpperCase() + option.slice(1);\r\n    }\r\n\r\n    mounted(): void {\r\n        this.chosen = this.default;\r\n    }\r\n    \r\n    select(option: string): void {\r\n        this.chosen = option;\r\n        this.$emit('selection', option);\r\n    }\r\n}\r\n","import { render } from \"./SettingsSwitcher.vue?vue&type=template&id=6256fc08&scoped=true\"\nimport script from \"./SettingsSwitcher.vue?vue&type=script&lang=ts\"\nexport * from \"./SettingsSwitcher.vue?vue&type=script&lang=ts\"\n\nimport \"./SettingsSwitcher.vue?vue&type=style&index=0&id=6256fc08&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6256fc08\"\n\nexport default script","<template>\r\n    <div>\r\n        <div>\r\n            <input type=\"checkbox\" :checked=\"modelValue\" @input=\"$emit('update:modelValue', $event.target.checked)\" :id=\"name\" class=\"switch-input\" />\r\n            <label :for=\"name\" class=\"switch-label\"><slot></slot></label>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        modelValue: Boolean,\r\n        name: String\r\n    },\r\n    emits: ['update:modelValue']\r\n})\r\nexport default class Switch extends Vue {\r\n    modelValue!: boolean;\r\n    name!: string;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.switch-input {\r\n    display: none;\r\n}\r\n\r\n.switch-label {\r\n    position: relative;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    font-weight: 500;\r\n    padding: 16px 0 16px 44px;\r\n}\r\n\r\n.switch-label:before, .switch-label:after {\r\n    content: \"\";\r\n    position: absolute;\r\n    margin: 0;\r\n    outline: 0;\r\n    top: 50%;\r\n    transform: translate(0, -50%);\r\n    transition: all 0.2s ease;\r\n}\r\n\r\n.switch-label:before {\r\n    left: 1px;\r\n    width: 34px;\r\n    height: 14px;\r\n    background-color: #363e50;\r\n    border-radius: 8px;\r\n}\r\n\r\n.switch-label:after {\r\n    left: 0;\r\n    width: 20px;\r\n    height: 20px;\r\n    background-color: var(--color-background-darker);\r\n    border-radius: 50%;\r\n    box-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.14), 0 2px 2px 0 rgba(0, 0, 0, 0.098), 0 1px 5px 0 rgba(0, 0, 0, 0.084);\r\n}\r\n\r\n.switch-input:checked + .switch-label:after {\r\n    background-color: var(--color-selected-text);\r\n    transform: translate(80%, -50%);\r\n}\r\n</style>","\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        modelValue: Boolean,\r\n        name: String\r\n    },\r\n    emits: ['update:modelValue']\r\n})\r\nexport default class Switch extends Vue {\r\n    modelValue!: boolean;\r\n    name!: string;\r\n}\r\n","import { render } from \"./Switch.vue?vue&type=template&id=b89d07a2&scoped=true\"\nimport script from \"./Switch.vue?vue&type=script&lang=ts\"\nexport * from \"./Switch.vue?vue&type=script&lang=ts\"\n\nimport \"./Switch.vue?vue&type=style&index=0&id=b89d07a2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b89d07a2\"\n\nexport default script","\r\nimport SettingsSwitcher from './SettingsSwitcher.vue';\r\nimport Switch from '@/components/Switch.vue';\r\n\r\nimport store from '@/store/store';\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    components: { SettingsSwitcher, Switch }\r\n})\r\nexport default class Settings extends Vue {\r\n    state = store.state;\r\n    save: boolean = false;\r\n\r\n    settings: any[] = [\r\n        {\r\n            name: \"Stats type\",\r\n            desc: \"Choose which type of media you want to be displayed.\",\r\n            options: [\"both\", \"anime\", \"manga\"]\r\n        },\r\n        {\r\n            name: \"Beginning of a new day\",\r\n            desc: \"You may choose to count late night as previous day.\",\r\n            options: [\"12am\", \"1am\", \"2am\", \"3am\", \"4am\", \"6am\"]\r\n        }\r\n    ]\r\n\r\n    created(): void {\r\n        this.settings[0].default = this.state.mediaType;\r\n        this.settings[1].default = this.state.updateHour == 0 ? '12am' : this.state.updateHour+'am';\r\n\r\n        this.save = this.state.saveSettings;\r\n    }\r\n    \r\n    handleSelect(e: string, i: number): void {\r\n        let val = e.toLowerCase();\r\n        if(i == 0) {\r\n            store.setSettings({ mediaType: val })\r\n        } else if (i == 1) {\r\n            if (e == '12am') store.setSettings({ updateHour: 0 });\r\n            else store.setSettings({ updateHour: Number(e.slice(0, -2)) });\r\n        }\r\n    }\r\n\r\n    toggleSave(e: boolean) {\r\n        this.save = e;\r\n        store.saveSettings(e);\r\n    }\r\n}\r\n","import { render } from \"./Settings.vue?vue&type=template&id=44fdf3b6&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=ts\"\nexport * from \"./Settings.vue?vue&type=script&lang=ts\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=44fdf3b6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-44fdf3b6\"\n\nexport default script","<template>\r\n    <div class=\"footer-wrapper\">\r\n        <div class=\"timestamp\">Built on {{ buildTimestamp }}</div>\r\n        <div class=\"footer\">\r\n            <span class=\"footer-link\" @click=\"lightMode\">Toggle light mode</span>\r\n            <router-link class=\"footer-link\" to=\"/s/about\">About</router-link>\r\n            <router-link class=\"footer-link\" to=\"/s/help\">Help</router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { toggleTheme } from '@/store/helpers';\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({})\r\nexport default class Panel extends Vue {\r\n    get buildTimestamp(): string {\r\n        return document.documentElement.dataset.buildTimestamp as string;\r\n    }\r\n\r\n    lightMode(): void {\r\n        toggleTheme()\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.footer-wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n.timestamp {\r\n    color: var(--color-text-gray);\r\n    font-size: 0.86em;\r\n}\r\n.footer-link {\r\n    display: inline-block;\r\n    background: var(--color-background-darker);\r\n    color: var(--color-text-secondary);\r\n    font-size: 0.85em;\r\n    cursor: pointer;\r\n    padding: 12px;\r\n    margin: 12px 3px;\r\n    border-radius: var(--radius);\r\n    \r\n    &:hover {\r\n        text-decoration: underline var(--color-text-secondary);\r\n    }\r\n}\r\n</style>","\r\nimport { toggleTheme } from '@/store/helpers';\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({})\r\nexport default class Panel extends Vue {\r\n    get buildTimestamp(): string {\r\n        return document.documentElement.dataset.buildTimestamp as string;\r\n    }\r\n\r\n    lightMode(): void {\r\n        toggleTheme()\r\n    }\r\n}\r\n","import { render } from \"./Panel.vue?vue&type=template&id=12d1cf38&scoped=true\"\nimport script from \"./Panel.vue?vue&type=script&lang=ts\"\nexport * from \"./Panel.vue?vue&type=script&lang=ts\"\n\nimport \"./Panel.vue?vue&type=style&index=0&id=12d1cf38&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-12d1cf38\"\n\nexport default script","\r\nimport Logo from '@/components/Home/Logo.vue';\r\nimport Button from '@/components/Button.vue';\r\nimport Settings from '@/components/Home/Settings.vue';\r\nimport Panel from '@/components/Home/Panel.vue';\r\n\r\nimport store from '@/store/store';\r\nimport { fetchUserData } from '@/store/api';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\n@Options({\r\n  components: { Logo, Button, Settings, Panel }\r\n})\r\nexport default class Home extends Vue {\r\n  show: boolean = true;\r\n  loading: boolean = false;\r\n  settings: boolean = false;\r\n\r\n  username: string = \"\";\r\n  error: string = \"\"; // If it's empty, there is no error.\r\n  state = store.state;\r\n\r\n  mounted(): void {\r\n    if(this.$route.query.error == \"1\") {\r\n      this.showError(\"Something went wrong. Please try again\");\r\n    }\r\n  }\r\n  // Resolve username/link and redirect to next component for processing.\r\n  send(): void {\r\n    if(this.username.length < 2) {\r\n      return this.showError(\"Hey, I said enter your username.\")\r\n    }\r\n\r\n    if(this.username.startsWith(\"https://anilist.co\")) { // The user entered a profile link.\r\n      try {\r\n        let url = new URL(this.username);\r\n        if(url.pathname.startsWith(\"/user/\")) {\r\n          // If the link was correct, it should return the username. If it wasn't, the next component should return an error.\r\n          let username = url.pathname.split(\"/\")[2];\r\n          this.process(username);\r\n        } else {\r\n          throw 'Invalid URL';\r\n        }\r\n      }\r\n      catch (e)\r\n      {\r\n        this.showError(e);\r\n      }\r\n    } else { // The user entered something different (preferably the username)\r\n      // Saving user settings to localStorage (if user chose to)\r\n      if(this.state.saveSettings) {\r\n        localStorage.setItem(\"updateHour\", String(this.state.updateHour));\r\n        localStorage.setItem(\"mediaType\", this.state.mediaType);\r\n      } else { // clear settings in case they were saved but user opted out of it\r\n        localStorage.removeItem(\"updateHour\");\r\n        localStorage.removeItem(\"mediaType\");\r\n      }\r\n\r\n      this.loading = true;\r\n      this.process(this.username);\r\n    }\r\n  }\r\n\r\n  process(username: string): void {\r\n    // Checking if the user data is already loaded. If it is, it means that the user is revisitng the page so there's no need to fetch anything again\r\n    if(this.state.userData.username == username && this.state.activities.length > 0) {\r\n      console.log(\"directly\")\r\n      this.$router.push('/'+username);\r\n    } else {\r\n      fetchUserData(username)\r\n      .then(resp => {\r\n        store.destroy();\r\n        store.setUserdata(resp);\r\n        this.$router.push('/'+username);\r\n      })\r\n      .catch(() => {\r\n        this.showError(\"Invalid username (or profile is private)\");\r\n      })\r\n    }\r\n  }\r\n\r\n  showError(e: string): void {\r\n    this.loading = false;\r\n    this.error = e;\r\n    setTimeout(() => {\r\n      this.error = \"\";\r\n    }, 5000);\r\n  }\r\n\r\n  toggleSettings(): void {\r\n    this.settings = !this.settings;\r\n  }\r\n}\r\n","import { render } from \"./Home.vue?vue&type=template&id=013484a4&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=013484a4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-013484a4\"\n\nexport default script","<template>\r\n    <div class=\"container\">\r\n        <router-link to=\"/\"><Logo size=\"3em\"></Logo></router-link>\r\n        <div class=\"content\">\r\n            <router-view></router-view>\r\n        </div>\r\n        \r\n        <footer>\r\n            <Panel></Panel>\r\n        </footer>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Logo from '@/components/Home/Logo.vue';\r\nimport Panel from '@/components/Home/Panel.vue';\r\n\r\nimport { Options, Vue } from \"vue-class-component\";\r\n\r\n@Options({\r\n    components: { Logo, Panel }\r\n})\r\nexport default class Special extends Vue { }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\na {\r\n    color: inherit;\r\n}\r\n\r\n.content {\r\n    padding-bottom: 62px;\r\n}\r\n</style>","\r\nimport Logo from '@/components/Home/Logo.vue';\r\nimport Panel from '@/components/Home/Panel.vue';\r\n\r\nimport { Options, Vue } from \"vue-class-component\";\r\n\r\n@Options({\r\n    components: { Logo, Panel }\r\n})\r\nexport default class Special extends Vue { }\r\n","import { render } from \"./Special.vue?vue&type=template&id=287ece95&scoped=true\"\nimport script from \"./Special.vue?vue&type=script&lang=ts\"\nexport * from \"./Special.vue?vue&type=script&lang=ts\"\n\nimport \"./Special.vue?vue&type=style&index=0&id=287ece95&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-287ece95\"\n\nexport default script","<template>\r\n    <Loading v-if=\"loading\"></Loading>\r\n    <div class=\"view\" v-else>\r\n        <div class=\"sidebar-wrapper\" :class=\"{ 'sidebar-hide-mobile': !showSidebar }\">\r\n            <Sidebar @toggle=\"toggleSidebar\"></Sidebar>\r\n\r\n        </div>\r\n        <div class=\"content\">\r\n            <div class=\"mobile-header\">\r\n                <div class=\"mobile-icon\" @click=\"toggleSidebar\">\r\n                    <font-awesome-icon icon=\"bars\" size=\"lg\" />  \r\n                </div>\r\n                <router-link class=\"a\" to=\"/\"><Logo size=\"1.8em\"></Logo></router-link>\r\n            </div>\r\n            <router-view @loadRequest=\"loadEarlierActivities\"></router-view>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { compareDates, fetchActivity, fetchUserData } from '@/store/api';\r\nimport store from '@/store/store';\r\n\r\nimport Loading from '@/components/User/Loading.vue';\r\nimport Sidebar from '@/components/User/Sidebar.vue';\r\nimport Logo from '@/components/Home/Logo.vue';\r\n\r\nimport { ActivityDay } from '@/interfaces/activity';\r\n\r\nimport { Options, Vue } from \"vue-class-component\";\r\n\r\n@Options({\r\n    components: { Loading, Sidebar, Logo }\r\n})\r\nexport default class User extends Vue {\r\n    loading: boolean = true;\r\n    lock: boolean = false;\r\n    lastPage: number = 0;\r\n    state = store.state;\r\n\r\n    showSidebar: boolean = false;\r\n\r\n    preloadedActivities: ActivityDay[] = [];\r\n\r\n    mounted(): void {\r\n        // Checking if this page is visited directly (no userData in state)\r\n        // or from the main page (userData set.)\r\n        // If there is no userData, the component has to fetch and set it on its own.\r\n        if(!this.state.userData.id) {\r\n            fetchUserData(this.$route.params.user as string)\r\n            .then(resp => {\r\n                store.setUserdata(resp);\r\n                this.loadActivites();\r\n            })\r\n            .catch(() => {\r\n                this.$router.push({ path: '/', query: { error: 1 }});\r\n            })\r\n        } else if (this.state.activities.length == 0) {\r\n            this.loadActivites();\r\n        } else {\r\n            this.loading = false;\r\n        }\r\n    }\r\n\r\n    // Load and parse user's activities (only used for the first time)\r\n    loadActivites(): void {\r\n        fetchActivity(this.state.userData.id, this.state.currentPage, this.state.mediaType)\r\n        .then(resp => {\r\n            this.lastPage = resp.data.Page.pageInfo.lastPage;\r\n            const activities = store.parseActivities(resp.data.Page.activities);\r\n\r\n            if(activities.length == 0) {\r\n                return this.$router.push({ path: '/', query: { error: 1 }});\r\n            }\r\n            // Preload next page of user's activites.\r\n            // It's because next page may contain activity from the last day on the first page, and it's better to display it together. Also for better user experience.\r\n            this.preloadActivites(activities)\r\n            .then(preloaded => {\r\n                store.setPreloadedActivities(preloaded);\r\n\r\n                store.appendActivities(activities);\r\n                this.loading = false;\r\n            })\r\n            \r\n        })\r\n    }\r\n\r\n    loadEarlierActivities(): void {\r\n        // Lock so the user can't smash the button and break it.\r\n        if(this.lock) return;\r\n        this.lock = true;\r\n        store.incrementCurrentPage();\r\n\r\n        const activities = store.appendActivities(this.state.preloadedActivities);\r\n        this.preloadActivites(activities)\r\n        .then(preloaded => {\r\n            store.setPreloadedActivities(preloaded);\r\n\r\n            this.lock = false;\r\n        })\r\n    }\r\n\r\n    // Load the next page of user's activities and save for later use.\r\n    async preloadActivites(activities: ActivityDay[]): Promise<ActivityDay[]> {\r\n        if(this.state.currentPage == this.lastPage) return []; // Reached the end, nothing to preload.\r\n\r\n        const nextPage = await fetchActivity(this.state.userData.id, this.state.currentPage + 1, this.state.mediaType);\r\n        const preloadedActivities = store.parseActivities(nextPage.data.Page.activities);\r\n\r\n        // Looking for duplicates\r\n        // We want to give user a complete summary of a particular day, but sometimes it's continued on the second page.\r\n        // That's why, to complete a particular day, we have to look if it's mentioned on the preloaded page and move (remove from preloaded, add to current) it to currently displayed activities (activities)\r\n        const duplicates = preloadedActivities.filter(x => compareDates(x.day, activities[activities.length - 1].day));\r\n        duplicates.forEach(dup => {\r\n            // Remove from preloaded\r\n            const indexToRemove = preloadedActivities.indexOf(dup);\r\n            preloadedActivities.splice(indexToRemove, 1);\r\n\r\n            // Add to current\r\n            // Find the last element (last day present on current page) and \"merge\" it with dup\r\n            const old = activities[activities.length - 1];\r\n            old.media = old.media.concat(dup.media);\r\n            old.episodes += dup.episodes;\r\n            old.chapters += dup.chapters;\r\n        });\r\n\r\n        return preloadedActivities;\r\n    }\r\n\r\n    toggleSidebar(): void {\r\n        this.showSidebar = !this.showSidebar\r\n    }\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.a {\r\n    color: inherit;\r\n}\r\n\r\n.mobile-header {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 8px;\r\n}\r\n\r\n.mobile-icon {\r\n    padding: 10px;\r\n    margin-right: 8px;\r\n\r\n    border-radius: var(--radius);\r\n    transition: .2s;\r\n\r\n    &:hover {\r\n        background: var(--color-background-darker)\r\n    }\r\n}\r\n\r\n\r\n@media screen and (max-width: 1020px) {\r\n    .sidebar-wrapper {\r\n        position: fixed;\r\n        left: 0;\r\n        right: 0;\r\n        top: 0;\r\n        z-index: 4;\r\n\r\n        display: flex;\r\n\r\n        visibility: visible;\r\n        opacity: 1;\r\n        transition: opacity .2s ease-out, visibility .2s;\r\n    }\r\n\r\n    .sidebar-backdrop {\r\n        position: fixed;\r\n        left: 0;\r\n        right: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n        background: rgba(0,0,0,.7);\r\n        flex-grow: 2;\r\n    }\r\n\r\n    .sidebar-hide-mobile {\r\n        visibility: hidden;\r\n        opacity: 0;\r\n    }\r\n}\r\n@media screen and (min-width: 1021px) {\r\n    .mobile-header {\r\n        display: none;\r\n    }\r\n\r\n    .view {\r\n        display: grid;\r\n        grid-template-columns: 20% 80%;\r\n\r\n        max-width: 1280px;\r\n        margin: auto;\r\n    }\r\n\r\n    .sidebar-backdrop {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@keyframes appear {\r\n    from {\r\n        opacity: 0;\r\n    }\r\n\r\n    to {\r\n        opacity: 1;\r\n    }\r\n}\r\n</style>","<template>\r\n    <div class=\"container\">\r\n        <Logo size=\"3em\"></Logo>\r\n        <div class=\"loading\">Loading...</div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Logo from '@/components/Home/Logo.vue';\r\n\r\nimport { Options, Vue } from \"vue-class-component\";\r\n\r\n@Options({\r\n    components: { Logo }\r\n})\r\nexport default class Loading extends Vue {\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.loading {\r\n    font-size: 3em;\r\n    font-weight: 500;\r\n    padding: 10px;\r\n    border-bottom: 3px solid;\r\n\r\n    animation: pulse 2s linear infinite;\r\n}\r\n</style>","\r\nimport Logo from '@/components/Home/Logo.vue';\r\n\r\nimport { Options, Vue } from \"vue-class-component\";\r\n\r\n@Options({\r\n    components: { Logo }\r\n})\r\nexport default class Loading extends Vue {\r\n\r\n}\r\n","import { render } from \"./Loading.vue?vue&type=template&id=6e66bfd3&scoped=true\"\nimport script from \"./Loading.vue?vue&type=script&lang=ts\"\nexport * from \"./Loading.vue?vue&type=script&lang=ts\"\n\nimport \"./Loading.vue?vue&type=style&index=0&id=6e66bfd3&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6e66bfd3\"\n\nexport default script","<template>\r\n    <div class=\"sidebar\">\r\n        <div class=\"header\">\r\n            <div class=\"header-icon\" @click=\"emitToggle\">\r\n                <font-awesome-icon icon=\"bars\" size=\"lg\" />\r\n            </div>\r\n        </div>\r\n        <router-link class=\"a\" to=\"/\"><Logo size=\"2em\"></Logo></router-link>\r\n        <MenuItem @click=\"emitToggle\" icon=\"user-circle\" to=\"\">Overview</MenuItem>\r\n        <div class=\"category\" v-if=\"state.mediaType != 'manga'\">\r\n            <span class=\"category-header\">Anime</span>\r\n            <MenuItem @click=\"emitToggle\" icon=\"list\" to=\"/list/anime\">List</MenuItem>\r\n            <MenuItem @click=\"emitToggle\" icon=\"history\" to=\"/history/anime\">History</MenuItem>\r\n        </div>\r\n        <div class=\"category\" v-if=\"state.mediaType != 'anime'\">\r\n            <span class=\"category-header\">Manga</span>\r\n            <MenuItem @click=\"emitToggle\" icon=\"book-open\" to=\"/list/manga\">List</MenuItem>\r\n            <MenuItem @click=\"emitToggle\" icon=\"history\" to=\"/history/manga\">History</MenuItem>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport store from '@/store/store';\r\n\r\nimport Logo from '@/components/Home/Logo.vue';\r\nimport MenuItem from '@/components/User/Sidebar/MenuItem.vue';\r\nimport { toggleTheme } from '@/store/helpers';\r\n\r\n@Options({\r\n    components: { Logo, MenuItem }\r\n})\r\nexport default class Sidebar extends Vue {\r\n    state = store.state;\r\n\r\n    emitToggle(): void {\r\n        this.$emit('toggle');\r\n    }\r\n\r\n    toggleTheme(): void {\r\n        toggleTheme();\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.sidebar {\r\n    position: sticky;\r\n    top: 0;\r\n    background: var(--color-background);\r\n}\r\n\r\n.header {\r\n    padding: 8px;\r\n}\r\n\r\n.header-icon {\r\n    padding: 10px;\r\n    margin-right: 8px;\r\n\r\n    border-radius: var(--radius);\r\n    transition: .2s;\r\n\r\n    &:hover {\r\n        background: var(--color-background-darker)\r\n    }\r\n}\r\n\r\n.a {\r\n    color: inherit;\r\n    display: block;\r\n    padding: 15px;\r\n}\r\n\r\n.category-header {\r\n    display: block;\r\n    padding: 5px;\r\n    margin: 0 5px;\r\n    font-weight: 500;\r\n}\r\n\r\n@media screen and (max-width: 1020px) {\r\n    .sidebar {\r\n        width: 100%;\r\n        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2)\r\n    }\r\n\r\n    .menuitem {\r\n        padding: 12px 10px;\r\n        margin: 3px;\r\n    }\r\n\r\n    .a {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 1021px) {\r\n    .header {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@keyframes appear {\r\n    from {\r\n        transform: translateX(-300px);\r\n\r\n    }\r\n\r\n    to {\r\n        transform: translateX(0px);\r\n    }\r\n}\r\n</style>","<template>  \r\n    <router-link :to=\"'/'+$route.params.user+to\" class=\"menuitem\">\r\n            <font-awesome-icon :icon=\"icon\" size=\"lg\" fixed-width />\r\n            <span class=\"label\">\r\n                <slot></slot>\r\n            </span>\r\n    </router-link>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        to: String,\r\n        icon: String\r\n    }\r\n})\r\nexport default class MenuItem extends Vue {\r\n    to!: string;\r\n    icon!: string;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.menuitem {\r\n    background: inherit; // no idea why it's needed\r\n    padding: 10px;\r\n    margin: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    border-radius: 5px;\r\n    transition: background .1s;\r\n\r\n    &:not(.router-link-exact-active):hover {\r\n        background: var(--color-selected-background);\r\n        color: white;\r\n    }\r\n}\r\n\r\n.router-link-exact-active {\r\n    background: var(--color-selected-background);\r\n    color: var(--color-selected-text);\r\n}\r\n\r\n.label {\r\n    padding-left: 15px;\r\n    font-weight: 500;\r\n}\r\n\r\na {\r\n    color: inherit;\r\n}\r\n</style>","\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        to: String,\r\n        icon: String\r\n    }\r\n})\r\nexport default class MenuItem extends Vue {\r\n    to!: string;\r\n    icon!: string;\r\n}\r\n","import { render } from \"./MenuItem.vue?vue&type=template&id=aaa0c406&scoped=true\"\nimport script from \"./MenuItem.vue?vue&type=script&lang=ts\"\nexport * from \"./MenuItem.vue?vue&type=script&lang=ts\"\n\nimport \"./MenuItem.vue?vue&type=style&index=0&id=aaa0c406&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-aaa0c406\"\n\nexport default script","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport store from '@/store/store';\r\n\r\nimport Logo from '@/components/Home/Logo.vue';\r\nimport MenuItem from '@/components/User/Sidebar/MenuItem.vue';\r\nimport { toggleTheme } from '@/store/helpers';\r\n\r\n@Options({\r\n    components: { Logo, MenuItem }\r\n})\r\nexport default class Sidebar extends Vue {\r\n    state = store.state;\r\n\r\n    emitToggle(): void {\r\n        this.$emit('toggle');\r\n    }\r\n\r\n    toggleTheme(): void {\r\n        toggleTheme();\r\n    }\r\n}\r\n","import { render } from \"./Sidebar.vue?vue&type=template&id=5d701bb2&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=ts\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=ts\"\n\nimport \"./Sidebar.vue?vue&type=style&index=0&id=5d701bb2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5d701bb2\"\n\nexport default script","\r\nimport { compareDates, fetchActivity, fetchUserData } from '@/store/api';\r\nimport store from '@/store/store';\r\n\r\nimport Loading from '@/components/User/Loading.vue';\r\nimport Sidebar from '@/components/User/Sidebar.vue';\r\nimport Logo from '@/components/Home/Logo.vue';\r\n\r\nimport { ActivityDay } from '@/interfaces/activity';\r\n\r\nimport { Options, Vue } from \"vue-class-component\";\r\n\r\n@Options({\r\n    components: { Loading, Sidebar, Logo }\r\n})\r\nexport default class User extends Vue {\r\n    loading: boolean = true;\r\n    lock: boolean = false;\r\n    lastPage: number = 0;\r\n    state = store.state;\r\n\r\n    showSidebar: boolean = false;\r\n\r\n    preloadedActivities: ActivityDay[] = [];\r\n\r\n    mounted(): void {\r\n        // Checking if this page is visited directly (no userData in state)\r\n        // or from the main page (userData set.)\r\n        // If there is no userData, the component has to fetch and set it on its own.\r\n        if(!this.state.userData.id) {\r\n            fetchUserData(this.$route.params.user as string)\r\n            .then(resp => {\r\n                store.setUserdata(resp);\r\n                this.loadActivites();\r\n            })\r\n            .catch(() => {\r\n                this.$router.push({ path: '/', query: { error: 1 }});\r\n            })\r\n        } else if (this.state.activities.length == 0) {\r\n            this.loadActivites();\r\n        } else {\r\n            this.loading = false;\r\n        }\r\n    }\r\n\r\n    // Load and parse user's activities (only used for the first time)\r\n    loadActivites(): void {\r\n        fetchActivity(this.state.userData.id, this.state.currentPage, this.state.mediaType)\r\n        .then(resp => {\r\n            this.lastPage = resp.data.Page.pageInfo.lastPage;\r\n            const activities = store.parseActivities(resp.data.Page.activities);\r\n\r\n            if(activities.length == 0) {\r\n                return this.$router.push({ path: '/', query: { error: 1 }});\r\n            }\r\n            // Preload next page of user's activites.\r\n            // It's because next page may contain activity from the last day on the first page, and it's better to display it together. Also for better user experience.\r\n            this.preloadActivites(activities)\r\n            .then(preloaded => {\r\n                store.setPreloadedActivities(preloaded);\r\n\r\n                store.appendActivities(activities);\r\n                this.loading = false;\r\n            })\r\n            \r\n        })\r\n    }\r\n\r\n    loadEarlierActivities(): void {\r\n        // Lock so the user can't smash the button and break it.\r\n        if(this.lock) return;\r\n        this.lock = true;\r\n        store.incrementCurrentPage();\r\n\r\n        const activities = store.appendActivities(this.state.preloadedActivities);\r\n        this.preloadActivites(activities)\r\n        .then(preloaded => {\r\n            store.setPreloadedActivities(preloaded);\r\n\r\n            this.lock = false;\r\n        })\r\n    }\r\n\r\n    // Load the next page of user's activities and save for later use.\r\n    async preloadActivites(activities: ActivityDay[]): Promise<ActivityDay[]> {\r\n        if(this.state.currentPage == this.lastPage) return []; // Reached the end, nothing to preload.\r\n\r\n        const nextPage = await fetchActivity(this.state.userData.id, this.state.currentPage + 1, this.state.mediaType);\r\n        const preloadedActivities = store.parseActivities(nextPage.data.Page.activities);\r\n\r\n        // Looking for duplicates\r\n        // We want to give user a complete summary of a particular day, but sometimes it's continued on the second page.\r\n        // That's why, to complete a particular day, we have to look if it's mentioned on the preloaded page and move (remove from preloaded, add to current) it to currently displayed activities (activities)\r\n        const duplicates = preloadedActivities.filter(x => compareDates(x.day, activities[activities.length - 1].day));\r\n        duplicates.forEach(dup => {\r\n            // Remove from preloaded\r\n            const indexToRemove = preloadedActivities.indexOf(dup);\r\n            preloadedActivities.splice(indexToRemove, 1);\r\n\r\n            // Add to current\r\n            // Find the last element (last day present on current page) and \"merge\" it with dup\r\n            const old = activities[activities.length - 1];\r\n            old.media = old.media.concat(dup.media);\r\n            old.episodes += dup.episodes;\r\n            old.chapters += dup.chapters;\r\n        });\r\n\r\n        return preloadedActivities;\r\n    }\r\n\r\n    toggleSidebar(): void {\r\n        this.showSidebar = !this.showSidebar\r\n    }\r\n\r\n}\r\n\r\n","import { render } from \"./User.vue?vue&type=template&id=0e7db736&scoped=true\"\nimport script from \"./User.vue?vue&type=script&lang=ts\"\nexport * from \"./User.vue?vue&type=script&lang=ts\"\n\nimport \"./User.vue?vue&type=style&index=0&id=0e7db736&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0e7db736\"\n\nexport default script","<template>\r\n    <div>\r\n        <h3>How does it work?</h3>\r\n        AniList has a small feature called \"Activity\". Each time you watch an episode, add something to your planning list, an activity is created. anistats takes adventage of that to count how many episodes you've seen on a specific day.\r\n        <h3>Why it doesn't work?</h3>\r\n        <h4>Activity Merge Time</h4>\r\n        <img src=\"@/assets/merge.png\">\r\n        <br>\r\n        <b>It has to be set to 12 hours or less for anistats to work properly</b> (in most use cases). If you set it to 'Always', it produces <b>one activity per anime</b>, no matter how long it took you to watch it. For anistats, it's best if there is <b>at least one activity per anime per day.</b>\r\n        <br>\r\n        Note: changing it won't affect previous activities.\r\n        <br><br>\r\n        Also, you have to add episodes using this little '+' symbol next to the episode count instead of setting it directly from the 'Edit' menu.\r\n        <br>\r\n        Let's say you've started a new series yesterday and watched 3 episodes so far. \r\n        Today, after watching 3 next episodes, you set the episode count directly to '6'. AniList creates an activity saying that you've watched episode 6. anistats counts that as <b>one</b> episode.\r\n        <br>\r\n        If you click the '+' symbol three times instead, the activity says that you've watched episodes 4-6. anistats sees that correctly as 3 episodes.\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({})\r\nexport default class Help extends Vue {\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nimg {\r\n    max-width: 100%;\r\n}\r\n</style>","\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({})\r\nexport default class Help extends Vue {\r\n\r\n}\r\n","import { render } from \"./Help.vue?vue&type=template&id=a019906c&scoped=true\"\nimport script from \"./Help.vue?vue&type=script&lang=ts\"\nexport * from \"./Help.vue?vue&type=script&lang=ts\"\n\nimport \"./Help.vue?vue&type=style&index=0&id=a019906c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-a019906c\"\n\nexport default script","<template>\r\n    <div>\r\n        <h2>About</h2>\r\n        <p>anistats is an extension for AniList that lets you check how much time you spend/waste on watching anime and reading manga based on your activities.</p>\r\n        <p>Source code of this site is available <a href=\"https://github.com/pizza61/anistats2\">here</a>.</p>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Vue } from 'vue-class-component';\r\n\r\nexport default class About extends Vue {\r\n\r\n}\r\n</script>","\r\nimport { Vue } from 'vue-class-component';\r\n\r\nexport default class About extends Vue {\r\n\r\n}\r\n","import { render } from \"./About.vue?vue&type=template&id=eae53040\"\nimport script from \"./About.vue?vue&type=script&lang=ts\"\nexport * from \"./About.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\r\n    <div class=\"main\">\r\n        <transition name=\"popup-backdrop\">\r\n            <div class=\"popup\" v-if=\"showTooltip\" @click=\"popupHide\"></div>\r\n        </transition>\r\n        \r\n        <div class=\"left\">\r\n            <DataRange @loadRequest=\"load\"></DataRange>\r\n            <Calendar @popup=\"showPopup\" @error=\"showError\" @dynamicPopup=\"fetchPopup\"></Calendar>\r\n            <div class=\"tooltipct\">\r\n                <transition name=\"easein\" mode=\"in-out\">\r\n                    <div v-if=\"showTooltip\" class=\"tooltip\">\r\n                        <Tooltip :day=\"tooltipActivities\" @close=\"popupHide\" :loading=\"popupLoading\"></Tooltip>\r\n                    </div>\r\n            </transition>\r\n            </div>\r\n            \r\n        </div>\r\n        <DetailsContainer @loadRequest=\"load\"></DetailsContainer>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport store from '@/store/store';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport DetailsContainer from '@/components/User/Details/DetailsContainer.vue';\r\nimport Calendar from './Calendar.vue';\r\nimport DataRange from './DataRange.vue'\r\nimport Tooltip from './Tooltip.vue';\r\n\r\nimport { ActivityDay } from '@/interfaces/activity';\r\nimport { fetchActivity } from '@/store/api';\r\n\r\n@Options({\r\n    components: { DetailsContainer, Calendar, Tooltip, DataRange }\r\n})\r\nexport default class Main extends Vue {\r\n    state = store.state;\r\n\r\n    showTooltip: boolean = false;\r\n    tooltipActivities: ActivityDay = {} as ActivityDay;\r\n\r\n    popupLoading: boolean = false;\r\n\r\n    load(): void {\r\n        this.$emit('loadRequest');\r\n    }\r\n\r\n    // Show popup using already loaded data\r\n    showPopup(e: { activities: ActivityDay, event: MouseEvent }): void {\r\n        this.showTooltip = false;\r\n        this.tooltipActivities = e.activities;\r\n        \r\n        this.showTooltip = true;\r\n    }\r\n\r\n    // Show popup having loaded data\r\n    fetchPopup(e: { event: MouseEvent, d: number, m: number, y: number}): void {\r\n        this.popupLoading = true;\r\n        this.showTooltip = true;\r\n        let date = new Date(e.y, e.m-1, e.d);\r\n\r\n        // Get timestamp of the beginning and the end of this day.\r\n        // Converting to AniList time and adding hours according to user's preferences.\r\n        const begin = (date.getTime()/1000)+this.state.updateHour*3600;\r\n        const end = begin+86400; // add 24 hours to the beginning timestamp\r\n        \r\n        fetchActivity(this.state.userData.id, 1, this.state.mediaType, begin, end)\r\n        .then(resp => {\r\n            const activities = store.parseActivities(resp.data.Page.activities);\r\n            this.tooltipActivities = activities[0];\r\n\r\n            if(activities.length == 0) this.showTooltip = false;\r\n            else this.popupLoading = false;\r\n        })\r\n    }\r\n\r\n    showError(e: any): void {\r\n        console.log(e);\r\n    }\r\n\r\n    popupHide(): void {\r\n        this.showTooltip = false;\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.left {\r\n    margin: 12.944px 10px;\r\n}\r\n\r\n@media screen and (min-width: 901px) {\r\n    .left {\r\n        margin-right: 15px;\r\n    }\r\n}\r\n\r\n.tooltip {\r\n    z-index: 2;\r\n    flex-grow: 1;\r\n    max-width: 100%;\r\n}\r\n\r\n.tooltipct {\r\n    z-index: 2;\r\n}\r\n\r\nbutton {\r\n    align-self: flex-start;\r\n}\r\n\r\n.popup {\r\n    position: fixed;\r\n    bottom: 0;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n}\r\n\r\n\r\n// POPUP\r\n\r\n.popup {\r\n    z-index: 2;\r\n    background: rgba(0,0,0,.7);\r\n}\r\n\r\n.popup-enter-from, .popup-leave-to {\r\n    opacity: 0;\r\n}\r\n\r\n.popup-enter-active, .popup-leave-active {\r\n    transition: .1s ease-in-out;\r\n}\r\n\r\n// transitions\r\n\r\n.easein-enter-from, .easein-leave-to {\r\n    opacity: 0;\r\n    transform: scale(0.9);\r\n}\r\n\r\n.easein-enter-active, .easein-leave-active {\r\n    transition: .2s ease;\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n    .tooltipct {\r\n        position: fixed;\r\n        bottom: 10px;\r\n        left: 10px;\r\n        right: 10px;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 901px) {\r\n    .main {\r\n        display: grid;\r\n        grid-template-columns: 55% 45%;\r\n    }\r\n\r\n    .tooltipct {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n}\r\n</style>","<template>\r\n    <div class=\"details\">\r\n        <div class=\"title\">\r\n            Timeline\r\n        </div>\r\n        <div class=\"group\" v-for=\"(day, i) in state.activities\" :key=\"i\">\r\n            <div class=\"group-header\">\r\n                <div class=\"date-group\">\r\n                    <span class=\"weekday\">{{ day.day.weekday }}</span>\r\n                    <span class=\"date\">{{ prettyDate(day.day) }}</span>\r\n                </div>\r\n                \r\n                <span style=\"flex: 1\"></span>\r\n                <div class=\"prop\" v-if=\"state.mediaType != 'anime'\">\r\n                    <div class=\"prop-value\">{{ day.chapters }}</div>\r\n                    <div class=\"prop-desc\">chapters</div>\r\n                </div>\r\n                <div class=\"prop\" v-if=\"state.mediaType != 'manga'\">\r\n                    <div class=\"prop-value\">{{ day.episodes }}</div>\r\n                    <div class=\"prop-desc\">episodes</div>\r\n                </div>\r\n            </div>\r\n            <SeriesItem v-for=\"(media, i) in day.media\" :key=\"i\" :media=\"media\"></SeriesItem>\r\n        </div>\r\n        <button class=\"button group\" @click=\"$emit('loadRequest')\">\r\n            More...\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport store from '@/store/store';\r\nimport { prettyDate } from '@/store/helpers';\r\n\r\nimport SeriesItem from './SeriesItem.vue';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    components: { SeriesItem }\r\n})\r\nexport default class DetailsContainer extends Vue {\r\n    state = store.state;\r\n    prettyDate = prettyDate \r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@media screen and (min-width: 901px) {\r\n    .details {\r\n        padding: 12.944px;\r\n        background: var(--color-selected-background);\r\n        border-left: 1px solid var(--color-background-border);\r\n    }\r\n}\r\n\r\n.title {\r\n    margin-bottom: 12.944px;\r\n    font-weight: 500;\r\n    font-size: 1.2em;\r\n}\r\n\r\n.group {\r\n    box-shadow: 0 4px 10px rgba(0,0,0,.25);\r\n    background: var(--color-background);\r\n    border-radius: var(--radius);\r\n    overflow: hidden;\r\n\r\n    margin-bottom: 12.944px;\r\n}\r\n\r\n.group-header {\r\n    background: var(--color-background-darker);\r\n    border-radius: var(--radius);\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    padding: 8px 12.944px;\r\n}\r\n\r\n.weekday {\r\n    display: block;\r\n    font-size: 0.86em;\r\n    padding-right: 3px;\r\n    color: var(--color-text-secondary);\r\n}\r\n\r\n.date {\r\n    display: block;\r\n    font-weight: 500;\r\n}\r\n\r\n.button {\r\n    appearance: none;\r\n    font: inherit;\r\n    color: inherit;\r\n    outline: none;\r\n    border: none;\r\n    display: block;\r\n\r\n    background: var(--color-background-darker);\r\n    border-radius: var(--radius);\r\n    text-align: center;\r\n    padding: 12px;\r\n    width: 100%;\r\n    font-weight: 500;\r\n\r\n    transition: .2s;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        background: var(--color-selected-background);\r\n        color: var(--color-selected-text);\r\n    }\r\n}\r\n</style>","<template>\r\n    <div class=\"item-wrapper\">\r\n        <div class=\"item\" @click=\"toggleDisplay\">\r\n            <img class=\"image\" :alt=\"'Cover image of '+media.title\" :src=\"media.cover\">\r\n            <span class=\"title\" :title=\"media.title\">{{ media.title }}</span>\r\n            <span style=\"flex: 1;\"></span>\r\n            <div class=\"prop\">\r\n                <span class=\"prop-value\">{{ media.episodes }}</span>\r\n                <span class=\"prop-desc\">{{ media.type === 'ANIME' ? 'episodes' : 'chapters' }}</span>\r\n            </div>\r\n        </div>\r\n        <transition name=\"details\">\r\n            <SeriesDetails v-if=\"details && !hide\" :media=\"media\"></SeriesDetails>\r\n        </transition>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue';\r\nimport SeriesDetails from './SeriesDetails.vue';\r\n\r\nexport default defineComponent({\r\n    props: {\r\n        media: Object,\r\n        hide: Boolean\r\n    },\r\n\r\n    components: { SeriesDetails },\r\n\r\n    data() {\r\n        return {\r\n            details: false\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        hide: function(val) {\r\n            this.details = !val;\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        toggleDisplay(): void {\r\n            this.$emit('toggle');\r\n            this.details = !this.details;\r\n        }\r\n    }\r\n\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.item {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    transition: .2s;\r\n    cursor: pointer;\r\n\r\n    padding: 10px 2px 10px 12px; \r\n\r\n    &:hover {\r\n        background: var(--color-selected-background);\r\n        color: var(--color-selected-text);\r\n    }\r\n}\r\n\r\n.image {\r\n    object-fit: cover;\r\n    border-radius: 3px;\r\n    min-width: 36px;\r\n    width: 36px;\r\n    height: 36px;\r\n\r\n    margin-right: 12px;\r\n}\r\n\r\n.title {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.details-enter-from, .details-leave-to {\r\n    transform: scale(0.9);\r\n    opacity: 0;\r\n}\r\n.details-enter-active, .details-leave-active {\r\n    transition: .2s ease;\r\n}\r\n</style>","<template>\r\n    <div v-if=\"loading\">\r\n        <CheapLoading></CheapLoading>\r\n    </div>\r\n    <div class=\"entries\" v-else>\r\n        <div class=\"entry header\">\r\n            <div class=\"entry-date\">\r\n                {{ added }}\r\n            </div>\r\n            <div class=\"entry-value\">\r\n                Added\r\n            </div>\r\n        </div>\r\n        <div class=\"entry\" v-for=\"(day, i) in activities\" :key=\"i\">\r\n            <div class=\"entry-date\">\r\n                {{ prettyDate(day.day)}}\r\n            </div>\r\n            <div class=\"entry-prop\">\r\n                <span class=\"entry-value\">{{ media.type == 'ANIME' ? day.episodes : day.chapters }}</span>\r\n                <span class=\"entry-desc\">{{ media.type == 'ANIME' ? ' episodes' : ' chapters' }}</span>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport store, { weekdays } from '@/store/store';\r\n\r\nimport { ActivityDate, ActivityDay, ActivityMedia } from '@/interfaces/activity';\r\nimport CheapLoading from '@/components/CheapLoading.vue';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { fetchMedia } from '@/store/api';\r\nimport { findAddedDate, prettyDate } from '@/store/helpers';\r\n\r\n@Options({\r\n    props: {\r\n        media: {} as ActivityMedia\r\n    },\r\n    components: { CheapLoading }\r\n})\r\nexport default class SeriesDetails extends Vue {\r\n    media!: ActivityMedia;\r\n    state = store.state;\r\n    prettyDate = prettyDate;\r\n\r\n    activities: ActivityDay[] = [];\r\n    added: string = \"Unknown\";\r\n\r\n    loading: boolean = true;\r\n\r\n    mounted(): void {\r\n        fetchMedia(this.state.userData.id, this.media.id)\r\n        .then(resp => {\r\n            const rawActivities = resp.data.Page.activities;\r\n            this.activities = store.parseActivities(rawActivities);\r\n\r\n            if(typeof this.media.added == 'undefined') {\r\n                this.added = findAddedDate(rawActivities);   \r\n            } else {\r\n                this.added = (this.media.added.time == 0 ? 'Unknown' : prettyDate(this.media.added));\r\n            }\r\n\r\n            this.loading = false;\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n    display: flex;\r\n    padding: 8px;\r\n    border-bottom: 1px solid var(--color-selected-text);\r\n\r\n    font-weight: 500;\r\n}\r\n\r\n.entry {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n\r\n    //border-bottom: 1px solid var(--color-background-border);\r\n    padding: 8px;\r\n}\r\n\r\n.entry:nth-child(even) {\r\n    background: var(--color-background-darker);\r\n}\r\n\r\n.entry:last-child {\r\n    border-bottom: none;\r\n    border-bottom-left-radius: var(--radius);\r\n    border-bottom-right-radius: var(--radius);\r\n}\r\n\r\n.entry-date {\r\n    font-size: .86em;\r\n}\r\n\r\n.entry-prop {\r\n    display: flex;\r\n}\r\n\r\n.entry-value {\r\n    margin-right: 3.24px;\r\n}\r\n\r\n.entry-desc {\r\n    color: var(--color-text-secondary);\r\n    font-size: .86em;\r\n}\r\n</style>","<template>\r\n    <div class=\"loading\">\r\n        Loading...\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({})\r\nexport default class Name extends Vue {\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.loading {\r\n    font-weight: 500;\r\n    padding: 10px 16px;\r\n}\r\n</style>","\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({})\r\nexport default class Name extends Vue {\r\n\r\n}\r\n","import { render } from \"./CheapLoading.vue?vue&type=template&id=6a308708&scoped=true\"\nimport script from \"./CheapLoading.vue?vue&type=script&lang=ts\"\nexport * from \"./CheapLoading.vue?vue&type=script&lang=ts\"\n\nimport \"./CheapLoading.vue?vue&type=style&index=0&id=6a308708&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6a308708\"\n\nexport default script","\r\nimport store, { weekdays } from '@/store/store';\r\n\r\nimport { ActivityDate, ActivityDay, ActivityMedia } from '@/interfaces/activity';\r\nimport CheapLoading from '@/components/CheapLoading.vue';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { fetchMedia } from '@/store/api';\r\nimport { findAddedDate, prettyDate } from '@/store/helpers';\r\n\r\n@Options({\r\n    props: {\r\n        media: {} as ActivityMedia\r\n    },\r\n    components: { CheapLoading }\r\n})\r\nexport default class SeriesDetails extends Vue {\r\n    media!: ActivityMedia;\r\n    state = store.state;\r\n    prettyDate = prettyDate;\r\n\r\n    activities: ActivityDay[] = [];\r\n    added: string = \"Unknown\";\r\n\r\n    loading: boolean = true;\r\n\r\n    mounted(): void {\r\n        fetchMedia(this.state.userData.id, this.media.id)\r\n        .then(resp => {\r\n            const rawActivities = resp.data.Page.activities;\r\n            this.activities = store.parseActivities(rawActivities);\r\n\r\n            if(typeof this.media.added == 'undefined') {\r\n                this.added = findAddedDate(rawActivities);   \r\n            } else {\r\n                this.added = (this.media.added.time == 0 ? 'Unknown' : prettyDate(this.media.added));\r\n            }\r\n\r\n            this.loading = false;\r\n        })\r\n    }\r\n}\r\n","import { render } from \"./SeriesDetails.vue?vue&type=template&id=15c2b647&scoped=true\"\nimport script from \"./SeriesDetails.vue?vue&type=script&lang=ts\"\nexport * from \"./SeriesDetails.vue?vue&type=script&lang=ts\"\n\nimport \"./SeriesDetails.vue?vue&type=style&index=0&id=15c2b647&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-15c2b647\"\n\nexport default script","\r\nimport { defineComponent } from 'vue';\r\nimport SeriesDetails from './SeriesDetails.vue';\r\n\r\nexport default defineComponent({\r\n    props: {\r\n        media: Object,\r\n        hide: Boolean\r\n    },\r\n\r\n    components: { SeriesDetails },\r\n\r\n    data() {\r\n        return {\r\n            details: false\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        hide: function(val) {\r\n            this.details = !val;\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        toggleDisplay(): void {\r\n            this.$emit('toggle');\r\n            this.details = !this.details;\r\n        }\r\n    }\r\n\r\n})\r\n","import { render } from \"./SeriesItem.vue?vue&type=template&id=0a8e89d0&scoped=true\"\nimport script from \"./SeriesItem.vue?vue&type=script&lang=ts\"\nexport * from \"./SeriesItem.vue?vue&type=script&lang=ts\"\n\nimport \"./SeriesItem.vue?vue&type=style&index=0&id=0a8e89d0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0a8e89d0\"\n\nexport default script","\r\nimport store from '@/store/store';\r\nimport { prettyDate } from '@/store/helpers';\r\n\r\nimport SeriesItem from './SeriesItem.vue';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    components: { SeriesItem }\r\n})\r\nexport default class DetailsContainer extends Vue {\r\n    state = store.state;\r\n    prettyDate = prettyDate \r\n}\r\n","import { render } from \"./DetailsContainer.vue?vue&type=template&id=2c6cd91e&scoped=true\"\nimport script from \"./DetailsContainer.vue?vue&type=script&lang=ts\"\nexport * from \"./DetailsContainer.vue?vue&type=script&lang=ts\"\n\nimport \"./DetailsContainer.vue?vue&type=style&index=0&id=2c6cd91e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2c6cd91e\"\n\nexport default script","<template>\r\n    <div class=\"calendar\">\r\n        <div class=\"header\">\r\n            <div class=\"header-title\">Calendar</div>\r\n            <span style=\"flex: 1;\"></span>\r\n            <div class=\"header-month\">\r\n                <span class=\"header-monthName\">{{ displayMonth }}</span>\r\n                <span>{{ \" \" }}</span>\r\n                <span class=\"header-year\" @click=\"toggleYearPicker()\" title=\"Click to open year picker\">{{ y }}</span>\r\n            </div>\r\n            <div class=\"header-control\" @click=\"update(-1)\">\r\n                <font-awesome-icon icon=\"chevron-left\"></font-awesome-icon>\r\n            </div>\r\n            <div class=\"header-control\" @click=\"update(1)\">\r\n                <font-awesome-icon icon=\"chevron-right\"></font-awesome-icon>\r\n            </div>\r\n        </div>\r\n        <div class=\"picker\" v-if=\"showYearPicker\">\r\n            <div class=\"pick-item\" v-for=\"year in pickerYears\" :key=\"year\" :class=\"{ selected: year == y }\" @click=\"loadMonth(m-1, year)\">{{ year }}</div>\r\n        </div>\r\n        <div class=\"display\">\r\n            <div class=\"weekdays\">\r\n                <div class=\"weekday\">Sun</div>\r\n                <div class=\"weekday\">Mon</div>\r\n                <div class=\"weekday\">Tue</div>\r\n                <div class=\"weekday\">Wed</div>\r\n                <div class=\"weekday\">Thu</div>\r\n                <div class=\"weekday\">Fri</div>\r\n                <div class=\"weekday\">Sat</div>\r\n            </div>\r\n            <div class=\"days\">\r\n                <div class=\"day\" \r\n                    v-for=\"(day, i) in days\" :key=\"i\" \r\n                    :style=\"(day.n == 1 ? { gridColumn: firstWeekday+1 } : '')\" \r\n                    @click=\"handleClick($event, day)\"\r\n                    :title=\"`${displayMonth} ${day.n}, ${y}\\nClick to see activities on this day.${day.notLoaded || day.notYetHappened ? '\\nIf you want to have colored background here, click Load more button below until it appears.' : ''}`\">\r\n                    <div class=\"day-bg\" :style=\"{ opacity: getOpacity(day.episodes) }\"></div>\r\n                    <div class=\"day-label\" :style=\"{ opacity: (day.notLoaded || day.notYetHappened ? '0.5' : '' ) }\">{{ day.n }}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</template>\r\n\r\n<script lang=\"ts\">\r\n// MESS WARNING\r\n// using normal syntax because I'm dumb or 'vue-class-component' sucks and doesn't work with vue 3\r\n// (as much as I'm tempted to assume the former, it turns out that it's the latter)\r\n\r\nimport { defineComponent } from 'vue';\r\nimport store from '@/store/store';\r\nimport { ActivityDay } from '@/interfaces/activity';\r\n\r\nexport default defineComponent({\r\n    data() {\r\n        return {\r\n            state: store.state,\r\n            days: [] as any,\r\n\r\n            y: 2021,\r\n            m: 0 as number,\r\n\r\n            displayMonth!: \"\",\r\n            firstWeekday!: 0,\r\n            max: 0,\r\n\r\n            showYearPicker: false,\r\n            pickerYears: [] as number[]\r\n        }\r\n    },\r\n\r\n    mounted: function(): void {\r\n        const now = new Date();\r\n\r\n        this.m = now.getMonth();\r\n        this.y = now.getFullYear();\r\n\r\n        this.preparePickers();\r\n        this.loadMonth(this.m, this.y);\r\n    },\r\n\r\n    computed: {\r\n        activities(): ActivityDay[] {\r\n            return this.state.activities\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        activities() {\r\n            this.loadMonth(this.m - 1, this.y)\r\n        }\r\n    },\r\n    \r\n    methods: {\r\n        loadMonth(m: number, y: number): void { // m is NOT human-readable (Jan = 0) as opposed to this.m\r\n            // Clear current display\r\n            this.days.length = 0;\r\n\r\n            // Load the first day of the month\r\n            let firstDay = new Date(y, m, 1);\r\n\r\n            // Get day of the week of the first day\r\n            this.firstWeekday = firstDay.getDay();\r\n\r\n            // Figure out how many days there are in this month\r\n            const count = this.daysInMonth(m, y);\r\n\r\n            // Figure out on which day the user has watched most episodes (used for colors)\r\n            this.max = Math.max.apply(Math, this.state.activities.map(x => x.episodes + x.chapters)); // TODO episode/chapter distinction\r\n\r\n            const latestActivity = this.state.activities[0];\r\n            let latestDay: number = 32;\r\n\r\n            const lastActivity = this.state.activities[this.state.activities.length - 1]; \r\n            let lastDay: number = 0; // last day number currently present in activities array\r\n            \r\n            if(lastActivity.day.m == m+1 && lastActivity.day.y == y) {\r\n                lastDay = lastActivity.day.d;\r\n            } else if (lastActivity.day.m > m+1 && lastActivity.day.y == y) {\r\n                lastDay = 32;\r\n            } else if (lastActivity.day.y > y) {\r\n                lastDay = 32;\r\n            }\r\n\r\n            if(latestActivity.day.m == m+1 && latestActivity.day.y == y) {\r\n                latestDay = latestActivity.day.d;\r\n            } else if (latestActivity.day.m < m+1 && latestActivity.day.y == y) {\r\n                latestDay = 0;\r\n            } else if (latestActivity.day.y < y) {\r\n                latestDay = 0;\r\n            }\r\n\r\n            for (let i = 1; i <= count; i++) {\r\n                const activities = this.state.activities.find(x => x.day.d == i && x.day.m == m+1 && x.day.y == y);\r\n                this.days.push({\r\n                    n: i,\r\n                    activities,\r\n                    notLoaded: !activities && i < lastDay,\r\n                    notYetHappened: i > latestDay,\r\n                    //empty: !activities && (i < lastDay || i > latestDay),\r\n                    episodes: (activities ? activities.episodes + activities.chapters : 0)\r\n                })\r\n            }\r\n\r\n            // Change displayed date\r\n            this.m = m+1;\r\n            this.y = y;\r\n            this.displayMonth = new Intl.DateTimeFormat('default', { month: 'long' }).format(firstDay);\r\n        },\r\n\r\n        // handleClick: show popup containing activities on a specific day\r\n        handleClick(event: MouseEvent, day: any) { // TODO get rid of any\r\n            if(day.activities) { // the day has activities loaded\r\n                this.$emit('popup', {\r\n                    event,\r\n                    activities: day.activities\r\n                })\r\n            } else if (!day.activities && !day.notLoaded) { // the day has no activities, but is within loaded range\r\n                this.$emit('error', \"There are no activities present on this day.\")\r\n            } else if (!day.notYetHappened) { // the day is not within loaded range\r\n                this.$emit('dynamicPopup', {\r\n                    event,\r\n                    d: day.n,\r\n                    m: this.m,\r\n                    y: this.y\r\n                })\r\n            }\r\n        },\r\n\r\n        update(change: number): void {\r\n            if(change > 0) {\r\n                if (this.m + 1 > 12) {\r\n                    this.y++;\r\n                    this.loadMonth(0, this.y)\r\n                } else {\r\n                    this.loadMonth(this.m, this.y);\r\n                }\r\n            } else {\r\n                if (this.m - 1 < 1) {\r\n                    this.y--;\r\n                    this.loadMonth(11, this.y);\r\n                } else {\r\n                    this.loadMonth(this.m-2, this.y);\r\n                }\r\n            }\r\n        },\r\n\r\n        toggleYearPicker() {\r\n            this.showYearPicker = !this.showYearPicker;\r\n        },\r\n\r\n        preparePickers() {\r\n            // Prepare year picker\r\n            this.pickerYears = [this.y-3, this.y-2, this.y-1, this.y]\r\n        },\r\n\r\n        daysInMonth(m: number, y: number): number {\r\n            switch (m) {\r\n                case 1 :\r\n                    return (y % 4 == 0 && y % 100) || y % 400 == 0 ? 29 : 28;\r\n                case 8 : case 3 : case 5 : case 10 :\r\n                    return 30;\r\n                default :\r\n                    return 31\r\n            }\r\n        },\r\n\r\n        getOpacity(count: number): number {\r\n            const ratio = count / this.max;\r\n\r\n            if (ratio == 0) return 0;\r\n            else if (ratio < 0.15) return 0.15;\r\n            else return ratio;\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.calendar {\r\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);\r\n\r\n    border-radius: var(--radius);\r\n    padding-bottom: 4px;\r\n\r\n    margin-bottom: 12.944px;\r\n}\r\n\r\n.header {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 10px 16px;\r\n\r\n    background: var(--color-background-darker);\r\n    border-radius: var(--radius);\r\n}\r\n\r\n.header-title {\r\n    font-weight: 500;\r\n    font-size: 1.2em;\r\n}\r\n\r\n.header-month {\r\n    padding: 3px 12px;\r\n    margin: 0 3px;\r\n    font-weight: 500;\r\n    text-align: center;\r\n    background: var(--color-background-darker);\r\n    border-radius: 3px;\r\n}\r\n\r\n.header-year {\r\n    cursor: pointer;\r\n    \r\n    &:hover {\r\n        color: var(--color-selected-text);\r\n        text-decoration: underline;\r\n    }\r\n}\r\n\r\n.header-control {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 50px;\r\n    height: 29px;\r\n\r\n    text-align: center;\r\n    border-radius: 3px;\r\n\r\n    user-select: none;\r\n    transition: .2s;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        background: var(--color-selected-background);\r\n        color: var(--color-selected-text);\r\n    }\r\n\r\n    &:active {\r\n        opacity: 0.7;\r\n    }\r\n}\r\n\r\n.picker {\r\n    display: flex;\r\n}\r\n\r\n.pick-item {\r\n    padding: 8px;\r\n    margin: 4px;\r\n    border-radius: var(--radius);\r\n    font-weight: 500;\r\n\r\n    flex-grow: 1;\r\n    text-align: center;\r\n\r\n    cursor: pointer;\r\n}\r\n\r\n.selected {\r\n    background: var(--color-selected-background);\r\n    color: var(--color-selected-text);\r\n}\r\n\r\n.days, .weekdays {\r\n    display: grid;\r\n    grid-template-columns: repeat(7, 1fr);\r\n\r\n    margin: 0 5px;\r\n    font-size: .89em;\r\n}\r\n\r\n.day {\r\n    padding: 12px 12px 8px 12px;\r\n    margin: 2px;\r\n    border: 1px solid transparent;\r\n\r\n    border-radius: 4px;\r\n    text-align: center;\r\n    font-weight: 500;\r\n    \r\n    display: flex;\r\n    justify-content: center;\r\n\r\n    cursor: pointer;\r\n    user-select: none;\r\n\r\n    position: relative;\r\n    transition: border .2s, opacity .2s;\r\n\r\n\r\n    &:hover {\r\n        border: 1px solid var(--color-background-day);\r\n    }\r\n\r\n    &:active {\r\n        opacity: 0.8;\r\n    }\r\n}\r\n\r\n.weekday {\r\n    text-align: center;\r\n    font-weight: 600;\r\n\r\n    border-bottom: 1px solid var(--color-background-border);\r\n    padding: 12px;\r\n}\r\n\r\n.day-bg {\r\n    background: var(--color-background-day);\r\n    position: absolute;\r\n    border-radius: 4px;\r\n\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n\r\n    z-index: 0;\r\n}\r\n\r\n.day-label {\r\n    z-index: 1;\r\n}\r\n</style>","\r\n// MESS WARNING\r\n// using normal syntax because I'm dumb or 'vue-class-component' sucks and doesn't work with vue 3\r\n// (as much as I'm tempted to assume the former, it turns out that it's the latter)\r\n\r\nimport { defineComponent } from 'vue';\r\nimport store from '@/store/store';\r\nimport { ActivityDay } from '@/interfaces/activity';\r\n\r\nexport default defineComponent({\r\n    data() {\r\n        return {\r\n            state: store.state,\r\n            days: [] as any,\r\n\r\n            y: 2021,\r\n            m: 0 as number,\r\n\r\n            displayMonth!: \"\",\r\n            firstWeekday!: 0,\r\n            max: 0,\r\n\r\n            showYearPicker: false,\r\n            pickerYears: [] as number[]\r\n        }\r\n    },\r\n\r\n    mounted: function(): void {\r\n        const now = new Date();\r\n\r\n        this.m = now.getMonth();\r\n        this.y = now.getFullYear();\r\n\r\n        this.preparePickers();\r\n        this.loadMonth(this.m, this.y);\r\n    },\r\n\r\n    computed: {\r\n        activities(): ActivityDay[] {\r\n            return this.state.activities\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        activities() {\r\n            this.loadMonth(this.m - 1, this.y)\r\n        }\r\n    },\r\n    \r\n    methods: {\r\n        loadMonth(m: number, y: number): void { // m is NOT human-readable (Jan = 0) as opposed to this.m\r\n            // Clear current display\r\n            this.days.length = 0;\r\n\r\n            // Load the first day of the month\r\n            let firstDay = new Date(y, m, 1);\r\n\r\n            // Get day of the week of the first day\r\n            this.firstWeekday = firstDay.getDay();\r\n\r\n            // Figure out how many days there are in this month\r\n            const count = this.daysInMonth(m, y);\r\n\r\n            // Figure out on which day the user has watched most episodes (used for colors)\r\n            this.max = Math.max.apply(Math, this.state.activities.map(x => x.episodes + x.chapters)); // TODO episode/chapter distinction\r\n\r\n            const latestActivity = this.state.activities[0];\r\n            let latestDay: number = 32;\r\n\r\n            const lastActivity = this.state.activities[this.state.activities.length - 1]; \r\n            let lastDay: number = 0; // last day number currently present in activities array\r\n            \r\n            if(lastActivity.day.m == m+1 && lastActivity.day.y == y) {\r\n                lastDay = lastActivity.day.d;\r\n            } else if (lastActivity.day.m > m+1 && lastActivity.day.y == y) {\r\n                lastDay = 32;\r\n            } else if (lastActivity.day.y > y) {\r\n                lastDay = 32;\r\n            }\r\n\r\n            if(latestActivity.day.m == m+1 && latestActivity.day.y == y) {\r\n                latestDay = latestActivity.day.d;\r\n            } else if (latestActivity.day.m < m+1 && latestActivity.day.y == y) {\r\n                latestDay = 0;\r\n            } else if (latestActivity.day.y < y) {\r\n                latestDay = 0;\r\n            }\r\n\r\n            for (let i = 1; i <= count; i++) {\r\n                const activities = this.state.activities.find(x => x.day.d == i && x.day.m == m+1 && x.day.y == y);\r\n                this.days.push({\r\n                    n: i,\r\n                    activities,\r\n                    notLoaded: !activities && i < lastDay,\r\n                    notYetHappened: i > latestDay,\r\n                    //empty: !activities && (i < lastDay || i > latestDay),\r\n                    episodes: (activities ? activities.episodes + activities.chapters : 0)\r\n                })\r\n            }\r\n\r\n            // Change displayed date\r\n            this.m = m+1;\r\n            this.y = y;\r\n            this.displayMonth = new Intl.DateTimeFormat('default', { month: 'long' }).format(firstDay);\r\n        },\r\n\r\n        // handleClick: show popup containing activities on a specific day\r\n        handleClick(event: MouseEvent, day: any) { // TODO get rid of any\r\n            if(day.activities) { // the day has activities loaded\r\n                this.$emit('popup', {\r\n                    event,\r\n                    activities: day.activities\r\n                })\r\n            } else if (!day.activities && !day.notLoaded) { // the day has no activities, but is within loaded range\r\n                this.$emit('error', \"There are no activities present on this day.\")\r\n            } else if (!day.notYetHappened) { // the day is not within loaded range\r\n                this.$emit('dynamicPopup', {\r\n                    event,\r\n                    d: day.n,\r\n                    m: this.m,\r\n                    y: this.y\r\n                })\r\n            }\r\n        },\r\n\r\n        update(change: number): void {\r\n            if(change > 0) {\r\n                if (this.m + 1 > 12) {\r\n                    this.y++;\r\n                    this.loadMonth(0, this.y)\r\n                } else {\r\n                    this.loadMonth(this.m, this.y);\r\n                }\r\n            } else {\r\n                if (this.m - 1 < 1) {\r\n                    this.y--;\r\n                    this.loadMonth(11, this.y);\r\n                } else {\r\n                    this.loadMonth(this.m-2, this.y);\r\n                }\r\n            }\r\n        },\r\n\r\n        toggleYearPicker() {\r\n            this.showYearPicker = !this.showYearPicker;\r\n        },\r\n\r\n        preparePickers() {\r\n            // Prepare year picker\r\n            this.pickerYears = [this.y-3, this.y-2, this.y-1, this.y]\r\n        },\r\n\r\n        daysInMonth(m: number, y: number): number {\r\n            switch (m) {\r\n                case 1 :\r\n                    return (y % 4 == 0 && y % 100) || y % 400 == 0 ? 29 : 28;\r\n                case 8 : case 3 : case 5 : case 10 :\r\n                    return 30;\r\n                default :\r\n                    return 31\r\n            }\r\n        },\r\n\r\n        getOpacity(count: number): number {\r\n            const ratio = count / this.max;\r\n\r\n            if (ratio == 0) return 0;\r\n            else if (ratio < 0.15) return 0.15;\r\n            else return ratio;\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./Calendar.vue?vue&type=template&id=7d7037b4&scoped=true\"\nimport script from \"./Calendar.vue?vue&type=script&lang=ts\"\nexport * from \"./Calendar.vue?vue&type=script&lang=ts\"\n\nimport \"./Calendar.vue?vue&type=style&index=0&id=7d7037b4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-7d7037b4\"\n\nexport default script","<template>\r\n    <div class=\"datarange\">\r\n      <div class=\"header-title\">Data range</div>\r\n        <span style=\"flex: 1;\"></span>\r\n        <div class=\"header-button\" @click=\"$emit('loadRequest')\">\r\n            <font-awesome-icon icon=\"redo-alt\"></font-awesome-icon>\r\n            <span class=\"button-label\">Load more</span>\r\n        </div>\r\n        <span class=\"header-range\">{{ lastLoadedDay }} - today</span>\r\n        <div class=\"header-button\">\r\n            <font-awesome-icon icon=\"question-circle\"></font-awesome-icon>\r\n        </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue';\r\nimport store from '@/store/store';\r\nimport { prettyDate } from '@/store/helpers';\r\n\r\nexport default defineComponent({\r\n    data() {\r\n        return {\r\n            state: store.state\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        lastLoadedDay(): string {\r\n            return prettyDate(this.state.activities[this.state.activities.length-1].day);\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.datarange {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 8px;\r\n    margin-bottom: 12.944px;\r\n    border-radius: var(--radius);\r\n}\r\n\r\n.header-title {\r\n    font-weight: 500;\r\n    font-size: 1.2em;\r\n    padding: 8px 0;\r\n}\r\n\r\n.header-range {\r\n    font-weight: 500;\r\n    margin: 0 6px;\r\n}\r\n\r\n.header-button {\r\n    padding: 8px;\r\n    \r\n    border-radius: var(--radius);\r\n    background: var(--color-selected-background);\r\n    color: var(--color-selected-text);\r\n    font-weight: 500;\r\n\r\n    transition: background .2s ease;\r\n    cursor: pointer;\r\n    user-select: none;\r\n\r\n    &:hover {\r\n        background: var(--color-background-border);\r\n    }\r\n}\r\n\r\n.button-label {\r\n    margin-left: 6px;\r\n}\r\n</style>","\r\nimport { defineComponent } from 'vue';\r\nimport store from '@/store/store';\r\nimport { prettyDate } from '@/store/helpers';\r\n\r\nexport default defineComponent({\r\n    data() {\r\n        return {\r\n            state: store.state\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        lastLoadedDay(): string {\r\n            return prettyDate(this.state.activities[this.state.activities.length-1].day);\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./DataRange.vue?vue&type=template&id=83cd6140&scoped=true\"\nimport script from \"./DataRange.vue?vue&type=script&lang=ts\"\nexport * from \"./DataRange.vue?vue&type=script&lang=ts\"\n\nimport \"./DataRange.vue?vue&type=style&index=0&id=83cd6140&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-83cd6140\"\n\nexport default script","<template>\r\n    <div class=\"tooltip\">\r\n        <div v-if=\"loading\">\r\n            <CheapLoading></CheapLoading>\r\n        </div>\r\n        <div v-else>\r\n            <div class=\"header\">\r\n                <div class=\"header-title\">{{ prettyDate(day.day) }}</div>\r\n                <span style=\"flex: 1\"></span>\r\n                <div class=\"prop\" v-if=\"day.chapters > 0\">\r\n                    <div class=\"prop-value\">{{ day.chapters }}</div>\r\n                    <div class=\"prop-desc\" title=\"chapters\">chapters</div>\r\n                </div>\r\n                <div class=\"prop\" v-if=\"day.episodes > 0\">\r\n                    <div class=\"prop-value\">{{ day.episodes }}</div>\r\n                    <div class=\"prop-desc\" title=\"episodes\">episodes</div>\r\n                </div>\r\n                <div class=\"header-control\" @click=\"close\">\r\n                    <font-awesome-icon icon=\"times\"></font-awesome-icon>\r\n                </div>\r\n            </div>\r\n            <div class=\"content\">\r\n                <SeriesItem v-for=\"(media, i) in day.media\" :key=\"i\" :media=\"media\" @toggle=\"handleClick(i)\" :hide=\"selected != i\"></SeriesItem>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { ActivityDay } from '@/interfaces/activity';\r\nimport { prettyDate } from '@/store/helpers';\r\nimport SeriesItem from '@/components/User/Details/SeriesItem.vue';\r\nimport CheapLoading from '@/components/CheapLoading.vue';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport store from '@/store/store';\r\n\r\n@Options({\r\n    props: {\r\n        day: {} as ActivityDay,\r\n        loading: Boolean\r\n    },\r\n    components: { SeriesItem, CheapLoading }\r\n})\r\nexport default class Tooltip extends Vue {\r\n    state = store.state;\r\n    day!: ActivityDay;\r\n    prettyDate = prettyDate;\r\n    loading: boolean = false;\r\n\r\n    selected: number = -1;\r\n\r\n    close(): void {\r\n        this.$emit('close');\r\n    }\r\n\r\n    handleClick(i: number): void {\r\n        if(this.selected == i) this.selected = -1;\r\n        else this.selected = i;\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tooltip {\r\n    background: var(--color-background);\r\n    border-radius: var(--radius);\r\n}\r\n\r\n.header {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 10px 16px;\r\n\r\n    background: var(--color-background-darker);\r\n    border-radius: var(--radius);\r\n}\r\n\r\n.header-title {\r\n    font-weight: 500;\r\n    font-size: 1em;\r\n}\r\n\r\n.header-control {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    \r\n    width: 29px;\r\n    height: 29px;\r\n\r\n    text-align: center;\r\n    border-radius: 3px;\r\n\r\n    user-select: none;\r\n    transition: .2s;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        background: var(--color-background-secondary);\r\n    }\r\n\r\n    &:active {\r\n        opacity: 0.7;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 901px) {\r\n    .tooltip {\r\n        margin-bottom: 12.944px;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n    .content {\r\n        max-height: 60vh;\r\n        overflow-y: auto;\r\n    }\r\n}\r\n</style>","\r\nimport { ActivityDay } from '@/interfaces/activity';\r\nimport { prettyDate } from '@/store/helpers';\r\nimport SeriesItem from '@/components/User/Details/SeriesItem.vue';\r\nimport CheapLoading from '@/components/CheapLoading.vue';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport store from '@/store/store';\r\n\r\n@Options({\r\n    props: {\r\n        day: {} as ActivityDay,\r\n        loading: Boolean\r\n    },\r\n    components: { SeriesItem, CheapLoading }\r\n})\r\nexport default class Tooltip extends Vue {\r\n    state = store.state;\r\n    day!: ActivityDay;\r\n    prettyDate = prettyDate;\r\n    loading: boolean = false;\r\n\r\n    selected: number = -1;\r\n\r\n    close(): void {\r\n        this.$emit('close');\r\n    }\r\n\r\n    handleClick(i: number): void {\r\n        if(this.selected == i) this.selected = -1;\r\n        else this.selected = i;\r\n    }\r\n}\r\n","import { render } from \"./Tooltip.vue?vue&type=template&id=b4062280&scoped=true\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=ts\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=ts\"\n\nimport \"./Tooltip.vue?vue&type=style&index=0&id=b4062280&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b4062280\"\n\nexport default script","\r\nimport store from '@/store/store';\r\n\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport DetailsContainer from '@/components/User/Details/DetailsContainer.vue';\r\nimport Calendar from './Calendar.vue';\r\nimport DataRange from './DataRange.vue'\r\nimport Tooltip from './Tooltip.vue';\r\n\r\nimport { ActivityDay } from '@/interfaces/activity';\r\nimport { fetchActivity } from '@/store/api';\r\n\r\n@Options({\r\n    components: { DetailsContainer, Calendar, Tooltip, DataRange }\r\n})\r\nexport default class Main extends Vue {\r\n    state = store.state;\r\n\r\n    showTooltip: boolean = false;\r\n    tooltipActivities: ActivityDay = {} as ActivityDay;\r\n\r\n    popupLoading: boolean = false;\r\n\r\n    load(): void {\r\n        this.$emit('loadRequest');\r\n    }\r\n\r\n    // Show popup using already loaded data\r\n    showPopup(e: { activities: ActivityDay, event: MouseEvent }): void {\r\n        this.showTooltip = false;\r\n        this.tooltipActivities = e.activities;\r\n        \r\n        this.showTooltip = true;\r\n    }\r\n\r\n    // Show popup having loaded data\r\n    fetchPopup(e: { event: MouseEvent, d: number, m: number, y: number}): void {\r\n        this.popupLoading = true;\r\n        this.showTooltip = true;\r\n        let date = new Date(e.y, e.m-1, e.d);\r\n\r\n        // Get timestamp of the beginning and the end of this day.\r\n        // Converting to AniList time and adding hours according to user's preferences.\r\n        const begin = (date.getTime()/1000)+this.state.updateHour*3600;\r\n        const end = begin+86400; // add 24 hours to the beginning timestamp\r\n        \r\n        fetchActivity(this.state.userData.id, 1, this.state.mediaType, begin, end)\r\n        .then(resp => {\r\n            const activities = store.parseActivities(resp.data.Page.activities);\r\n            this.tooltipActivities = activities[0];\r\n\r\n            if(activities.length == 0) this.showTooltip = false;\r\n            else this.popupLoading = false;\r\n        })\r\n    }\r\n\r\n    showError(e: any): void {\r\n        console.log(e);\r\n    }\r\n\r\n    popupHide(): void {\r\n        this.showTooltip = false;\r\n    }\r\n}\r\n","import { render } from \"./Main.vue?vue&type=template&id=305167d9&scoped=true\"\nimport script from \"./Main.vue?vue&type=script&lang=ts\"\nexport * from \"./Main.vue?vue&type=script&lang=ts\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=305167d9&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-305167d9\"\n\nexport default script","<template>\r\n    <div class=\"list\">\r\n        <transition name=\"popup-backdrop\">\r\n            <div class=\"popup-backdrop\" v-if=\"showPopup\" @click=\"popupHide\">\r\n                <transition appear name=\"popup\">\r\n                    <Popup :media=\"popupMedia\" @close=\"popupHide\"></Popup>\r\n                </transition>\r\n            </div>\r\n        </transition>\r\n        <div class=\"controls\">\r\n            <div class=\"controls-search\">\r\n                <input class=\"controls-input\" type=\"text\" v-model=\"query\" placeholder=\"Search...\" />\r\n            </div>\r\n            <div class=\"controls-filterGroup\" v-for=\"(filter, i) in filteredFilters\" :key=\"i\">\r\n                <span class=\"filter-name\">{{ filter.name }}: </span>\r\n                <button class=\"filter-button\" title=\"Click to toggle\" :class=\"{ selected: filter.checked.indexOf(value.key) > -1 }\" v-for=\"(value, j) in filter.values\" :key=\"j\" @click=\"toggleFilter(i, value.key)\">{{ typeof value.name === 'undefined' ? ($route.name == \"AnimeList\" ? value.animeName : value.mangaName) : value.name }}</button>\r\n            </div>\r\n        </div>\r\n        <Pagination v-if=\"listLength > 1\" @set=\"navigate\" :max=\"listLength\" :current=\"currentPage\"></Pagination>\r\n        <table cellspacing=\"0\">\r\n            <thead>\r\n                <tr>\r\n                    <th class=\"tableHeader tableHeader-title\">Title</th>\r\n                    <th class=\"tableHeader tableHeader-regular\">Type</th>\r\n                    <th class=\"tableHeader tableHeader-regular table-responsive\">Added</th>\r\n                    <th class=\"tableHeader tableHeader-regular table-responsive\">Completed</th>\r\n                    <th class=\"tableHeader tableHeader-regular table-responsive2\">Status</th>\r\n                    <th class=\"tableHeader\"></th>\r\n                </tr>\r\n            </thead>\r\n            <div class=\"loading\" v-if=\"loading\">\r\n                Loading...\r\n            </div>\r\n            <tbody v-else>\r\n                <tr v-for=\"media in paginatedList\" :key=\"media.id\" class=\"tableRow\" @click=\"popupShow(media)\">\r\n                    <td class=\"tableData tableData-title\">\r\n                        <img v-lazyload class=\"tableData-image\" :data-src=\"media.cover\" width=\"24\" height=\"24\" loading=\"lazy\" />\r\n                        <span>{{ media.title }}</span>\r\n                    </td>\r\n                    <td class=\"tableData tableData-regular\">{{ prettyFormat(media.format) }}</td>\r\n                    <td class=\"tableData tableData-regular table-responsive\">{{ prettyDate(media.added) }}</td>\r\n                    <td class=\"tableData tableData-regular table-responsive\">{{ prettyDate(media.completed) }}</td>\r\n                    <td class=\"tableData tableData-regular table-responsive2\">{{ prettyStatus(media.status) }}</td>\r\n                    <td class=\"tableData tableData-icon\">\r\n                        <div class=\"tableData-iconWrapper\" :style=\"{ color: resolveColor(media.status) }\">\r\n                            <font-awesome-icon :icon=\"resolveIcon(media.status)\" fixed-width />\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <div class=\"loading\" v-if=\"list.length == 0\">\r\n                    No results found. Maybe try changing the filters?\r\n                </div>\r\n            </tbody>\r\n        </table>\r\n        <Pagination v-if=\"listLength > 1\" @set=\"navigate\" :max=\"listLength\" :current=\"currentPage\"></Pagination>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\n\r\nimport store from '@/store/store';\r\nimport { fetchMediaList } from \"@/store/lists\";\r\nimport { prettyDate } from \"@/store/helpers\";\r\n\r\nimport { ActivityMedia } from \"@/interfaces/activity\";\r\nimport { Filter } from '@/interfaces/filters';\r\n\r\nimport Popup from './Popup.vue';\r\nimport Pagination from './Pagination.vue';\r\n\r\nexport default defineComponent({\r\n    components: { Popup, Pagination },\r\n    data() {\r\n        return {\r\n            state: store.state,\r\n            prettyDate: prettyDate,\r\n\r\n            loading: true,\r\n            displayCover: -1,\r\n\r\n            showPopup: false,\r\n            popupMedia: {} as ActivityMedia,\r\n\r\n            pageSize: 100, // size of one page\r\n            currentPage: 0, // we're using computer-friendly numbers here\r\n            listLength: 0,\r\n\r\n            query: \"\",\r\n            filters: [\r\n                {\r\n                    name: \"Status\",\r\n                    key: \"status\",\r\n                    type: \"both\",\r\n                    values: [\r\n                        {\r\n                            animeName: \"Watching\",\r\n                            mangaName: \"Reading\",\r\n                            key: \"CURRENT\"\r\n                        },\r\n                        {\r\n                            animeName: \"Rewatching\",\r\n                            mangaName: \"Rereading\",\r\n                            key: \"REPEATING\"\r\n                        },\r\n                        {\r\n                            name: \"Completed\",\r\n                            key: \"COMPLETED\"\r\n                        },\r\n                        {\r\n                            name: \"Planning\",\r\n                            key: \"PLANNING\"\r\n                        },\r\n                        {\r\n                            name: \"Dropped\",\r\n                            key: \"DROPPED\"\r\n                        },\r\n                        {\r\n                            name: \"Paused\",\r\n                            key: \"PAUSED\"\r\n                        }\r\n                    ],\r\n                    checked: [\"COMPLETED\", \"CURRENT\", \"REPEATING\"]\r\n                },\r\n                {\r\n                    name: \"Type\",\r\n                    key: \"format\",\r\n                    type: \"anime\",\r\n                    values: [\r\n                        {\r\n                            name: \"TV\",\r\n                            key: \"TV\"\r\n                        },\r\n                        {\r\n                            name: \"TV Short\",\r\n                            key: \"TV_SHORT\"\r\n                        },\r\n                        {\r\n                            name: \"Movie\",\r\n                            key: \"MOVIE\"\r\n                        },\r\n                        {\r\n                            name: \"Special\",\r\n                            key: \"SPECIAL\"\r\n                        },\r\n                        {\r\n                            name: \"OVA\",\r\n                            key: \"OVA\"\r\n                        },\r\n                        {\r\n                            name: \"ONA\",\r\n                            key: \"ONA\"\r\n                        },\r\n                        {\r\n                            name: \"Music\",\r\n                            key: \"MUSIC\"\r\n                        }\r\n                    ],\r\n                    checked: [\"TV\", \"TV_SHORT\", \"MOVIE\", \"SPECIAL\", \"OVA\", \"ONA\", \"MUSIC\"]\r\n                },\r\n                {\r\n                    name: \"Type\",\r\n                    key: \"format\",\r\n                    type: \"manga\",\r\n                    values: [\r\n                        {\r\n                            name: \"Manga\",\r\n                            key: \"MANGA\"\r\n                        },\r\n                        {\r\n                            name: \"Light novel\",\r\n                            key: \"NOVEL\"\r\n                        },\r\n                        {\r\n                            name: \"One shot\",\r\n                            key: \"ONE_SHOT\"\r\n                        }\r\n                    ],\r\n                    checked: [\"MANGA\", \"NOVEL\", \"ONE_SHOT\"]\r\n                }\r\n            ]\r\n        }\r\n    },\r\n\r\n    created() {\r\n        this.fetchData();\r\n    },\r\n\r\n    watch: {\r\n        '$route': 'fetchData',\r\n        query() {\r\n            this.currentPage = 0;\r\n\r\n            // Calculate new length\r\n            this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        list(): ActivityMedia[] {\r\n            const raw: ActivityMedia[] = (this.$route.name == \"AnimeList\" ? this.state.animeList : this.state.mangaList);\r\n            \r\n            // For starters, we filter the list by user's search query (if there's none, this function will just do nothing)\r\n            \r\n            let filtered: ActivityMedia[] = raw.filter(item => item.title.toLowerCase().indexOf(this.query.toLowerCase()) > -1);\r\n            \r\n            // Loop through each applicable filter and apply it\r\n            this.filteredFilters.forEach(filter => {\r\n                filtered = filtered.filter((x: any) => filter.checked.indexOf(x[filter.key]) > -1)\r\n            })\r\n            return filtered;\r\n        },\r\n        paginatedList(): ActivityMedia[] {\r\n            return this.list.slice(this.currentPage * this.pageSize, (this.currentPage + 1) * this.pageSize)\r\n        },\r\n        filteredFilters(): Filter[] {\r\n            return this.filters.filter(filter => {\r\n                if(this.$route.name == \"AnimeList\" && filter.type == \"manga\") return false;\r\n                else if(this.$route.name == \"MangaList\" && filter.type == \"anime\") return false;\r\n                else return true;\r\n            });\r\n        }\r\n    },\r\n\r\n    directives: {\r\n        lazyload: {\r\n            mounted(el): any {\r\n                el.src = el.dataset.src;\r\n            }\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        fetchData() {\r\n            // setTimeout is here, because without it, the DOM has a short lag (when the list is large, at least.). That way, the DOM has a lag as well,\r\n            // but it's once 'List' component is visible to the user, and \"Loading...\" label is displayed, which surely improves user experience.\r\n            this.loading = true;\r\n            this.currentPage = 0;\r\n            this.listLength = 0;\r\n            setTimeout(() => {\r\n                if(this.$route.name == \"AnimeList\") {\r\n                    if(this.state.animeList.length == 0) {\r\n                        fetchMediaList(\"ANIME\")\r\n                        .then(list => {\r\n                            store.setAnimeList(list);\r\n                            this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n                            this.loading = false;\r\n                        })\r\n                    } else {\r\n                        this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n                        this.loading = false;\r\n                    }\r\n                } else if (this.$route.name == \"MangaList\") {\r\n                    if(this.state.mangaList.length == 0) {\r\n                        fetchMediaList(\"MANGA\")\r\n                        .then(list => {\r\n                            store.setMangaList(list);\r\n                            this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n                            this.loading = false;\r\n\r\n                        })\r\n                    } else {\r\n                        this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n                        this.loading = false;\r\n                    }\r\n                }\r\n            }, 100)\r\n            \r\n        },\r\n        popupShow(media: ActivityMedia) {\r\n            this.showPopup = true;\r\n            this.popupMedia = media;\r\n        },\r\n        popupHide() {\r\n            this.showPopup = false;\r\n        },\r\n        toggleFilter(index: number, key: string) {\r\n            // Reset view to first page\r\n            this.currentPage = 0;\r\n\r\n            const indexof = this.filteredFilters[index].checked.indexOf(key);\r\n            if(indexof > -1) {\r\n                this.filteredFilters[index].checked.splice(indexof, 1);\r\n            } else {\r\n                this.filteredFilters[index].checked.push(key);\r\n            }\r\n\r\n            // Calculate new length\r\n            this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n        },\r\n        navigate(set: number) {\r\n            if(set < 0) return;\r\n            if(set >= this.listLength) return;\r\n            this.currentPage = set;\r\n        },\r\n        prettyFormat(format: string) {\r\n            if(!format) return '';\r\n            else if(format == 'TV_SHORT') return 'TV Short';\r\n            else if([\"TV\", \"OVA\", \"ONA\"].indexOf(format) > -1) return format; \r\n            else return format[0] + format.slice(1).replace(\"_\", \" \").toLowerCase();\r\n        },\r\n        prettyStatus(status: string) {\r\n            return status[0] + status.slice(1).toLowerCase();\r\n        },\r\n        resolveIcon(status: string) {\r\n            switch(status) {\r\n                case 'CURRENT':\r\n                case 'REPEATING':\r\n                    return 'play'\r\n                case 'DROPPED':\r\n                    return 'stop'\r\n                case 'PAUSED':\r\n                    return 'pause'\r\n                case 'COMPLETED':\r\n                    return 'check'\r\n                default:\r\n                    return 'clock'\r\n                }\r\n        },\r\n        resolveColor(status: string) {\r\n            switch(status) {\r\n                case 'CURRENT':\r\n                    return '#2f754e'\r\n                case 'DROPPED':\r\n                    return '#a44646'\r\n                case 'PAUSED':\r\n                    return '#ad8015'\r\n                case 'COMPLETED':\r\n                    return '#14699b'\r\n                default:\r\n                    return '#595f6e'\r\n            }\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// CONTROLS\r\n.controls-input {\r\n    width: 100%;\r\n    padding: 10px;\r\n\r\n    font-size: 2em;\r\n    border-bottom: 3px solid var(--color-background-border);\r\n}\r\n\r\n.filter-name {\r\n    padding: 4px;\r\n}\r\n\r\n.filter-button {\r\n    appearance: none;\r\n    font: inherit;\r\n    color: inherit;\r\n    background: var(--color-background-secondary);\r\n    outline: none;\r\n    border: none;\r\n\r\n    transition: .2s;\r\n    cursor: pointer;\r\n\r\n    font-weight: 500;\r\n\r\n    padding: 4px 12px;\r\n    margin: 4px;\r\n    border-radius: var(--radius);\r\n}\r\n\r\n.selected {\r\n    background: var(--color-selected-background);\r\n    color: var(--color-selected-text);\r\n}\r\n// TABLE\r\n.tableHeader {\r\n    text-align: left;\r\n}\r\n\r\n.tableRow {\r\n    cursor: pointer;\r\n    transition: .2s;\r\n\r\n    &:nth-child(even) {\r\n        background: var(--color-background-darker);\r\n    }\r\n\r\n    &:hover {\r\n        color: var(--color-text-blue);\r\n    }\r\n}\r\n\r\n.tableData, .tableHeader {\r\n    border-bottom: 2px solid var(--color-background-border);\r\n    //font-size: .9em;\r\n    padding: .5em 1em;\r\n}\r\n\r\n.tableData-title, .tableData-statusWrapper {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.tableData-image {\r\n    width: 24px;\r\n    height: 24px;\r\n    min-width: 24px;\r\n    \r\n    margin-right: 12px;\r\n    border-radius: 6px;\r\n    object-fit: cover;\r\n}\r\n\r\n.tableData-regular {\r\n    text-align: center;\r\n}\r\n\r\n.tableData-iconWrapper {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.tableHeader-title {\r\n    width: 100%;\r\n}\r\n\r\n.tableHeader-regular {\r\n    min-width: 96px;\r\n    text-align: center;\r\n}\r\n\r\n.loading {\r\n    padding: 12px;\r\n}\r\n\r\n// RESPONSIVITY\r\n\r\n\r\n@media screen and (max-width: 780px) {\r\n    .table-responsive {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 472px) {\r\n    .table-responsive2 {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 650px) {\r\n    .controls-filterGroup {\r\n        padding: 10px;\r\n        border-bottom: 3px solid var(--color-selected-background);\r\n    }\r\n\r\n    .filter-name {\r\n        display: block;\r\n        font-weight: 500;\r\n    }\r\n}\r\n</style>","import { ActivityDate, ActivityMedia } from '@/interfaces/activity';\r\nimport { fetchList } from './api';\r\nimport { newActivityDate } from './helpers';\r\nimport store, { weekdays } from './store';\r\n\r\nexport async function fetchMediaList(type: string): Promise<ActivityMedia[]> {\r\n    const r = await fetchList(store.state.userData.id, type)\r\n    const list = r.data.MediaListCollection.lists;\r\n\r\n    // Merge all lists into one, remove custom lists\r\n    const formatted = list.filter((x: any) => !x.isCustomList).map((x: any) => x.entries).flat(1);\r\n\r\n    const final: ActivityMedia[] = formatted.map((x: any): ActivityMedia[] => ({\r\n        ...x.media,\r\n        title: x.media.title.romaji,\r\n        type: x.media.type,\r\n        status: x.status,\r\n        cover: x.media.coverImage.medium,\r\n        banner: x.media.bannerImage,\r\n        progress: x.progress,\r\n        started: mapDates(x.startedAt),\r\n        completed: mapDates(x.completedAt),\r\n        added: newActivityDate(x.createdAt*1000)\r\n    })) \r\n    .sort((a: ActivityMedia, b: ActivityMedia) => a.title.localeCompare(b.title)); // Sort alphabetically\r\n\r\n    return final;\r\n}\r\n\r\n//performance goes brrr\r\nfunction mapDates(y: any): ActivityDate {\r\n    if(y.day == null) {\r\n        return {\r\n            d: 0,\r\n            m: 0,\r\n            y: 0,\r\n            time: 0\r\n        }\r\n    }\r\n\r\n    const date = new Date(y.year, y.month, y.day);\r\n\r\n    return {\r\n        d: y.day,\r\n        m: y.month,\r\n        y: y.year,\r\n        weekday: weekdays[date.getDay()],\r\n        time: date.getTime()\r\n    }\r\n}","<template>\r\n    <div class=\"popup\" @click=\"$event.stopPropagation()\">\r\n        <div class=\"header\" :style=\"{ backgroundImage: 'url('+media.banner+')' }\">\r\n            <img class=\"header-image\" :src=\"media.cover\">\r\n            <a :href=\"'https://anilist.co/'+media.type.toLowerCase()+'/'+media.id\" target=\"_blank\" rel=\"nofollow\"><div class=\"header-title\">{{ media.title }}</div></a>\r\n            <span style=\"flex: 1\"></span>\r\n            <div class=\"header-control\" @click=\"close\">\r\n                <font-awesome-icon icon=\"times\"></font-awesome-icon>\r\n            </div>\r\n        </div>\r\n        <div class=\"content\">\r\n            <SeriesDetails :media=\"media\"></SeriesDetails>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { ActivityMedia } from '@/interfaces/activity';\r\nimport store from '@/store/store';\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\nimport SeriesDetails from '@/components/User/Details/SeriesDetails.vue';\r\n\r\n@Options({\r\n    props: {\r\n        media: {} as ActivityMedia\r\n    },\r\n    components: { SeriesDetails }\r\n})\r\nexport default class Popup extends Vue {\r\n    media!: ActivityMedia;\r\n    state = store.state;\r\n\r\n    close(): void {\r\n        this.$emit('close');\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.popup {\r\n    background: var(--color-background);\r\n    border-radius: var(--radius);\r\n\r\n    z-index: 2;\r\n}\r\n\r\n.header {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    justify-content: center;\r\n    padding: 10px 16px;\r\n\r\n    background: var(--color-background-darker);\r\n    border-radius: var(--radius);\r\n\r\n    height: 100px;\r\n    background-size: cover;\r\n}\r\n\r\n.header-image {\r\n    width: auto;\r\n    height: 80px;\r\n    object-fit: cover;\r\n\r\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);\r\n    border-radius: var(--radius);\r\n    margin-right: 6px;\r\n}\r\n\r\na {\r\n    color: inherit;\r\n}\r\n\r\n.header-title {\r\n    font-weight: 500;\r\n    font-size: 1em;\r\n\r\n    color: white;\r\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);\r\n    padding: 8px;\r\n    border-radius: var(--radius);\r\n}\r\n\r\n.header-control {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    \r\n    width: 29px;\r\n    height: 29px;\r\n\r\n    text-align: center;\r\n    border-radius: 3px;\r\n\r\n    user-select: none;\r\n    transition: .2s;\r\n    cursor: pointer;\r\n\r\n    margin-left: 6px;\r\n\r\n    &:hover {\r\n        background: var(--color-background-secondary);\r\n    }\r\n\r\n    &:active {\r\n        opacity: 0.7;\r\n    }\r\n}\r\n\r\n.header-title, .header-control {\r\n    background: rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.content {\r\n    max-height: 70vh;\r\n    overflow-y: auto;\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n    .popup {\r\n        margin: 10px;\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n@media screen and (min-width: 901px) {\r\n    .popup {\r\n        min-width: 500px;\r\n    }\r\n}\r\n</style>","\r\nimport { ActivityMedia } from '@/interfaces/activity';\r\nimport store from '@/store/store';\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\nimport SeriesDetails from '@/components/User/Details/SeriesDetails.vue';\r\n\r\n@Options({\r\n    props: {\r\n        media: {} as ActivityMedia\r\n    },\r\n    components: { SeriesDetails }\r\n})\r\nexport default class Popup extends Vue {\r\n    media!: ActivityMedia;\r\n    state = store.state;\r\n\r\n    close(): void {\r\n        this.$emit('close');\r\n    }\r\n}\r\n","import { render } from \"./Popup.vue?vue&type=template&id=fbd54c8e&scoped=true\"\nimport script from \"./Popup.vue?vue&type=script&lang=ts\"\nexport * from \"./Popup.vue?vue&type=script&lang=ts\"\n\nimport \"./Popup.vue?vue&type=style&index=0&id=fbd54c8e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-fbd54c8e\"\n\nexport default script","<template>\r\n    <div class=\"pager\">\r\n        <button class=\"pager-button pager-arrow\" @click=\"$emit('set', current-1)\">\r\n            <font-awesome-icon icon=\"chevron-left\"></font-awesome-icon>\r\n        </button>\r\n        <button class=\"pager-button\" v-for=\"i in max\" :key=\"i\" @click=\"$emit('set', i-1)\" :class=\"{ selected: current == i-1 }\">\r\n            {{ i }}\r\n        </button>\r\n        <button class=\"pager-button pager-arrow\" @click=\"$emit('set', current+1)\">\r\n            <font-awesome-icon icon=\"chevron-right\"></font-awesome-icon>\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        current: Number,\r\n        max: Number\r\n    }\r\n})\r\nexport default class Pagination extends Vue {\r\n    current!: number;\r\n    max!: number;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.pager {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.pager-button {\r\n    appearance: none;\r\n    outline: none;\r\n    border: none;\r\n    color: inherit;\r\n    background: inherit;\r\n    font: inherit;\r\n\r\n    padding: 8px;\r\n    margin: 4px 2px;\r\n\r\n    text-align: center;\r\n    border-radius: 3px;\r\n\r\n    font-weight: 500;\r\n\r\n    cursor: arrow;\r\n\r\n    transition: background .2s ease;\r\n\r\n    &:not(.selected):hover {\r\n        background: var(--color-selected-background);\r\n    }\r\n}\r\n\r\n.pager-arrow {\r\n    padding: 8px 24px;\r\n    margin: 4px;\r\n    background: var(--color-background-darker);\r\n}\r\n\r\n.selected {\r\n    background: var(--color-selected-background);\r\n    color: var(--color-selected-text)\r\n}\r\n</style>","\r\nimport { Options, Vue } from 'vue-class-component';\r\n\r\n@Options({\r\n    props: {\r\n        current: Number,\r\n        max: Number\r\n    }\r\n})\r\nexport default class Pagination extends Vue {\r\n    current!: number;\r\n    max!: number;\r\n}\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=3be507c1&scoped=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=ts\"\nexport * from \"./Pagination.vue?vue&type=script&lang=ts\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=3be507c1&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3be507c1\"\n\nexport default script","\r\nimport { defineComponent } from \"vue\";\r\n\r\nimport store from '@/store/store';\r\nimport { fetchMediaList } from \"@/store/lists\";\r\nimport { prettyDate } from \"@/store/helpers\";\r\n\r\nimport { ActivityMedia } from \"@/interfaces/activity\";\r\nimport { Filter } from '@/interfaces/filters';\r\n\r\nimport Popup from './Popup.vue';\r\nimport Pagination from './Pagination.vue';\r\n\r\nexport default defineComponent({\r\n    components: { Popup, Pagination },\r\n    data() {\r\n        return {\r\n            state: store.state,\r\n            prettyDate: prettyDate,\r\n\r\n            loading: true,\r\n            displayCover: -1,\r\n\r\n            showPopup: false,\r\n            popupMedia: {} as ActivityMedia,\r\n\r\n            pageSize: 100, // size of one page\r\n            currentPage: 0, // we're using computer-friendly numbers here\r\n            listLength: 0,\r\n\r\n            query: \"\",\r\n            filters: [\r\n                {\r\n                    name: \"Status\",\r\n                    key: \"status\",\r\n                    type: \"both\",\r\n                    values: [\r\n                        {\r\n                            animeName: \"Watching\",\r\n                            mangaName: \"Reading\",\r\n                            key: \"CURRENT\"\r\n                        },\r\n                        {\r\n                            animeName: \"Rewatching\",\r\n                            mangaName: \"Rereading\",\r\n                            key: \"REPEATING\"\r\n                        },\r\n                        {\r\n                            name: \"Completed\",\r\n                            key: \"COMPLETED\"\r\n                        },\r\n                        {\r\n                            name: \"Planning\",\r\n                            key: \"PLANNING\"\r\n                        },\r\n                        {\r\n                            name: \"Dropped\",\r\n                            key: \"DROPPED\"\r\n                        },\r\n                        {\r\n                            name: \"Paused\",\r\n                            key: \"PAUSED\"\r\n                        }\r\n                    ],\r\n                    checked: [\"COMPLETED\", \"CURRENT\", \"REPEATING\"]\r\n                },\r\n                {\r\n                    name: \"Type\",\r\n                    key: \"format\",\r\n                    type: \"anime\",\r\n                    values: [\r\n                        {\r\n                            name: \"TV\",\r\n                            key: \"TV\"\r\n                        },\r\n                        {\r\n                            name: \"TV Short\",\r\n                            key: \"TV_SHORT\"\r\n                        },\r\n                        {\r\n                            name: \"Movie\",\r\n                            key: \"MOVIE\"\r\n                        },\r\n                        {\r\n                            name: \"Special\",\r\n                            key: \"SPECIAL\"\r\n                        },\r\n                        {\r\n                            name: \"OVA\",\r\n                            key: \"OVA\"\r\n                        },\r\n                        {\r\n                            name: \"ONA\",\r\n                            key: \"ONA\"\r\n                        },\r\n                        {\r\n                            name: \"Music\",\r\n                            key: \"MUSIC\"\r\n                        }\r\n                    ],\r\n                    checked: [\"TV\", \"TV_SHORT\", \"MOVIE\", \"SPECIAL\", \"OVA\", \"ONA\", \"MUSIC\"]\r\n                },\r\n                {\r\n                    name: \"Type\",\r\n                    key: \"format\",\r\n                    type: \"manga\",\r\n                    values: [\r\n                        {\r\n                            name: \"Manga\",\r\n                            key: \"MANGA\"\r\n                        },\r\n                        {\r\n                            name: \"Light novel\",\r\n                            key: \"NOVEL\"\r\n                        },\r\n                        {\r\n                            name: \"One shot\",\r\n                            key: \"ONE_SHOT\"\r\n                        }\r\n                    ],\r\n                    checked: [\"MANGA\", \"NOVEL\", \"ONE_SHOT\"]\r\n                }\r\n            ]\r\n        }\r\n    },\r\n\r\n    created() {\r\n        this.fetchData();\r\n    },\r\n\r\n    watch: {\r\n        '$route': 'fetchData',\r\n        query() {\r\n            this.currentPage = 0;\r\n\r\n            // Calculate new length\r\n            this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n        }\r\n    },\r\n\r\n    computed: {\r\n        list(): ActivityMedia[] {\r\n            const raw: ActivityMedia[] = (this.$route.name == \"AnimeList\" ? this.state.animeList : this.state.mangaList);\r\n            \r\n            // For starters, we filter the list by user's search query (if there's none, this function will just do nothing)\r\n            \r\n            let filtered: ActivityMedia[] = raw.filter(item => item.title.toLowerCase().indexOf(this.query.toLowerCase()) > -1);\r\n            \r\n            // Loop through each applicable filter and apply it\r\n            this.filteredFilters.forEach(filter => {\r\n                filtered = filtered.filter((x: any) => filter.checked.indexOf(x[filter.key]) > -1)\r\n            })\r\n            return filtered;\r\n        },\r\n        paginatedList(): ActivityMedia[] {\r\n            return this.list.slice(this.currentPage * this.pageSize, (this.currentPage + 1) * this.pageSize)\r\n        },\r\n        filteredFilters(): Filter[] {\r\n            return this.filters.filter(filter => {\r\n                if(this.$route.name == \"AnimeList\" && filter.type == \"manga\") return false;\r\n                else if(this.$route.name == \"MangaList\" && filter.type == \"anime\") return false;\r\n                else return true;\r\n            });\r\n        }\r\n    },\r\n\r\n    directives: {\r\n        lazyload: {\r\n            mounted(el): any {\r\n                el.src = el.dataset.src;\r\n            }\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        fetchData() {\r\n            // setTimeout is here, because without it, the DOM has a short lag (when the list is large, at least.). That way, the DOM has a lag as well,\r\n            // but it's once 'List' component is visible to the user, and \"Loading...\" label is displayed, which surely improves user experience.\r\n            this.loading = true;\r\n            this.currentPage = 0;\r\n            this.listLength = 0;\r\n            setTimeout(() => {\r\n                if(this.$route.name == \"AnimeList\") {\r\n                    if(this.state.animeList.length == 0) {\r\n                        fetchMediaList(\"ANIME\")\r\n                        .then(list => {\r\n                            store.setAnimeList(list);\r\n                            this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n                            this.loading = false;\r\n                        })\r\n                    } else {\r\n                        this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n                        this.loading = false;\r\n                    }\r\n                } else if (this.$route.name == \"MangaList\") {\r\n                    if(this.state.mangaList.length == 0) {\r\n                        fetchMediaList(\"MANGA\")\r\n                        .then(list => {\r\n                            store.setMangaList(list);\r\n                            this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n                            this.loading = false;\r\n\r\n                        })\r\n                    } else {\r\n                        this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n                        this.loading = false;\r\n                    }\r\n                }\r\n            }, 100)\r\n            \r\n        },\r\n        popupShow(media: ActivityMedia) {\r\n            this.showPopup = true;\r\n            this.popupMedia = media;\r\n        },\r\n        popupHide() {\r\n            this.showPopup = false;\r\n        },\r\n        toggleFilter(index: number, key: string) {\r\n            // Reset view to first page\r\n            this.currentPage = 0;\r\n\r\n            const indexof = this.filteredFilters[index].checked.indexOf(key);\r\n            if(indexof > -1) {\r\n                this.filteredFilters[index].checked.splice(indexof, 1);\r\n            } else {\r\n                this.filteredFilters[index].checked.push(key);\r\n            }\r\n\r\n            // Calculate new length\r\n            this.listLength = Math.ceil(this.list.length / this.pageSize);\r\n        },\r\n        navigate(set: number) {\r\n            if(set < 0) return;\r\n            if(set >= this.listLength) return;\r\n            this.currentPage = set;\r\n        },\r\n        prettyFormat(format: string) {\r\n            if(!format) return '';\r\n            else if(format == 'TV_SHORT') return 'TV Short';\r\n            else if([\"TV\", \"OVA\", \"ONA\"].indexOf(format) > -1) return format; \r\n            else return format[0] + format.slice(1).replace(\"_\", \" \").toLowerCase();\r\n        },\r\n        prettyStatus(status: string) {\r\n            return status[0] + status.slice(1).toLowerCase();\r\n        },\r\n        resolveIcon(status: string) {\r\n            switch(status) {\r\n                case 'CURRENT':\r\n                case 'REPEATING':\r\n                    return 'play'\r\n                case 'DROPPED':\r\n                    return 'stop'\r\n                case 'PAUSED':\r\n                    return 'pause'\r\n                case 'COMPLETED':\r\n                    return 'check'\r\n                default:\r\n                    return 'clock'\r\n                }\r\n        },\r\n        resolveColor(status: string) {\r\n            switch(status) {\r\n                case 'CURRENT':\r\n                    return '#2f754e'\r\n                case 'DROPPED':\r\n                    return '#a44646'\r\n                case 'PAUSED':\r\n                    return '#ad8015'\r\n                case 'COMPLETED':\r\n                    return '#14699b'\r\n                default:\r\n                    return '#595f6e'\r\n            }\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./List.vue?vue&type=template&id=731f0c86&scoped=true\"\nimport script from \"./List.vue?vue&type=script&lang=ts\"\nexport * from \"./List.vue?vue&type=script&lang=ts\"\n\nimport \"./List.vue?vue&type=style&index=0&id=731f0c86&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-731f0c86\"\n\nexport default script","<template>\r\n    <div class=\"history\">\r\n        <transition name=\"popup-backdrop\">\r\n            <div class=\"popup-backdrop\" v-if=\"showPopup\" @click=\"popupHide\">\r\n                <transition appear name=\"popup\">\r\n                    <Popup :media=\"popupMedia\" @close=\"popupHide\"></Popup>\r\n                </transition>\r\n            </div>\r\n        </transition>\r\n        <div class=\"loading\" v-if=\"loading\">\r\n            Loading...\r\n        </div>\r\n        <div v-else>\r\n            <div class=\"header header-desktop\">\r\n                <div class=\"month\"></div>\r\n                <div class=\"month\">Jan</div>\r\n                <div class=\"month\">Feb</div>\r\n                <div class=\"month\">Mar</div>\r\n                <div class=\"month\">Apr</div>\r\n                <div class=\"month\">May</div>\r\n                <div class=\"month\">Jun</div>\r\n                <div class=\"month\">Jul</div>\r\n                <div class=\"month\">Aug</div>\r\n                <div class=\"month\">Sep</div>\r\n                <div class=\"month\">Oct</div>\r\n                <div class=\"month\">Nov</div>\r\n                <div class=\"month\">Dec</div>\r\n            </div>\r\n            <div class=\"header header-mobile\">\r\n                <div class=\"month\"></div>\r\n                <div class=\"month\" v-for=\"i in 12\" :key=\"i\">{{ i }}</div>\r\n            </div>\r\n            <div class=\"row\" v-for=\"year in years\" :key=\"year\">\r\n                <div class=\"col-year\">{{ year.year }}</div>\r\n                <div class=\"col\" v-for=\"(month, i) in 12\" :key=\"i\" @click=\"load(month, year.year)\">\r\n                    <div class=\"col-bg\" :style=\"{ opacity: year.months[i] ? getOpacity(year.months[i].count) : 0 }\"></div>\r\n                    <div class=\"col-label\">{{ year.months[i] ? year.months[i].count : 0 }}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"missing\" v-if=\"unknownCount\">There are {{ unknownCount }} titles with unknown completed date.</div>\r\n            <div class=\"details\">\r\n                <div class=\"details-content\" v-if=\"selectedMonth && selectedYear\">\r\n                    <div class=\"details-title\">{{ $route.name == \"AnimeHistory\" ? \"Anime\" : \"Manga\" }} completed in {{ monthNames[selectedMonth-1] }} of {{ selectedYear }} ({{ selected.length }})</div>\r\n                    <div class=\"details-list\">\r\n                        <div class=\"details-entry\" v-for=\"entry in selected\" :key=\"entry.id\" @click=\"popupShow(entry)\">\r\n                            <img class=\"entry-image\" :src=\"entry.cover\">\r\n                            <div class=\"entry-title\">\r\n                                {{ entry.title }}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div v-else>\r\n                    Choose a month above to see details on it.\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { ActivityMedia } from '@/interfaces/activity';\r\nimport { fetchMediaList } from '@/store/lists';\r\nimport store, { monthNames } from '@/store/store';\r\nimport { defineComponent } from 'vue';\r\n\r\nimport Popup from '@/components/List/Popup.vue';\r\n\r\ninterface Year {\r\n    year: number;\r\n    months: {\r\n        count: number;\r\n    }[];\r\n}\r\n\r\nexport default defineComponent({\r\n    components: { Popup },\r\n    data() {\r\n        return {\r\n            state: store.state,\r\n            loading: false,\r\n            monthNames,\r\n\r\n            years: [] as Year[],\r\n            unknownCount: 0,\r\n            max: 0,\r\n\r\n            showPopup: false,\r\n            popupMedia: {} as ActivityMedia,\r\n\r\n            selected: [] as ActivityMedia[],\r\n            selectedMonth: 0,\r\n            selectedYear: 0,\r\n        }\r\n    },\r\n\r\n    created() {\r\n        this.fetchData();\r\n    },\r\n\r\n    watch: {\r\n        '$route': 'fetchData'\r\n    },\r\n\r\n    computed: {\r\n        list(): ActivityMedia[] {\r\n            const filtered: ActivityMedia[] = (this.$route.name == \"AnimeHistory\" ? this.state.animeList : this.state.mangaList);\r\n\r\n            return filtered;\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        fetchData() {\r\n            this.clear();\r\n            this.loading = true;\r\n            if(this.$route.name == \"AnimeHistory\") {\r\n                if(this.state.animeList.length == 0) {\r\n                    fetchMediaList(\"ANIME\")\r\n                    .then(list => {\r\n                        store.setAnimeList(list);\r\n                        this.parseData();\r\n                    })\r\n                } else {\r\n                    this.parseData();\r\n                }\r\n            } else if (this.$route.name == \"MangaHistory\") {\r\n                if(this.state.mangaList.length == 0) {\r\n                    fetchMediaList(\"MANGA\")\r\n                    .then(list => {\r\n                        store.setMangaList(list);\r\n                        this.parseData();\r\n                    })\r\n                } else {\r\n                    this.parseData();\r\n                }\r\n            }\r\n        },\r\n\r\n        parseData() {\r\n            let currentYear = new Date().getFullYear();\r\n\r\n            let progress = true;\r\n\r\n            while(progress) {\r\n                const zeros = this.checkYear(currentYear);\r\n                if(zeros < 12) {\r\n                    currentYear--;\r\n                } else {\r\n                    const lesser = this.list.filter(x => x.completed && x.completed?.y < currentYear && x.completed?.y != 0);\r\n                    if(lesser.length == 0) {\r\n                        progress = false;\r\n                        this.years.pop(); // the last, empty year is appended to array of years, so we have to remove it manually here.\r\n                    } else {\r\n                        currentYear--;\r\n                    }\r\n                }\r\n\r\n                if(currentYear < 2000) {\r\n                    progress = false;\r\n                }\r\n            }\r\n            \r\n            this.unknownCount = this.list.filter(x => x.status == \"COMPLETED\" && x.completed?.y == 0).length;\r\n\r\n            this.loading = false;\r\n        },\r\n    \r\n        checkYear(year: number): number {\r\n            let zeroCount = 0;\r\n            for (let i = 1; i < 13; i++) {\r\n                const targetYear = this.years.find(m => m.year == year);\r\n                const filtered = this.list.filter(x => x.completed?.m == i && x.completed?.y == year);\r\n\r\n                if(filtered.length == 0) zeroCount++;\r\n                if(filtered.length > this.max) this.max = filtered.length;\r\n                if(targetYear) {\r\n                    targetYear.months[i-1] = {\r\n                        count: filtered.length\r\n                    }\r\n                } else {\r\n                    const obj: Year = {\r\n                        year: year,\r\n                        months: []\r\n                    }\r\n\r\n                    obj.months[i-1] = {\r\n                        count: filtered.length\r\n                    }\r\n\r\n                    this.years.push(obj);\r\n                }\r\n            }\r\n\r\n            return zeroCount;\r\n        },\r\n\r\n        popupShow(media: ActivityMedia) {\r\n            this.showPopup = true;\r\n            this.popupMedia = media;\r\n        },\r\n\r\n        popupHide() {\r\n            this.showPopup = false;\r\n        },\r\n\r\n        load(month: number, year: number) {\r\n            const matches = this.list.filter(entry => entry.completed?.m == month && entry.completed?.y == year);\r\n            this.selectedMonth = month;\r\n            this.selectedYear = year;\r\n            this.selected = matches;\r\n        },\r\n\r\n        clear() {\r\n            this.years = [];\r\n            this.max = 0;\r\n            this.unknownCount = 0;\r\n\r\n            this.selected = [];\r\n            this.selectedMonth = 0;\r\n            this.selectedYear = 0;\r\n        },\r\n\r\n        getOpacity(count: number): number {\r\n            const ratio = count / this.max;\r\n\r\n            return ratio;\r\n        }\r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.row, .header {\r\n    display: grid;\r\n    grid-template-columns: repeat(13, 1fr);\r\n}\r\n\r\n.col, .col-year {\r\n    margin: 3px;\r\n    \r\n    border-radius: 4px;\r\n    text-align: center;\r\n    font-weight: 500;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n\r\n    cursor: pointer;\r\n    position: relative;\r\n\r\n    transition: .2s;\r\n\r\n    border: 1px solid transparent;\r\n}\r\n\r\n.col:hover {\r\n    border: 1px solid var(--color-selected-text);\r\n}\r\n\r\n.col-bg {\r\n    background: var(--color-background-day);\r\n    position: absolute;\r\n    border-radius: 4px;\r\n\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n\r\n    z-index: 0;\r\n}\r\n\r\n.col-label {\r\n    z-index: 1;\r\n}\r\n\r\n.missing {\r\n    margin: 10px;\r\n    font-weight: 500;\r\n    text-align: center;\r\n}\r\n\r\n.details {\r\n    margin: 10px;\r\n}\r\n\r\n.details-entry {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    margin: 10px;\r\n\r\n    transition: .2s;\r\n\r\n    &:hover {\r\n        color: var(--color-text-blue);\r\n    }\r\n}\r\n\r\n.entry-image {\r\n    width: 32px;\r\n    height: 32px;\r\n    min-width: 32px;\r\n\r\n    border-radius: var(--radius);\r\n    object-fit: cover;\r\n\r\n    margin: 0 12px;\r\n}\r\n\r\n.entry-title {\r\n    cursor: pointer;\r\n}\r\n\r\n.month {\r\n    text-align: center;\r\n    font-weight: 600;\r\n    border-bottom: 1px solid var(--color-background-border);\r\n}\r\n@media screen and (min-width: 651px) {\r\n    .col, .col-year {\r\n        padding: 12px 12px 8px 12px;\r\n    }\r\n\r\n    .month {\r\n        padding: 12px;\r\n    }\r\n\r\n    .header-mobile {\r\n        display: none;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 650px) {\r\n    .col-label {\r\n        visibility: hidden;\r\n    }\r\n\r\n    .header-desktop {\r\n        display: none;\r\n    }\r\n\r\n    .month {\r\n        font-size: .86em;\r\n    }\r\n\r\n    .month:first-child {\r\n        width: 40px;\r\n        margin: 3px;\r\n    }\r\n}\r\n</style>","\r\nimport { ActivityMedia } from '@/interfaces/activity';\r\nimport { fetchMediaList } from '@/store/lists';\r\nimport store, { monthNames } from '@/store/store';\r\nimport { defineComponent } from 'vue';\r\n\r\nimport Popup from '@/components/List/Popup.vue';\r\n\r\ninterface Year {\r\n    year: number;\r\n    months: {\r\n        count: number;\r\n    }[];\r\n}\r\n\r\nexport default defineComponent({\r\n    components: { Popup },\r\n    data() {\r\n        return {\r\n            state: store.state,\r\n            loading: false,\r\n            monthNames,\r\n\r\n            years: [] as Year[],\r\n            unknownCount: 0,\r\n            max: 0,\r\n\r\n            showPopup: false,\r\n            popupMedia: {} as ActivityMedia,\r\n\r\n            selected: [] as ActivityMedia[],\r\n            selectedMonth: 0,\r\n            selectedYear: 0,\r\n        }\r\n    },\r\n\r\n    created() {\r\n        this.fetchData();\r\n    },\r\n\r\n    watch: {\r\n        '$route': 'fetchData'\r\n    },\r\n\r\n    computed: {\r\n        list(): ActivityMedia[] {\r\n            const filtered: ActivityMedia[] = (this.$route.name == \"AnimeHistory\" ? this.state.animeList : this.state.mangaList);\r\n\r\n            return filtered;\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        fetchData() {\r\n            this.clear();\r\n            this.loading = true;\r\n            if(this.$route.name == \"AnimeHistory\") {\r\n                if(this.state.animeList.length == 0) {\r\n                    fetchMediaList(\"ANIME\")\r\n                    .then(list => {\r\n                        store.setAnimeList(list);\r\n                        this.parseData();\r\n                    })\r\n                } else {\r\n                    this.parseData();\r\n                }\r\n            } else if (this.$route.name == \"MangaHistory\") {\r\n                if(this.state.mangaList.length == 0) {\r\n                    fetchMediaList(\"MANGA\")\r\n                    .then(list => {\r\n                        store.setMangaList(list);\r\n                        this.parseData();\r\n                    })\r\n                } else {\r\n                    this.parseData();\r\n                }\r\n            }\r\n        },\r\n\r\n        parseData() {\r\n            let currentYear = new Date().getFullYear();\r\n\r\n            let progress = true;\r\n\r\n            while(progress) {\r\n                const zeros = this.checkYear(currentYear);\r\n                if(zeros < 12) {\r\n                    currentYear--;\r\n                } else {\r\n                    const lesser = this.list.filter(x => x.completed && x.completed?.y < currentYear && x.completed?.y != 0);\r\n                    if(lesser.length == 0) {\r\n                        progress = false;\r\n                        this.years.pop(); // the last, empty year is appended to array of years, so we have to remove it manually here.\r\n                    } else {\r\n                        currentYear--;\r\n                    }\r\n                }\r\n\r\n                if(currentYear < 2000) {\r\n                    progress = false;\r\n                }\r\n            }\r\n            \r\n            this.unknownCount = this.list.filter(x => x.status == \"COMPLETED\" && x.completed?.y == 0).length;\r\n\r\n            this.loading = false;\r\n        },\r\n    \r\n        checkYear(year: number): number {\r\n            let zeroCount = 0;\r\n            for (let i = 1; i < 13; i++) {\r\n                const targetYear = this.years.find(m => m.year == year);\r\n                const filtered = this.list.filter(x => x.completed?.m == i && x.completed?.y == year);\r\n\r\n                if(filtered.length == 0) zeroCount++;\r\n                if(filtered.length > this.max) this.max = filtered.length;\r\n                if(targetYear) {\r\n                    targetYear.months[i-1] = {\r\n                        count: filtered.length\r\n                    }\r\n                } else {\r\n                    const obj: Year = {\r\n                        year: year,\r\n                        months: []\r\n                    }\r\n\r\n                    obj.months[i-1] = {\r\n                        count: filtered.length\r\n                    }\r\n\r\n                    this.years.push(obj);\r\n                }\r\n            }\r\n\r\n            return zeroCount;\r\n        },\r\n\r\n        popupShow(media: ActivityMedia) {\r\n            this.showPopup = true;\r\n            this.popupMedia = media;\r\n        },\r\n\r\n        popupHide() {\r\n            this.showPopup = false;\r\n        },\r\n\r\n        load(month: number, year: number) {\r\n            const matches = this.list.filter(entry => entry.completed?.m == month && entry.completed?.y == year);\r\n            this.selectedMonth = month;\r\n            this.selectedYear = year;\r\n            this.selected = matches;\r\n        },\r\n\r\n        clear() {\r\n            this.years = [];\r\n            this.max = 0;\r\n            this.unknownCount = 0;\r\n\r\n            this.selected = [];\r\n            this.selectedMonth = 0;\r\n            this.selectedYear = 0;\r\n        },\r\n\r\n        getOpacity(count: number): number {\r\n            const ratio = count / this.max;\r\n\r\n            return ratio;\r\n        }\r\n    }\r\n})\r\n","import { render } from \"./History.vue?vue&type=template&id=3294c33b&scoped=true\"\nimport script from \"./History.vue?vue&type=script&lang=ts\"\nexport * from \"./History.vue?vue&type=script&lang=ts\"\n\nimport \"./History.vue?vue&type=style&index=0&id=3294c33b&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3294c33b\"\n\nexport default script","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport Special from '../views/Special.vue';\r\nimport User from '../views/User.vue';\r\n\r\nimport Help from '../components/Special/Help.vue';\r\nimport About from '../components/Special/About.vue';\r\nimport Main from '../components/User/Main.vue';\r\nimport List from '../components/List/List.vue';\r\nimport History from '../components/History/History.vue';\r\n\r\nconst routes: Array<RouteRecordRaw> = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    component: Home\r\n  },\r\n  {\r\n    path: '/s',\r\n    name: 'Special',\r\n    component: Special,\r\n    children: [\r\n      {\r\n        path: 'help',\r\n        component: Help\r\n      },\r\n      {\r\n        path: 'about',\r\n        component: About\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/:user',\r\n    name: 'User',\r\n    component: User,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: Main\r\n      },\r\n      {\r\n        path: 'list/anime',\r\n        component: List,\r\n        name: \"AnimeList\",\r\n        props: {\r\n          type: 'anime'\r\n        }\r\n      },\r\n      {\r\n        path: 'list/manga',\r\n        component: List,\r\n        name: \"MangaList\",\r\n        props: {\r\n          type: 'manga'\r\n        }\r\n      },\r\n      {\r\n        path: 'history/anime',\r\n        component: History,\r\n        name: \"AnimeHistory\"\r\n      },\r\n      {\r\n        path: 'history/manga',\r\n        component: History,\r\n        name: \"MangaHistory\"\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n})\r\n\r\nexport default router\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faBookOpen, faChevronRight, faCog, faInfo, faLightbulb, faMoon, faQuestionCircle, faRandom, faList, faUserCircle, faChevronLeft, faTimes, faHistory, faPlay, faStop, faPause, faCheck, faClock, faBars, faRedoAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\r\n\r\nlibrary.add(faCog, faChevronLeft, faChevronRight, faQuestionCircle, faMoon, faLightbulb, faInfo, faUserCircle, faBookOpen, faList, faRandom, faTimes, faHistory, faPlay, faStop, faPause, faCheck, faClock, faBars, faRedoAlt)\r\n\r\ncreateApp(App).use(router).component('font-awesome-icon', FontAwesomeIcon).mount('#app')\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Logo.vue?vue&type=style&index=0&id=0a9f85d1&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tooltip.vue?vue&type=style&index=0&id=b4062280&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Help.vue?vue&type=style&index=0&id=a019906c&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Special.vue?vue&type=style&index=0&id=287ece95&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Pagination.vue?vue&type=style&index=0&id=3be507c1&lang=scss&scoped=true\""],"sourceRoot":""}